(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function NA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Yd={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function DA(){if(WE)return Se;WE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,N={};function j(x,J,se){this.props=x,this.context=J,this.refs=N,this.updater=se||V}j.prototype.isReactComponent={},j.prototype.setState=function(x,J){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,J,"setState")},j.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ee(){}ee.prototype=j.prototype;function te(x,J,se){this.props=x,this.context=J,this.refs=N,this.updater=se||V}var oe=te.prototype=new ee;oe.constructor=te,F(oe,j.prototype),oe.isPureReactComponent=!0;var Ae=Array.isArray,me={H:null,A:null,T:null,S:null,V:null},Pe=Object.prototype.hasOwnProperty;function M(x,J,se,ne,ge,we){return se=we.ref,{$$typeof:i,type:x,key:J,ref:se!==void 0?se:null,props:we}}function R(x,J){return M(x.type,J,void 0,void 0,void 0,x.props)}function I(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function O(x){var J={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(se){return J[se]})}var L=/\/+/g;function U(x,J){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):J.toString(36)}function D(){}function kt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(J){x.status==="pending"&&(x.status="fulfilled",x.value=J)},function(J){x.status==="pending"&&(x.status="rejected",x.reason=J)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function st(x,J,se,ne,ge){var we=typeof x;(we==="undefined"||we==="boolean")&&(x=null);var be=!1;if(x===null)be=!0;else switch(we){case"bigint":case"string":case"number":be=!0;break;case"object":switch(x.$$typeof){case i:case e:be=!0;break;case b:return be=x._init,st(be(x._payload),J,se,ne,ge)}}if(be)return ge=ge(x),be=ne===""?"."+U(x,0):ne,Ae(ge)?(se="",be!=null&&(se=be.replace(L,"$&/")+"/"),st(ge,J,se,"",function(Xn){return Xn})):ge!=null&&(I(ge)&&(ge=R(ge,se+(ge.key==null||x&&x.key===ge.key?"":(""+ge.key).replace(L,"$&/")+"/")+be)),J.push(ge)),1;be=0;var Dt=ne===""?".":ne+":";if(Ae(x))for(var We=0;We<x.length;We++)ne=x[We],we=Dt+U(ne,We),be+=st(ne,J,se,we,ge);else if(We=T(x),typeof We=="function")for(x=We.call(x),We=0;!(ne=x.next()).done;)ne=ne.value,we=Dt+U(ne,We++),be+=st(ne,J,se,we,ge);else if(we==="object"){if(typeof x.then=="function")return st(kt(x),J,se,ne,ge);throw J=String(x),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return be}function Y(x,J,se){if(x==null)return x;var ne=[],ge=0;return st(x,ne,"","",function(we){return J.call(se,we,ge++)}),ne}function ae(x){if(x._status===-1){var J=x._result;J=J(),J.then(function(se){(x._status===0||x._status===-1)&&(x._status=1,x._result=se)},function(se){(x._status===0||x._status===-1)&&(x._status=2,x._result=se)}),x._status===-1&&(x._status=0,x._result=J)}if(x._status===1)return x._result.default;throw x._result}var pe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Be(){}return Se.Children={map:Y,forEach:function(x,J,se){Y(x,function(){J.apply(this,arguments)},se)},count:function(x){var J=0;return Y(x,function(){J++}),J},toArray:function(x){return Y(x,function(J){return J})||[]},only:function(x){if(!I(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Se.Component=j,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=te,Se.StrictMode=a,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me,Se.__COMPILER_RUNTIME={__proto__:null,c:function(x){return me.H.useMemoCache(x)}},Se.cache=function(x){return function(){return x.apply(null,arguments)}},Se.cloneElement=function(x,J,se){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ne=F({},x.props),ge=x.key,we=void 0;if(J!=null)for(be in J.ref!==void 0&&(we=void 0),J.key!==void 0&&(ge=""+J.key),J)!Pe.call(J,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&J.ref===void 0||(ne[be]=J[be]);var be=arguments.length-2;if(be===1)ne.children=se;else if(1<be){for(var Dt=Array(be),We=0;We<be;We++)Dt[We]=arguments[We+2];ne.children=Dt}return M(x.type,ge,void 0,void 0,we,ne)},Se.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Se.createElement=function(x,J,se){var ne,ge={},we=null;if(J!=null)for(ne in J.key!==void 0&&(we=""+J.key),J)Pe.call(J,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ge[ne]=J[ne]);var be=arguments.length-2;if(be===1)ge.children=se;else if(1<be){for(var Dt=Array(be),We=0;We<be;We++)Dt[We]=arguments[We+2];ge.children=Dt}if(x&&x.defaultProps)for(ne in be=x.defaultProps,be)ge[ne]===void 0&&(ge[ne]=be[ne]);return M(x,we,void 0,void 0,null,ge)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(x){return{$$typeof:m,render:x}},Se.isValidElement=I,Se.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:ae}},Se.memo=function(x,J){return{$$typeof:E,type:x,compare:J===void 0?null:J}},Se.startTransition=function(x){var J=me.T,se={};me.T=se;try{var ne=x(),ge=me.S;ge!==null&&ge(se,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Be,pe)}catch(we){pe(we)}finally{me.T=J}},Se.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()},Se.use=function(x){return me.H.use(x)},Se.useActionState=function(x,J,se){return me.H.useActionState(x,J,se)},Se.useCallback=function(x,J){return me.H.useCallback(x,J)},Se.useContext=function(x){return me.H.useContext(x)},Se.useDebugValue=function(){},Se.useDeferredValue=function(x,J){return me.H.useDeferredValue(x,J)},Se.useEffect=function(x,J,se){var ne=me.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(x,J)},Se.useId=function(){return me.H.useId()},Se.useImperativeHandle=function(x,J,se){return me.H.useImperativeHandle(x,J,se)},Se.useInsertionEffect=function(x,J){return me.H.useInsertionEffect(x,J)},Se.useLayoutEffect=function(x,J){return me.H.useLayoutEffect(x,J)},Se.useMemo=function(x,J){return me.H.useMemo(x,J)},Se.useOptimistic=function(x,J){return me.H.useOptimistic(x,J)},Se.useReducer=function(x,J,se){return me.H.useReducer(x,J,se)},Se.useRef=function(x){return me.H.useRef(x)},Se.useState=function(x){return me.H.useState(x)},Se.useSyncExternalStore=function(x,J,se){return me.H.useSyncExternalStore(x,J,se)},Se.useTransition=function(){return me.H.useTransition()},Se.version="19.1.1",Se}var JE;function Xm(){return JE||(JE=1,Yd.exports=DA()),Yd.exports}var K=Xm();const p=NA(K);var Qd={exports:{}},Pl={},Xd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function xA(){return ev||(ev=1,function(i){function e(Y,ae){var pe=Y.length;Y.push(ae);e:for(;0<pe;){var Be=pe-1>>>1,x=Y[Be];if(0<o(x,ae))Y[Be]=ae,Y[pe]=x,pe=Be;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var ae=Y[0],pe=Y.pop();if(pe!==ae){Y[0]=pe;e:for(var Be=0,x=Y.length,J=x>>>1;Be<J;){var se=2*(Be+1)-1,ne=Y[se],ge=se+1,we=Y[ge];if(0>o(ne,pe))ge<x&&0>o(we,ne)?(Y[Be]=we,Y[ge]=pe,Be=ge):(Y[Be]=ne,Y[se]=pe,Be=se);else if(ge<x&&0>o(we,pe))Y[Be]=we,Y[ge]=pe,Be=ge;else break e}}return ae}function o(Y,ae){var pe=Y.sortIndex-ae.sortIndex;return pe!==0?pe:Y.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],E=[],b=1,S=null,T=3,V=!1,F=!1,N=!1,j=!1,ee=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function Ae(Y){for(var ae=n(E);ae!==null;){if(ae.callback===null)a(E);else if(ae.startTime<=Y)a(E),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=n(E)}}function me(Y){if(N=!1,Ae(Y),!F)if(n(y)!==null)F=!0,Pe||(Pe=!0,U());else{var ae=n(E);ae!==null&&st(me,ae.startTime-Y)}}var Pe=!1,M=-1,R=5,I=-1;function O(){return j?!0:!(i.unstable_now()-I<R)}function L(){if(j=!1,Pe){var Y=i.unstable_now();I=Y;var ae=!0;try{e:{F=!1,N&&(N=!1,te(M),M=-1),V=!0;var pe=T;try{t:{for(Ae(Y),S=n(y);S!==null&&!(S.expirationTime>Y&&O());){var Be=S.callback;if(typeof Be=="function"){S.callback=null,T=S.priorityLevel;var x=Be(S.expirationTime<=Y);if(Y=i.unstable_now(),typeof x=="function"){S.callback=x,Ae(Y),ae=!0;break t}S===n(y)&&a(y),Ae(Y)}else a(y);S=n(y)}if(S!==null)ae=!0;else{var J=n(E);J!==null&&st(me,J.startTime-Y),ae=!1}}break e}finally{S=null,T=pe,V=!1}ae=void 0}}finally{ae?U():Pe=!1}}}var U;if(typeof oe=="function")U=function(){oe(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,kt=D.port2;D.port1.onmessage=L,U=function(){kt.postMessage(null)}}else U=function(){ee(L,0)};function st(Y,ae){M=ee(function(){Y(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var ae=3;break;default:ae=T}var pe=T;T=ae;try{return Y()}finally{T=pe}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=T;T=Y;try{return ae()}finally{T=pe}},i.unstable_scheduleCallback=function(Y,ae,pe){var Be=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,Y){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=pe+x,Y={id:b++,callback:ae,priorityLevel:Y,startTime:pe,expirationTime:x,sortIndex:-1},pe>Be?(Y.sortIndex=pe,e(E,Y),n(y)===null&&Y===n(E)&&(N?(te(M),M=-1):N=!0,st(me,pe-Be))):(Y.sortIndex=x,e(y,Y),F||V||(F=!0,Pe||(Pe=!0,U()))),Y},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(Y){var ae=T;return function(){var pe=T;T=ae;try{return Y.apply(this,arguments)}finally{T=pe}}}}(Zd)),Zd}var tv;function PA(){return tv||(tv=1,Xd.exports=xA()),Xd.exports}var Wd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function OA(){if(nv)return Yt;nv=1;var i=Xm();function e(y){var E="https://react.dev/errors/"+y;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)E+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,E,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:E,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,E){if(y==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(y,E){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(y,E,null,b)},Yt.flushSync=function(y){var E=f.T,b=a.p;try{if(f.T=null,a.p=2,y)return y()}finally{f.T=E,a.p=b,a.d.f()}},Yt.preconnect=function(y,E){typeof y=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(y,E))},Yt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Yt.preinit=function(y,E){if(typeof y=="string"&&E&&typeof E.as=="string"){var b=E.as,S=m(b,E.crossOrigin),T=typeof E.integrity=="string"?E.integrity:void 0,V=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;b==="style"?a.d.S(y,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:V}):b==="script"&&a.d.X(y,{crossOrigin:S,integrity:T,fetchPriority:V,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Yt.preinitModule=function(y,E){if(typeof y=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var b=m(E.as,E.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(y)},Yt.preload=function(y,E){if(typeof y=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var b=E.as,S=m(b,E.crossOrigin);a.d.L(y,b,{crossOrigin:S,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Yt.preloadModule=function(y,E){if(typeof y=="string")if(E){var b=m(E.as,E.crossOrigin);a.d.m(y,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:b,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(y)},Yt.requestFormReset=function(y){a.d.r(y)},Yt.unstable_batchedUpdates=function(y,E){return y(E)},Yt.useFormState=function(y,E,b){return f.H.useFormState(y,E,b)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var rv;function MA(){if(rv)return Wd.exports;rv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Wd.exports=OA(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function VA(){if(iv)return Pl;iv=1;var i=PA(),e=Xm(),n=MA();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(a(188))}function y(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,C=h.child;C;){if(C===s){_=!0,s=h,l=d;break}if(C===l){_=!0,l=h,s=d;break}C=C.sibling}if(!_){for(C=d.child;C;){if(C===s){_=!0,s=d,l=h;break}if(C===l){_=!0,l=d,s=h;break}C=C.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function kt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case j:return"Profiler";case N:return"StrictMode";case me:return"Suspense";case Pe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case oe:return(t.displayName||"Context")+".Provider";case te:return(t._context.displayName||"Context")+".Consumer";case Ae:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return r=t.displayName||null,r!==null?r:kt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return kt(t(r))}catch{}}return null}var st=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Be=[],x=-1;function J(t){return{current:t}}function se(t){0>x||(t.current=Be[x],Be[x]=null,x--)}function ne(t,r){x++,Be[x]=t.current,t.current=r}var ge=J(null),we=J(null),be=J(null),Dt=J(null);function We(t,r){switch(ne(be,r),ne(we,t),ne(ge,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?RE(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=RE(r),t=wE(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(ge),ne(ge,t)}function Xn(){se(ge),se(we),se(be)}function si(t){t.memoizedState!==null&&ne(Dt,t);var r=ge.current,s=wE(r,t.type);r!==s&&(ne(we,t),ne(ge,s))}function Sr(t){we.current===t&&(se(ge),se(we)),Dt.current===t&&(se(Dt),wl._currentValue=pe)}var ra=Object.prototype.hasOwnProperty,ia=i.unstable_scheduleCallback,aa=i.unstable_cancelCallback,Ao=i.unstable_shouldYield,yc=i.unstable_requestPaint,An=i.unstable_now,Kh=i.unstable_getCurrentPriorityLevel,So=i.unstable_ImmediatePriority,ts=i.unstable_UserBlockingPriority,sa=i.unstable_NormalPriority,Yh=i.unstable_LowPriority,ns=i.unstable_IdlePriority,Ro=i.log,Ec=i.unstable_setDisableYieldValue,ot=null,je=null;function dn(t){if(typeof Ro=="function"&&Ec(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(ot,t)}catch{}}var $t=Math.clz32?Math.clz32:oa,vc=Math.log,Qh=Math.LN2;function oa(t){return t>>>=0,t===0?32:31-(vc(t)/Qh|0)|0}var la=256,ca=4194304;function zn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rs(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var C=l&134217727;return C!==0?(l=C&~d,l!==0?h=zn(l):(_&=C,_!==0?h=zn(_):s||(s=C&~t,s!==0&&(h=zn(s))))):(C=l&~d,C!==0?h=zn(C):_!==0?h=zn(_):s||(s=l&~t,s!==0&&(h=zn(s)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:h}function ua(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function wo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var t=la;return la<<=1,(la&4194048)===0&&(la=256),t}function No(){var t=ca;return ca<<=1,(ca&62914560)===0&&(ca=4194304),t}function Rr(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function wr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Do(t,r,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var C=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(s=_&~s;0<s;){var Q=31-$t(s),Z=1<<Q;C[Q]=0,w[Q]=-1;var H=B[Q];if(H!==null)for(B[Q]=null,Q=0;Q<H.length;Q++){var G=H[Q];G!==null&&(G.lane&=-536870913)}s&=~Z}l!==0&&Zn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Zn(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-$t(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function xo(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-$t(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function is(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function li(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:$E(t.type))}function _c(t,r){var s=ae.p;try{return ae.p=t,r()}finally{ae.p=s}}var tt=Math.random().toString(36).slice(2),Ct="__reactFiber$"+tt,pt="__reactProps$"+tt,Sn="__reactContainer$"+tt,Po="__reactEvents$"+tt,Xh="__reactListeners$"+tt,ci="__reactHandles$"+tt,bc="__reactResources$"+tt,ha="__reactMarker$"+tt;function ui(t){delete t[Ct],delete t[pt],delete t[Po],delete t[Xh],delete t[ci]}function Ir(t){var r=t[Ct];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Sn]||s[Ct]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=xE(t);t!==null;){if(s=t[Ct])return s;t=xE(t)}return r}t=s,s=t.parentNode}return null}function Wn(t){if(t=t[Ct]||t[Sn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Jn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function en(t){var r=t[bc];return r||(r=t[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ut(t){t[ha]=!0}var Oo=new Set,as={};function qn(t,r){Nr(t,r),Nr(t+"Capture",r)}function Nr(t,r){for(as[t]=r,t=0;t<r.length;t++)Oo.add(r[t])}var Tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},fa={};function Ac(t){return ra.call(fa,t)?!0:ra.call(Cc,t)?!1:Tc.test(t)?fa[t]=!0:(Cc[t]=!0,!1)}function hi(t,r,s){if(Ac(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function er(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Ut(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}var da,Sc;function Dr(t){if(da===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);da=r&&r[1]||"",Sc=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+t+Sc}var ss=!1;function os(t,r){if(!t||ss)return"";ss=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var H=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){H=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){H=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],C=d[1];if(_&&C){var w=_.split(`
`),B=C.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===B.length)for(l=w.length-1,h=B.length-1;1<=l&&0<=h&&w[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==B[h]){var Q=`
`+w[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{ss=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Dr(s):""}function Mo(t){switch(t.tag){case 26:case 27:case 5:return Dr(t.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 15:return os(t.type,!1);case 11:return os(t.type.render,!1);case 1:return os(t.type,!0);case 31:return Dr("Activity");default:return""}}function ls(t){try{var r="";do r+=Mo(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zh(t){var r=Vo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function cs(t){t._valueTracker||(t._valueTracker=Zh(t))}function Lo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=Vo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function ma(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wh=/[\n"\\]/g;function gt(t){return t.replace(Wh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(t,r,s,l,h,d,_,C){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+tn(r)):t.value!==""+tn(r)&&(t.value=""+tn(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?fi(t,_,tn(r)):s!=null?fi(t,_,tn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+tn(C):t.removeAttribute("name")}function pa(t,r,s,l,h,d,_,C){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+tn(s):"",r=r!=null?""+tn(r):s,C||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=C?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function fi(t,r,s){r==="number"&&ma(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function xr(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+tn(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ke(t,r,s){if(r!=null&&(r=""+tn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+tn(s):""}function ga(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(st(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=tn(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Rn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var ya=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rc(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||ya.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function ko(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&Rc(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Rc(t,d,r[d])}function Uo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function us(t){return ef.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pr=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Or=null,Mr=null;function zo(t){var r=Wn(t);if(r&&(t=r.stateNode)){var s=t[pt]||null;e:switch(t=r.stateNode,r.type){case"input":if(mn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+gt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[pt]||null;if(!h)throw Error(a(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Lo(l)}break e;case"textarea":Ke(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&xr(t,!!s.multiple,r,!1)}}}var tr=!1;function wc(t,r,s){if(tr)return t(r,s);tr=!0;try{var l=t(r);return l}finally{if(tr=!1,(Or!==null||Mr!==null)&&(_u(),Or&&(r=Or,t=Mr,Mr=Or=null,zo(r),t)))for(r=0;r<t.length;r++)zo(t[r])}}function Ea(t,r){var s=t.stateNode;if(s===null)return null;var l=s[pt]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(Bn)try{var va={};Object.defineProperty(va,"passive",{get:function(){In=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{In=!1}var nr=null,di=null,Vr=null;function qo(){if(Vr)return Vr;var t,r=di,s=r.length,l,h="value"in nr?nr.value:nr.textContent,d=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===h[d-l];l++);return Vr=h.slice(t,1<l?1-l:void 0)}function rr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function Bo(){return!1}function xt(t){function r(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(s=t[C],this[C]=s?s(d):d[C]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ir:Bo,this.isPropagationStopped=Bo,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=xt(He),_a=b({},He,{view:0,detail:0}),Ic=xt(_a),fs,ds,ar,ba=b({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ar&&(ar&&t.type==="mousemove"?(fs=t.screenX-ar.screenX,ds=t.screenY-ar.screenY):ds=fs=0,ar=t),fs)},movementY:function(t){return"movementY"in t?t.movementY:ds}}),Nn=xt(ba),Nc=b({},ba,{dataTransfer:0}),tf=xt(Nc),Ta=b({},_a,{relatedTarget:0}),ms=xt(Ta),Fo=b({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),ps=xt(Fo),Dc=b({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gs=xt(Dc),nf=b({},He,{data:0}),Ho=xt(nf),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Pc[t])?!!r[t]:!1}function Aa(){return jo}var Oc=b({},_a,{key:function(t){if(t.key){var r=Ca[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=rr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(t){return t.type==="keypress"?rr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ys=xt(Oc),Mc=b({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=xt(Mc),Lr=b({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),Vc=xt(Lr),Lc=b({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),kc=xt(Lc),Uc=b({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Es=xt(Uc),nn=b({},He,{newState:0,oldState:0}),zc=xt(nn),qc=[9,13,27,32],sr=Bn&&"CompositionEvent"in window,u=null;Bn&&"documentMode"in document&&(u=document.documentMode);var g=Bn&&"TextEvent"in window&&!u,v=Bn&&(!sr||u&&8<u&&11>=u),A=" ",z=!1;function $(t,r){switch(t){case"keyup":return qc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function At(t,r){switch(t){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(z=!0,A);case"textInput":return t=r.data,t===A&&z?null:t;default:return null}}function Ve(t,r){if(Me)return t==="compositionend"||!sr&&$(t,r)?(t=qo(),Vr=di=nr=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Pt[t.type]:r==="textarea"}function kr(t,r,s,l){Or?Mr?Mr.push(l):Mr=[l]:Or=l,r=Ru(r,"onChange"),0<r.length&&(s=new hs("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var zt=null,or=null;function $o(t){bE(t,0)}function Bc(t){var r=Jn(t);if(Lo(r))return t}function Fp(t,r){if(t==="change")return r}var Hp=!1;if(Bn){var rf;if(Bn){var af="oninput"in document;if(!af){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),af=typeof jp.oninput=="function"}rf=af}else rf=!1;Hp=rf&&(!document.documentMode||9<document.documentMode)}function Gp(){zt&&(zt.detachEvent("onpropertychange",$p),or=zt=null)}function $p(t){if(t.propertyName==="value"&&Bc(or)){var r=[];kr(r,or,t,wn(t)),wc($o,r)}}function aC(t,r,s){t==="focusin"?(Gp(),zt=r,or=s,zt.attachEvent("onpropertychange",$p)):t==="focusout"&&Gp()}function sC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bc(or)}function oC(t,r){if(t==="click")return Bc(r)}function lC(t,r){if(t==="input"||t==="change")return Bc(r)}function cC(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var pn=typeof Object.is=="function"?Object.is:cC;function Ko(t,r){if(pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ra.call(r,h)||!pn(t[h],r[h]))return!1}return!0}function Kp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yp(t,r){var s=Kp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Kp(s)}}function Qp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Qp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ma(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=ma(t.document)}return r}function sf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var uC=Bn&&"documentMode"in document&&11>=document.documentMode,vs=null,of=null,Yo=null,lf=!1;function Zp(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;lf||vs==null||vs!==ma(l)||(l=vs,"selectionStart"in l&&sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Ko(Yo,l)||(Yo=l,l=Ru(of,"onSelect"),0<l.length&&(r=new hs("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=vs)))}function Sa(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var _s={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},cf={},Wp={};Bn&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Ra(t){if(cf[t])return cf[t];if(!_s[t])return t;var r=_s[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Wp)return cf[t]=r[s];return t}var Jp=Ra("animationend"),eg=Ra("animationiteration"),tg=Ra("animationstart"),hC=Ra("transitionrun"),fC=Ra("transitionstart"),dC=Ra("transitioncancel"),ng=Ra("transitionend"),rg=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function Fn(t,r){rg.set(t,r),qn(r,[t])}var ig=new WeakMap;function Dn(t,r){if(typeof t=="object"&&t!==null){var s=ig.get(t);return s!==void 0?s:(r={value:t,source:r,stack:ls(r)},ig.set(t,r),r)}return{value:t,source:r,stack:ls(r)}}var xn=[],bs=0,hf=0;function Fc(){for(var t=bs,r=hf=bs=0;r<t;){var s=xn[r];xn[r++]=null;var l=xn[r];xn[r++]=null;var h=xn[r];xn[r++]=null;var d=xn[r];if(xn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&ag(s,h,d)}}function Hc(t,r,s,l){xn[bs++]=t,xn[bs++]=r,xn[bs++]=s,xn[bs++]=l,hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ff(t,r,s,l){return Hc(t,r,s,l),jc(t)}function Ts(t,r){return Hc(t,null,null,r),jc(t)}function ag(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-$t(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=s|536870912),d):null}function jc(t){if(50<vl)throw vl=0,Ed=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Cs={};function mC(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,s,l){return new mC(t,r,s,l)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ur(t,r){var s=t.alternate;return s===null?(s=gn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function sg(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Gc(t,r,s,l,h,d){var _=0;if(l=t,typeof t=="function")df(t)&&(_=1);else if(typeof t=="string")_=gA(t,s,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=gn(31,s,r,h),t.elementType=I,t.lanes=d,t;case F:return wa(s.children,h,d,r);case N:_=8,h|=24;break;case j:return t=gn(12,s,r,h|2),t.elementType=j,t.lanes=d,t;case me:return t=gn(13,s,r,h),t.elementType=me,t.lanes=d,t;case Pe:return t=gn(19,s,r,h),t.elementType=Pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:case oe:_=10;break e;case te:_=9;break e;case Ae:_=11;break e;case M:_=14;break e;case R:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=gn(_,s,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function wa(t,r,s,l){return t=gn(7,t,l,r),t.lanes=s,t}function mf(t,r,s){return t=gn(6,t,null,r),t.lanes=s,t}function pf(t,r,s){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var As=[],Ss=0,$c=null,Kc=0,Pn=[],On=0,Ia=null,zr=1,qr="";function Na(t,r){As[Ss++]=Kc,As[Ss++]=$c,$c=t,Kc=r}function og(t,r,s){Pn[On++]=zr,Pn[On++]=qr,Pn[On++]=Ia,Ia=t;var l=zr;t=qr;var h=32-$t(l)-1;l&=~(1<<h),s+=1;var d=32-$t(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,zr=1<<32-$t(r)+h|s<<h|l,qr=d+t}else zr=1<<d|s<<h|l,qr=t}function gf(t){t.return!==null&&(Na(t,1),og(t,1,0))}function yf(t){for(;t===$c;)$c=As[--Ss],As[Ss]=null,Kc=As[--Ss],As[Ss]=null;for(;t===Ia;)Ia=Pn[--On],Pn[On]=null,qr=Pn[--On],Pn[On]=null,zr=Pn[--On],Pn[On]=null}var rn=null,lt=null,Fe=!1,Da=null,lr=!1,Ef=Error(a(519));function xa(t){var r=Error(a(418,""));throw Zo(Dn(r,t)),Ef}function lg(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[Ct]=t,r[pt]=l,s){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<bl.length;s++)De(bl[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),pa(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),cs(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),ga(r,l.value,l.defaultValue,l.children),cs(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||SE(r.textContent,s)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=wu),r=!0):r=!1,r||xa(t)}function cg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:rn=rn.return}}function Qo(t){if(t!==rn)return!1;if(!Fe)return cg(t),Fe=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Md(t.type,t.memoizedProps)),s=!s),s&&lt&&xa(t),cg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){lt=jn(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}lt=null}}else r===27?(r=lt,Ni(t.type)?(t=Ud,Ud=null,lt=t):lt=r):lt=rn?jn(t.stateNode.nextSibling):null;return!0}function Xo(){lt=rn=null,Fe=!1}function ug(){var t=Da;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Da=null),t}function Zo(t){Da===null?Da=[t]:Da.push(t)}var vf=J(null),Pa=null,Br=null;function mi(t,r,s){ne(vf,r._currentValue),r._currentValue=s}function Fr(t){t._currentValue=vf.current,se(vf)}function _f(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function bf(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var C=d;d=h;for(var w=0;w<r.length;w++)if(C.context===r[w]){d.lanes|=s,C=d.alternate,C!==null&&(C.lanes|=s),_f(d.return,s,t),l||(_=null);break e}d=C.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),_f(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Wo(t,r,s,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var C=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(C):t=[C])}}else if(h===Dt.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&bf(r,t,s,l),r.flags|=262144}function Yc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Oa(t){Pa=t,Br=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return hg(Pa,t)}function Qc(t,r){return Pa===null&&Oa(t),hg(t,r)}function hg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Br===null){if(t===null)throw Error(a(308));Br=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Br=Br.next=r;return s}var pC=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},gC=i.unstable_scheduleCallback,yC=i.unstable_NormalPriority,Rt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new pC,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&gC(yC,function(){t.controller.abort()})}var el=null,Cf=0,Rs=0,ws=null;function EC(t,r){if(el===null){var s=el=[];Cf=0,Rs=Sd(),ws={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Cf++,r.then(fg,fg),r}function fg(){if(--Cf===0&&el!==null){ws!==null&&(ws.status="fulfilled");var t=el;el=null,Rs=0,ws=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function vC(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var dg=Y.S;Y.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&EC(t,r),dg!==null&&dg(t,r)};var Ma=J(null);function Af(){var t=Ma.current;return t!==null?t:Je.pooledCache}function Xc(t,r){r===null?ne(Ma,Ma.current):ne(Ma,r.pool)}function mg(){var t=Af();return t===null?null:{parent:Rt._currentValue,pool:t}}var tl=Error(a(460)),pg=Error(a(474)),Zc=Error(a(542)),Sf={then:function(){}};function gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wc(){}function yg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Wc,Wc),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,vg(t),t;default:if(typeof r.status=="string")r.then(Wc,Wc);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,vg(t),t}throw nl=r,tl}}var nl=null;function Eg(){if(nl===null)throw Error(a(459));var t=nl;return nl=null,t}function vg(t){if(t===tl||t===Zc)throw Error(a(483))}var pi=!1;function Rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yi(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=jc(t),ag(t,null,s),r}return Hc(t,l,r,s),jc(t)}function rl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,xo(t,s)}}function If(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Nf=!1;function il(){if(Nf){var t=ws;if(t!==null)throw t}}function al(t,r,s,l){Nf=!1;var h=t.updateQueue;pi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var w=C,B=w.next;w.next=null,_===null?d=B:_.next=B,_=w;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,C=Q.lastBaseUpdate,C!==_&&(C===null?Q.firstBaseUpdate=B:C.next=B,Q.lastBaseUpdate=w))}if(d!==null){var Z=h.baseState;_=0,Q=B=w=null,C=d;do{var H=C.lane&-536870913,G=H!==C.lane;if(G?(Le&H)===H:(l&H)===H){H!==0&&H===Rs&&(Nf=!0),Q!==null&&(Q=Q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var _e=t,Ee=C;H=r;var Xe=s;switch(Ee.tag){case 1:if(_e=Ee.payload,typeof _e=="function"){Z=_e.call(Xe,Z,H);break e}Z=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ee.payload,H=typeof _e=="function"?_e.call(Xe,Z,H):_e,H==null)break e;Z=b({},Z,H);break e;case 2:pi=!0}}H=C.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Q===null?(B=Q=G,w=Z):Q=Q.next=G,_|=H;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;G=C,C=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(w=Z),h.baseState=w,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Si|=_,t.lanes=_,t.memoizedState=Z}}function _g(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function bg(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)_g(s[t],r)}var Is=J(null),Jc=J(0);function Tg(t,r){t=Qr,ne(Jc,t),ne(Is,r),Qr=t|r.baseLanes}function Df(){ne(Jc,Qr),ne(Is,Is.current)}function xf(){Qr=Jc.current,se(Is),se(Jc)}var Ei=0,Re=null,Ye=null,yt=null,eu=!1,Ns=!1,Va=!1,tu=0,sl=0,Ds=null,_C=0;function ht(){throw Error(a(321))}function Pf(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!pn(t[s],r[s]))return!1;return!0}function Of(t,r,s,l,h,d){return Ei=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?ay:sy,Va=!1,d=s(l,h),Va=!1,Ns&&(d=Ag(r,s,l,h)),Cg(t),d}function Cg(t){Y.H=ou;var r=Ye!==null&&Ye.next!==null;if(Ei=0,yt=Ye=Re=null,eu=!1,sl=0,Ds=null,r)throw Error(a(300));t===null||Ot||(t=t.dependencies,t!==null&&Yc(t)&&(Ot=!0))}function Ag(t,r,s,l){Re=t;var h=0;do{if(Ns&&(Ds=null),sl=0,Ns=!1,25<=h)throw Error(a(301));if(h+=1,yt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=wC,d=r(s,l)}while(Ns);return d}function bC(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?ol(r):r,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Re.flags|=1024),r}function Mf(){var t=tu!==0;return tu=0,t}function Vf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Lf(t){if(eu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}eu=!1}Ei=0,yt=Ye=Re=null,Ns=!1,sl=tu=0,Ds=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Re.memoizedState=yt=t:yt=yt.next=t,yt}function Et(){if(Ye===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=yt===null?Re.memoizedState:yt.next;if(r!==null)yt=r,Ye=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?Re.memoizedState=yt=t:yt=yt.next=t}return yt}function kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var r=sl;return sl+=1,Ds===null&&(Ds=[]),t=yg(Ds,t,r),r=Re,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?ay:sy),t}function nu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===oe)return Kt(t)}throw Error(a(438,String(t)))}function Uf(t){var r=null,s=Re.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=kf(),Re.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=O;return r.index++,s}function Hr(t,r){return typeof r=="function"?r(t):r}function ru(t){var r=Et();return zf(r,Ye,t)}function zf(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var C=_=null,w=null,B=r,Q=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Le&Z)===Z:(Ei&Z)===Z){var H=B.revertLane;if(H===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Rs&&(Q=!0);else if((Ei&H)===H){B=B.next,H===Rs&&(Q=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(C=w=Z,_=d):w=w.next=Z,Re.lanes|=H,Si|=H;Z=B.action,Va&&s(d,Z),d=B.hasEagerState?B.eagerState:s(d,Z)}else H={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(C=w=H,_=d):w=w.next=H,Re.lanes|=Z,Si|=Z;B=B.next}while(B!==null&&B!==r);if(w===null?_=d:w.next=C,!pn(d,t.memoizedState)&&(Ot=!0,Q&&(s=ws,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qf(t){var r=Et(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);pn(d,r.memoizedState)||(Ot=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function Sg(t,r,s){var l=Re,h=Et(),d=Fe;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!pn((Ye||h).memoizedState,s);_&&(h.memoizedState=s,Ot=!0),h=h.queue;var C=Ig.bind(null,l,h,t);if(ll(2048,8,C,[t]),h.getSnapshot!==r||_||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,xs(9,iu(),wg.bind(null,l,h,s,r),null),Je===null)throw Error(a(349));d||(Ei&124)!==0||Rg(l,r,s)}return s}function Rg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Re.updateQueue,r===null?(r=kf(),Re.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function wg(t,r,s,l){r.value=s,r.getSnapshot=l,Ng(r)&&Dg(t)}function Ig(t,r,s){return s(function(){Ng(r)&&Dg(t)})}function Ng(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!pn(t,s)}catch{return!0}}function Dg(t){var r=Ts(t,2);r!==null&&bn(r,t,2)}function Bf(t){var r=on();if(typeof t=="function"){var s=t;if(t=s(),Va){dn(!0);try{s()}finally{dn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:t},r}function xg(t,r,s,l){return t.baseState=s,zf(t,Ye,typeof l=="function"?l:Hr)}function TC(t,r,s,l,h){if(su(t))throw Error(a(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,Pg(r,d)):(d.next=s.next,r.pending=s.next=d)}}function Pg(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Y.T,_={};Y.T=_;try{var C=s(h,l),w=Y.S;w!==null&&w(_,C),Og(t,r,C)}catch(B){Ff(t,r,B)}finally{Y.T=d}}else try{d=s(h,l),Og(t,r,d)}catch(B){Ff(t,r,B)}}function Og(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Mg(t,r,l)},function(l){return Ff(t,r,l)}):Mg(t,r,s)}function Mg(t,r,s){r.status="fulfilled",r.value=s,Vg(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Pg(t,s)))}function Ff(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Vg(r),r=r.next;while(r!==l)}t.action=null}function Vg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Lg(t,r){return r}function kg(t,r){if(Fe){var s=Je.formState;if(s!==null){e:{var l=Re;if(Fe){if(lt){t:{for(var h=lt,d=lr;h.nodeType!==8;){if(!d){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=jn(h.nextSibling),l=h.data==="F!";break e}}xa(l)}l=!1}l&&(r=s[0])}}return s=on(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lg,lastRenderedState:r},s.queue=l,s=ny.bind(null,Re,l),l.dispatch=s,l=Bf(!1),d=Kf.bind(null,Re,!1,l.queue),l=on(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=TC.bind(null,Re,h,d,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function Ug(t){var r=Et();return zg(r,Ye,t)}function zg(t,r,s){if(r=zf(t,r,Lg)[0],t=ru(Hr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ol(r)}catch(_){throw _===tl?Zc:_}else l=r;r=Et();var h=r.queue,d=h.dispatch;return s!==r.memoizedState&&(Re.flags|=2048,xs(9,iu(),CC.bind(null,h,s),null)),[l,d,t]}function CC(t,r){t.action=r}function qg(t){var r=Et(),s=Ye;if(s!==null)return zg(r,s,t);Et(),r=r.memoizedState,s=Et();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function xs(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=kf(),Re.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function iu(){return{destroy:void 0,resource:void 0}}function Bg(){return Et().memoizedState}function au(t,r,s,l){var h=on();l=l===void 0?null:l,Re.flags|=t,h.memoizedState=xs(1|r,iu(),s,l)}function ll(t,r,s,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&Pf(l,Ye.memoizedState.deps)?h.memoizedState=xs(r,d,s,l):(Re.flags|=t,h.memoizedState=xs(1|r,d,s,l))}function Fg(t,r){au(8390656,8,t,r)}function Hg(t,r){ll(2048,8,t,r)}function jg(t,r){return ll(4,2,t,r)}function Gg(t,r){return ll(4,4,t,r)}function $g(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Kg(t,r,s){s=s!=null?s.concat([t]):null,ll(4,4,$g.bind(null,r,t),s)}function Hf(){}function Yg(t,r){var s=Et();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Pf(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function Qg(t,r){var s=Et();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Pf(r,l[1]))return l[0];if(l=t(),Va){dn(!0);try{t()}finally{dn(!1)}}return s.memoizedState=[l,r],l}function jf(t,r,s){return s===void 0||(Ei&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=Wy(),Re.lanes|=t,Si|=t,s)}function Xg(t,r,s,l){return pn(s,r)?s:Is.current!==null?(t=jf(t,s,l),pn(t,r)||(Ot=!0),t):(Ei&42)===0?(Ot=!0,t.memoizedState=s):(t=Wy(),Re.lanes|=t,Si|=t,r)}function Zg(t,r,s,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=Y.T,C={};Y.T=C,Kf(t,!1,r,s);try{var w=h(),B=Y.S;if(B!==null&&B(C,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=vC(w,l);cl(t,r,Q,_n(t))}else cl(t,r,l,_n(t))}catch(Z){cl(t,r,{then:function(){},status:"rejected",reason:Z},_n())}finally{ae.p=d,Y.T=_}}function AC(){}function Gf(t,r,s,l){if(t.tag!==5)throw Error(a(476));var h=Wg(t).queue;Zg(t,h,r,pe,s===null?AC:function(){return Jg(t),s(l)})}function Wg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:pe},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Jg(t){var r=Wg(t).next.queue;cl(t,r,{},_n())}function $f(){return Kt(wl)}function ey(){return Et().memoizedState}function ty(){return Et().memoizedState}function SC(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=_n();t=gi(s);var l=yi(r,t,s);l!==null&&(bn(l,r,s),rl(l,r,s)),r={cache:Tf()},t.payload=r;return}r=r.return}}function RC(t,r,s){var l=_n();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},su(t)?ry(r,s):(s=ff(t,r,s,l),s!==null&&(bn(s,t,l),iy(s,r,l)))}function ny(t,r,s){var l=_n();cl(t,r,s,l)}function cl(t,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(su(t))ry(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,C=d(_,s);if(h.hasEagerState=!0,h.eagerState=C,pn(C,_))return Hc(t,r,h,0),Je===null&&Fc(),!1}catch{}finally{}if(s=ff(t,r,h,l),s!==null)return bn(s,t,l),iy(s,r,l),!0}return!1}function Kf(t,r,s,l){if(l={lane:2,revertLane:Sd(),action:l,hasEagerState:!1,eagerState:null,next:null},su(t)){if(r)throw Error(a(479))}else r=ff(t,s,l,2),r!==null&&bn(r,t,2)}function su(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function ry(t,r){Ns=eu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function iy(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,xo(t,s)}}var ou={readContext:Kt,use:nu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},ay={readContext:Kt,use:nu,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:Fg,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,au(4194308,4,$g.bind(null,r,t),s)},useLayoutEffect:function(t,r){return au(4194308,4,t,r)},useInsertionEffect:function(t,r){au(4,2,t,r)},useMemo:function(t,r){var s=on();r=r===void 0?null:r;var l=t();if(Va){dn(!0);try{t()}finally{dn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=on();if(s!==void 0){var h=s(r);if(Va){dn(!0);try{s(r)}finally{dn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=RC.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=Bf(t);var r=t.queue,s=ny.bind(null,Re,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Hf,useDeferredValue:function(t,r){var s=on();return jf(s,t,r)},useTransition:function(){var t=Bf(!1);return t=Zg.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Re,h=on();if(Fe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),Je===null)throw Error(a(349));(Le&124)!==0||Rg(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,Fg(Ig.bind(null,l,d,t),[t]),l.flags|=2048,xs(9,iu(),wg.bind(null,l,d,s,r),null),s},useId:function(){var t=on(),r=Je.identifierPrefix;if(Fe){var s=qr,l=zr;s=(l&~(1<<32-$t(l)-1)).toString(32)+s,r="«"+r+"R"+s,s=tu++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=_C++,r="«"+r+"r"+s.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:$f,useFormState:kg,useActionState:kg,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Kf.bind(null,Re,!0,s),s.dispatch=r,[t,r]},useMemoCache:Uf,useCacheRefresh:function(){return on().memoizedState=SC.bind(null,Re)}},sy={readContext:Kt,use:nu,useCallback:Yg,useContext:Kt,useEffect:Hg,useImperativeHandle:Kg,useInsertionEffect:jg,useLayoutEffect:Gg,useMemo:Qg,useReducer:ru,useRef:Bg,useState:function(){return ru(Hr)},useDebugValue:Hf,useDeferredValue:function(t,r){var s=Et();return Xg(s,Ye.memoizedState,t,r)},useTransition:function(){var t=ru(Hr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:ol(t),r]},useSyncExternalStore:Sg,useId:ey,useHostTransitionStatus:$f,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,r){var s=Et();return xg(s,Ye,t,r)},useMemoCache:Uf,useCacheRefresh:ty},wC={readContext:Kt,use:nu,useCallback:Yg,useContext:Kt,useEffect:Hg,useImperativeHandle:Kg,useInsertionEffect:jg,useLayoutEffect:Gg,useMemo:Qg,useReducer:qf,useRef:Bg,useState:function(){return qf(Hr)},useDebugValue:Hf,useDeferredValue:function(t,r){var s=Et();return Ye===null?jf(s,t,r):Xg(s,Ye.memoizedState,t,r)},useTransition:function(){var t=qf(Hr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:ol(t),r]},useSyncExternalStore:Sg,useId:ey,useHostTransitionStatus:$f,useFormState:qg,useActionState:qg,useOptimistic:function(t,r){var s=Et();return Ye!==null?xg(s,Ye,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:ty},Ps=null,ul=0;function lu(t){var r=ul;return ul+=1,Ps===null&&(Ps=[]),yg(Ps,t,r)}function hl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function cu(t,r){throw r.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function oy(t){var r=t._init;return r(t._payload)}function ly(t){function r(k,P){if(t){var q=k.deletions;q===null?(k.deletions=[P],k.flags|=16):q.push(P)}}function s(k,P){if(!t)return null;for(;P!==null;)r(k,P),P=P.sibling;return null}function l(k){for(var P=new Map;k!==null;)k.key!==null?P.set(k.key,k):P.set(k.index,k),k=k.sibling;return P}function h(k,P){return k=Ur(k,P),k.index=0,k.sibling=null,k}function d(k,P,q){return k.index=q,t?(q=k.alternate,q!==null?(q=q.index,q<P?(k.flags|=67108866,P):q):(k.flags|=67108866,P)):(k.flags|=1048576,P)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function C(k,P,q,X){return P===null||P.tag!==6?(P=mf(q,k.mode,X),P.return=k,P):(P=h(P,q),P.return=k,P)}function w(k,P,q,X){var ue=q.type;return ue===F?Q(k,P,q.props.children,X,q.key):P!==null&&(P.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===R&&oy(ue)===P.type)?(P=h(P,q.props),hl(P,q),P.return=k,P):(P=Gc(q.type,q.key,q.props,null,k.mode,X),hl(P,q),P.return=k,P)}function B(k,P,q,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=pf(q,k.mode,X),P.return=k,P):(P=h(P,q.children||[]),P.return=k,P)}function Q(k,P,q,X,ue){return P===null||P.tag!==7?(P=wa(q,k.mode,X,ue),P.return=k,P):(P=h(P,q),P.return=k,P)}function Z(k,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=mf(""+P,k.mode,q),P.return=k,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return q=Gc(P.type,P.key,P.props,null,k.mode,q),hl(q,P),q.return=k,q;case V:return P=pf(P,k.mode,q),P.return=k,P;case R:var X=P._init;return P=X(P._payload),Z(k,P,q)}if(st(P)||U(P))return P=wa(P,k.mode,q,null),P.return=k,P;if(typeof P.then=="function")return Z(k,lu(P),q);if(P.$$typeof===oe)return Z(k,Qc(k,P),q);cu(k,P)}return null}function H(k,P,q,X){var ue=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ue!==null?null:C(k,P,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===ue?w(k,P,q,X):null;case V:return q.key===ue?B(k,P,q,X):null;case R:return ue=q._init,q=ue(q._payload),H(k,P,q,X)}if(st(q)||U(q))return ue!==null?null:Q(k,P,q,X,null);if(typeof q.then=="function")return H(k,P,lu(q),X);if(q.$$typeof===oe)return H(k,P,Qc(k,q),X);cu(k,q)}return null}function G(k,P,q,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(q)||null,C(P,k,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return k=k.get(X.key===null?q:X.key)||null,w(P,k,X,ue);case V:return k=k.get(X.key===null?q:X.key)||null,B(P,k,X,ue);case R:var Ie=X._init;return X=Ie(X._payload),G(k,P,q,X,ue)}if(st(X)||U(X))return k=k.get(q)||null,Q(P,k,X,ue,null);if(typeof X.then=="function")return G(k,P,q,lu(X),ue);if(X.$$typeof===oe)return G(k,P,q,Qc(P,X),ue);cu(P,X)}return null}function _e(k,P,q,X){for(var ue=null,Ie=null,de=P,ve=P=0,Vt=null;de!==null&&ve<q.length;ve++){de.index>ve?(Vt=de,de=null):Vt=de.sibling;var qe=H(k,de,q[ve],X);if(qe===null){de===null&&(de=Vt);break}t&&de&&qe.alternate===null&&r(k,de),P=d(qe,P,ve),Ie===null?ue=qe:Ie.sibling=qe,Ie=qe,de=Vt}if(ve===q.length)return s(k,de),Fe&&Na(k,ve),ue;if(de===null){for(;ve<q.length;ve++)de=Z(k,q[ve],X),de!==null&&(P=d(de,P,ve),Ie===null?ue=de:Ie.sibling=de,Ie=de);return Fe&&Na(k,ve),ue}for(de=l(de);ve<q.length;ve++)Vt=G(de,k,ve,q[ve],X),Vt!==null&&(t&&Vt.alternate!==null&&de.delete(Vt.key===null?ve:Vt.key),P=d(Vt,P,ve),Ie===null?ue=Vt:Ie.sibling=Vt,Ie=Vt);return t&&de.forEach(function(Mi){return r(k,Mi)}),Fe&&Na(k,ve),ue}function Ee(k,P,q,X){if(q==null)throw Error(a(151));for(var ue=null,Ie=null,de=P,ve=P=0,Vt=null,qe=q.next();de!==null&&!qe.done;ve++,qe=q.next()){de.index>ve?(Vt=de,de=null):Vt=de.sibling;var Mi=H(k,de,qe.value,X);if(Mi===null){de===null&&(de=Vt);break}t&&de&&Mi.alternate===null&&r(k,de),P=d(Mi,P,ve),Ie===null?ue=Mi:Ie.sibling=Mi,Ie=Mi,de=Vt}if(qe.done)return s(k,de),Fe&&Na(k,ve),ue;if(de===null){for(;!qe.done;ve++,qe=q.next())qe=Z(k,qe.value,X),qe!==null&&(P=d(qe,P,ve),Ie===null?ue=qe:Ie.sibling=qe,Ie=qe);return Fe&&Na(k,ve),ue}for(de=l(de);!qe.done;ve++,qe=q.next())qe=G(de,k,ve,qe.value,X),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?ve:qe.key),P=d(qe,P,ve),Ie===null?ue=qe:Ie.sibling=qe,Ie=qe);return t&&de.forEach(function(IA){return r(k,IA)}),Fe&&Na(k,ve),ue}function Xe(k,P,q,X){if(typeof q=="object"&&q!==null&&q.type===F&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:e:{for(var ue=q.key;P!==null;){if(P.key===ue){if(ue=q.type,ue===F){if(P.tag===7){s(k,P.sibling),X=h(P,q.props.children),X.return=k,k=X;break e}}else if(P.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===R&&oy(ue)===P.type){s(k,P.sibling),X=h(P,q.props),hl(X,q),X.return=k,k=X;break e}s(k,P);break}else r(k,P);P=P.sibling}q.type===F?(X=wa(q.props.children,k.mode,X,q.key),X.return=k,k=X):(X=Gc(q.type,q.key,q.props,null,k.mode,X),hl(X,q),X.return=k,k=X)}return _(k);case V:e:{for(ue=q.key;P!==null;){if(P.key===ue)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){s(k,P.sibling),X=h(P,q.children||[]),X.return=k,k=X;break e}else{s(k,P);break}else r(k,P);P=P.sibling}X=pf(q,k.mode,X),X.return=k,k=X}return _(k);case R:return ue=q._init,q=ue(q._payload),Xe(k,P,q,X)}if(st(q))return _e(k,P,q,X);if(U(q)){if(ue=U(q),typeof ue!="function")throw Error(a(150));return q=ue.call(q),Ee(k,P,q,X)}if(typeof q.then=="function")return Xe(k,P,lu(q),X);if(q.$$typeof===oe)return Xe(k,P,Qc(k,q),X);cu(k,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(s(k,P.sibling),X=h(P,q),X.return=k,k=X):(s(k,P),X=mf(q,k.mode,X),X.return=k,k=X),_(k)):s(k,P)}return function(k,P,q,X){try{ul=0;var ue=Xe(k,P,q,X);return Ps=null,ue}catch(de){if(de===tl||de===Zc)throw de;var Ie=gn(29,de,null,k.mode);return Ie.lanes=X,Ie.return=k,Ie}finally{}}}var Os=ly(!0),cy=ly(!1),Mn=J(null),cr=null;function vi(t){var r=t.alternate;ne(wt,wt.current&1),ne(Mn,t),cr===null&&(r===null||Is.current!==null||r.memoizedState!==null)&&(cr=t)}function uy(t){if(t.tag===22){if(ne(wt,wt.current),ne(Mn,t),cr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(cr=t)}}else _i()}function _i(){ne(wt,wt.current),ne(Mn,Mn.current)}function jr(t){se(Mn),cr===t&&(cr=null),se(wt)}var wt=J(0);function uu(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||kd(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Yf(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:b({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Qf={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=_n(),h=gi(l);h.payload=r,s!=null&&(h.callback=s),r=yi(t,h,l),r!==null&&(bn(r,t,l),rl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=_n(),h=gi(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=yi(t,h,l),r!==null&&(bn(r,t,l),rl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=_n(),l=gi(s);l.tag=2,r!=null&&(l.callback=r),r=yi(t,l,s),r!==null&&(bn(r,t,s),rl(r,t,s))}};function hy(t,r,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Ko(s,l)||!Ko(h,d):!0}function fy(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Qf.enqueueReplaceState(r,r.state,null)}function La(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=b({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dy(t){hu(t)}function my(t){console.error(t)}function py(t){hu(t)}function fu(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function gy(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,r,s){return s=gi(s),s.tag=3,s.payload={element:null},s.callback=function(){fu(t,r)},s}function yy(t){return t=gi(t),t.tag=3,t}function Ey(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){gy(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){gy(r,s,l),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function IC(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Wo(r,s,h,!0),s=Mn.current,s!==null){switch(s.tag){case 13:return cr===null?_d():s.alternate===null&&ct===0&&(ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Sf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Td(t,l,h)),!1;case 22:return s.flags|=65536,l===Sf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Td(t,l,h)),!1}throw Error(a(435,s.tag))}return Td(t,l,h),_d(),!1}if(Fe)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Ef&&(t=Error(a(422),{cause:l}),Zo(Dn(t,s)))):(l!==Ef&&(r=Error(a(423),{cause:l}),Zo(Dn(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,s),h=Xf(t.stateNode,l,h),If(t,h),ct!==4&&(ct=2)),!1;var d=Error(a(520),{cause:l});if(d=Dn(d,s),El===null?El=[d]:El.push(d),ct!==4&&(ct=2),r===null)return!0;l=Dn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Xf(s.stateNode,l,t),If(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=yy(h),Ey(h,t,s,l),If(s,h),!1}s=s.return}while(s!==null);return!1}var vy=Error(a(461)),Ot=!1;function qt(t,r,s,l){r.child=t===null?cy(r,null,s,l):Os(r,t.child,s,l)}function _y(t,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var _={};for(var C in l)C!=="ref"&&(_[C]=l[C])}else _=l;return Oa(r),l=Of(t,r,s,_,d,h),C=Mf(),t!==null&&!Ot?(Vf(t,r,h),Gr(t,r,h)):(Fe&&C&&gf(r),r.flags|=1,qt(t,r,l,h),r.child)}function by(t,r,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!df(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,Ty(t,r,d,l,h)):(t=Gc(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!id(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ko,s(_,l)&&t.ref===r.ref)return Gr(t,r,h)}return r.flags|=1,t=Ur(d,l),t.ref=r.ref,t.return=r,r.child=t}function Ty(t,r,s,l,h){if(t!==null){var d=t.memoizedProps;if(Ko(d,l)&&t.ref===r.ref)if(Ot=!1,r.pendingProps=l=d,id(t,h))(t.flags&131072)!==0&&(Ot=!0);else return r.lanes=t.lanes,Gr(t,r,h)}return Zf(t,r,s,l,h)}function Cy(t,r,s){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Ay(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xc(r,d!==null?d.cachePool:null),d!==null?Tg(r,d):Df(),uy(r);else return r.lanes=r.childLanes=536870912,Ay(t,r,d!==null?d.baseLanes|s:s,s)}else d!==null?(Xc(r,d.cachePool),Tg(r,d),_i(),r.memoizedState=null):(t!==null&&Xc(r,null),Df(),_i());return qt(t,r,h,s),r.child}function Ay(t,r,s,l){var h=Af();return h=h===null?null:{parent:Rt._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&Xc(r,null),Df(),uy(r),t!==null&&Wo(t,r,l,!0),null}function du(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Zf(t,r,s,l,h){return Oa(r),s=Of(t,r,s,l,void 0,h),l=Mf(),t!==null&&!Ot?(Vf(t,r,h),Gr(t,r,h)):(Fe&&l&&gf(r),r.flags|=1,qt(t,r,s,h),r.child)}function Sy(t,r,s,l,h,d){return Oa(r),r.updateQueue=null,s=Ag(r,l,s,h),Cg(t),l=Mf(),t!==null&&!Ot?(Vf(t,r,d),Gr(t,r,d)):(Fe&&l&&gf(r),r.flags|=1,qt(t,r,s,d),r.child)}function Ry(t,r,s,l,h){if(Oa(r),r.stateNode===null){var d=Cs,_=s.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Rf(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Cs,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Yf(r,s,_,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Qf.enqueueReplaceState(d,d.state,null),al(r,l,d,h),il(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var C=r.memoizedProps,w=La(s,C);d.props=w;var B=d.context,Q=s.contextType;_=Cs,typeof Q=="object"&&Q!==null&&(_=Kt(Q));var Z=s.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(C||B!==_)&&fy(r,d,l,_),pi=!1;var H=r.memoizedState;d.state=H,al(r,l,d,h),il(),B=r.memoizedState,C||H!==B||pi?(typeof Z=="function"&&(Yf(r,s,Z,l),B=r.memoizedState),(w=pi||hy(r,s,w,l,H,B,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=_,l=w):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,wf(t,r),_=r.memoizedProps,Q=La(s,_),d.props=Q,Z=r.pendingProps,H=d.context,B=s.contextType,w=Cs,typeof B=="object"&&B!==null&&(w=Kt(B)),C=s.getDerivedStateFromProps,(B=typeof C=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||H!==w)&&fy(r,d,l,w),pi=!1,H=r.memoizedState,d.state=H,al(r,l,d,h),il();var G=r.memoizedState;_!==Z||H!==G||pi||t!==null&&t.dependencies!==null&&Yc(t.dependencies)?(typeof C=="function"&&(Yf(r,s,C,l),G=r.memoizedState),(Q=pi||hy(r,s,Q,l,H,G,w)||t!==null&&t.dependencies!==null&&Yc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,w)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=w,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,du(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Os(r,t.child,null,h),r.child=Os(r,null,s,h)):qt(t,r,s,h),r.memoizedState=d.state,t=r.child):t=Gr(t,r,h),t}function wy(t,r,s,l){return Xo(),r.flags|=256,qt(t,r,s,l),r.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(t){return{baseLanes:t,cachePool:mg()}}function ed(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Vn),t}function Iy(t,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Fe){if(h?vi(r):_i(),Fe){var C=lt,w;if(w=C){e:{for(w=C,C=lr;w.nodeType!==8;){if(!C){C=null;break e}if(w=jn(w.nextSibling),w===null){C=null;break e}}C=w}C!==null?(r.memoizedState={dehydrated:C,treeContext:Ia!==null?{id:zr,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},w=gn(18,null,null,0),w.stateNode=C,w.return=r,r.child=w,rn=r,lt=null,w=!0):w=!1}w||xa(r)}if(C=r.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return kd(C)?r.lanes=32:r.lanes=536870912,null;jr(r)}return C=l.children,l=l.fallback,h?(_i(),h=r.mode,C=mu({mode:"hidden",children:C},h),l=wa(l,h,s,null),C.return=r,l.return=r,C.sibling=l,r.child=C,h=r.child,h.memoizedState=Jf(s),h.childLanes=ed(t,_,s),r.memoizedState=Wf,l):(vi(r),td(r,C))}if(w=t.memoizedState,w!==null&&(C=w.dehydrated,C!==null)){if(d)r.flags&256?(vi(r),r.flags&=-257,r=nd(t,r,s)):r.memoizedState!==null?(_i(),r.child=t.child,r.flags|=128,r=null):(_i(),h=l.fallback,C=r.mode,l=mu({mode:"visible",children:l.children},C),h=wa(h,C,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Os(r,t.child,null,s),l=r.child,l.memoizedState=Jf(s),l.childLanes=ed(t,_,s),r.memoizedState=Wf,r=h);else if(vi(r),kd(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(a(419)),l.stack="",l.digest=_,Zo({value:l,source:null,stack:null}),r=nd(t,r,s)}else if(Ot||Wo(t,r,s,!1),_=(s&t.childLanes)!==0,Ot||_){if(_=Je,_!==null&&(l=s&-s,l=(l&42)!==0?1:oi(l),l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,Ts(t,l),bn(_,t,l),vy;C.data==="$?"||_d(),r=nd(t,r,s)}else C.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=w.treeContext,lt=jn(C.nextSibling),rn=r,Fe=!0,Da=null,lr=!1,t!==null&&(Pn[On++]=zr,Pn[On++]=qr,Pn[On++]=Ia,zr=t.id,qr=t.overflow,Ia=r),r=td(r,l.children),r.flags|=4096);return r}return h?(_i(),h=l.fallback,C=r.mode,w=t.child,B=w.sibling,l=Ur(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?h=Ur(B,h):(h=wa(h,C,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,C=t.child.memoizedState,C===null?C=Jf(s):(w=C.cachePool,w!==null?(B=Rt._currentValue,w=w.parent!==B?{parent:B,pool:B}:w):w=mg(),C={baseLanes:C.baseLanes|s,cachePool:w}),h.memoizedState=C,h.childLanes=ed(t,_,s),r.memoizedState=Wf,l):(vi(r),s=t.child,t=s.sibling,s=Ur(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function td(t,r){return r=mu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function mu(t,r){return t=gn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nd(t,r,s){return Os(r,t.child,null,s),t=td(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ny(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),_f(t.return,r,s)}function rd(t,r,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function Dy(t,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,r,l.children,s),l=wt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,s,r);else if(t.tag===19)Ny(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ne(wt,l),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&uu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),rd(r,!1,h,s,d);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&uu(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}rd(r,!0,s,null,d);break;case"together":rd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Gr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Si|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Wo(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=Ur(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Ur(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function id(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Yc(t)))}function NC(t,r,s){switch(r.tag){case 3:We(r,r.stateNode.containerInfo),mi(r,Rt,t.memoizedState.cache),Xo();break;case 27:case 5:si(r);break;case 4:We(r,r.stateNode.containerInfo);break;case 10:mi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(vi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Iy(t,r,s):(vi(r),t=Gr(t,r,s),t!==null?t.sibling:null);vi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Wo(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return Dy(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(wt,wt.current),l)break;return null;case 22:case 23:return r.lanes=0,Cy(t,r,s);case 24:mi(r,Rt,t.memoizedState.cache)}return Gr(t,r,s)}function xy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ot=!0;else{if(!id(t,s)&&(r.flags&128)===0)return Ot=!1,NC(t,r,s);Ot=(t.flags&131072)!==0}else Ot=!1,Fe&&(r.flags&1048576)!==0&&og(r,Kc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")df(l)?(t=La(l,t),r.tag=1,r=Ry(null,r,l,t,s)):(r.tag=0,r=Zf(null,r,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===Ae){r.tag=11,r=_y(null,r,l,t,s);break e}else if(h===M){r.tag=14,r=by(null,r,l,t,s);break e}}throw r=kt(l)||l,Error(a(306,r,""))}}return r;case 0:return Zf(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=La(l,r.pendingProps),Ry(t,r,l,h,s);case 3:e:{if(We(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,wf(t,r),al(r,l,null,s);var _=r.memoizedState;if(l=_.cache,mi(r,Rt,l),l!==d.cache&&bf(r,[Rt],s,!0),il(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=wy(t,r,l,s);break e}else if(l!==h){h=Dn(Error(a(424)),r),Zo(h),r=wy(t,r,l,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=jn(t.firstChild),rn=r,Fe=!0,Da=null,lr=!0,s=cy(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Xo(),l===h){r=Gr(t,r,s);break e}qt(t,r,l,s)}r=r.child}return r;case 26:return du(t,r),t===null?(s=VE(r.type,null,r.pendingProps,null))?r.memoizedState=s:Fe||(s=r.type,t=r.pendingProps,l=Iu(be.current).createElement(s),l[Ct]=r,l[pt]=t,Ft(l,s,t),ut(l),r.stateNode=l):r.memoizedState=VE(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return si(r),t===null&&Fe&&(l=r.stateNode=PE(r.type,r.pendingProps,be.current),rn=r,lr=!0,h=lt,Ni(r.type)?(Ud=h,lt=jn(l.firstChild)):lt=h),qt(t,r,r.pendingProps.children,s),du(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Fe&&((h=l=lt)&&(l=rA(l,r.type,r.pendingProps,lr),l!==null?(r.stateNode=l,rn=r,lt=jn(l.firstChild),lr=!1,h=!0):h=!1),h||xa(r)),si(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Md(h,d)?l=null:_!==null&&Md(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Of(t,r,bC,null,null,s),wl._currentValue=h),du(t,r),qt(t,r,l,s),r.child;case 6:return t===null&&Fe&&((t=s=lt)&&(s=iA(s,r.pendingProps,lr),s!==null?(r.stateNode=s,rn=r,lt=null,t=!0):t=!1),t||xa(r)),null;case 13:return Iy(t,r,s);case 4:return We(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Os(r,null,l,s):qt(t,r,l,s),r.child;case 11:return _y(t,r,r.type,r.pendingProps,s);case 7:return qt(t,r,r.pendingProps,s),r.child;case 8:return qt(t,r,r.pendingProps.children,s),r.child;case 12:return qt(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,mi(r,r.type,l.value),qt(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Oa(r),h=Kt(h),l=l(h),r.flags|=1,qt(t,r,l,s),r.child;case 14:return by(t,r,r.type,r.pendingProps,s);case 15:return Ty(t,r,r.type,r.pendingProps,s);case 19:return Dy(t,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},t===null?(s=mu(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=Ur(t.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return Cy(t,r,s);case 24:return Oa(r),l=Kt(Rt),t===null?(h=Af(),h===null&&(h=Je,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},Rf(r),mi(r,Rt,h)):((t.lanes&s)!==0&&(wf(t,r),al(r,null,null,s),il()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),mi(r,Rt,l)):(l=d.cache,mi(r,Rt,l),l!==h.cache&&bf(r,[Rt],s,!0))),qt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function $r(t){t.flags|=4}function Py(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qE(r)){if(r=Mn.current,r!==null&&((Le&4194048)===Le?cr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==cr))throw nl=Sf,pg;t.flags|=8192}}function pu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?No():536870912,t.lanes|=r,ks|=r)}function fl(t,r){if(!Fe)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function DC(t,r,s){var l=r.pendingProps;switch(yf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Fr(Rt),Xn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Qo(r)?$r(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ug())),rt(r),null;case 26:return s=r.memoizedState,t===null?($r(r),s!==null?(rt(r),Py(r,s)):(rt(r),r.flags&=-16777217)):s?s!==t.memoizedState?($r(r),rt(r),Py(r,s)):(rt(r),r.flags&=-16777217):(t.memoizedProps!==l&&$r(r),rt(r),r.flags&=-16777217),null;case 27:Sr(r),s=be.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&$r(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return rt(r),null}t=ge.current,Qo(r)?lg(r):(t=PE(h,l,s),r.stateNode=t,$r(r))}return rt(r),null;case 5:if(Sr(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&$r(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return rt(r),null}if(t=ge.current,Qo(r))lg(r);else{switch(h=Iu(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[Ct]=r,t[pt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Ft(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$r(r)}}return rt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&$r(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=be.current,Qo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ct]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||SE(t.nodeValue,s)),t||xa(r)}else t=Iu(t).createTextNode(l),t[Ct]=r,r.stateNode=t}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ct]=r}else Xo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),h=!1}else h=ug(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(jr(r),r):(jr(r),null)}if(jr(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),pu(r,r.updateQueue),rt(r),null;case 4:return Xn(),t===null&&Nd(r.stateNode.containerInfo),rt(r),null;case 10:return Fr(r.type),rt(r),null;case 19:if(se(wt),h=r.memoizedState,h===null)return rt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)fl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=uu(t),d!==null){for(r.flags|=128,fl(h,!1),t=d.updateQueue,r.updateQueue=t,pu(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)sg(s,t),s=s.sibling;return ne(wt,wt.current&1|2),r.child}t=t.sibling}h.tail!==null&&An()>Eu&&(r.flags|=128,l=!0,fl(h,!1),r.lanes=4194304)}else{if(!l)if(t=uu(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,pu(r,t),fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return rt(r),null}else 2*An()-h.renderingStartTime>Eu&&s!==536870912&&(r.flags|=128,l=!0,fl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=An(),r.sibling=null,t=wt.current,ne(wt,l?t&1|2:t&1),r):(rt(r),null);case 22:case 23:return jr(r),xf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),s=r.updateQueue,s!==null&&pu(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&se(Ma),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Fr(Rt),rt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function xC(t,r){switch(yf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Fr(Rt),Xn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Sr(r),null;case 13:if(jr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Xo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return se(wt),null;case 4:return Xn(),null;case 10:return Fr(r.type),null;case 22:case 23:return jr(r),xf(),t!==null&&se(Ma),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Fr(Rt),null;case 25:return null;default:return null}}function Oy(t,r){switch(yf(r),r.tag){case 3:Fr(Rt),Xn();break;case 26:case 27:case 5:Sr(r);break;case 4:Xn();break;case 13:jr(r);break;case 19:se(wt);break;case 10:Fr(r.type);break;case 22:case 23:jr(r),xf(),t!==null&&se(Ma);break;case 24:Fr(Rt)}}function dl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(C){Ze(r,r.return,C)}}function bi(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,h=r;var w=s,B=C;try{B()}catch(Q){Ze(h,w,Q)}}}l=l.next}while(l!==d)}}catch(Q){Ze(r,r.return,Q)}}function My(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{bg(r,s)}catch(l){Ze(t,t.return,l)}}}function Vy(t,r,s){s.props=La(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ze(t,r,l)}}function ml(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ze(t,r,h)}}function ur(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ze(t,r,h)}else s.current=null}function Ly(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ze(t,t.return,h)}}function ad(t,r,s){try{var l=t.stateNode;WC(l,t.type,s,r),l[pt]=r}catch(h){Ze(t,t.return,h)}}function ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ni(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ni(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=wu));else if(l!==4&&(l===27&&Ni(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(od(t,r,s),t=t.sibling;t!==null;)od(t,r,s),t=t.sibling}function gu(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&Ni(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(gu(t,r,s),t=t.sibling;t!==null;)gu(t,r,s),t=t.sibling}function Uy(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ft(r,l,s),r[Ct]=t,r[pt]=s}catch(d){Ze(t,t.return,d)}}var Kr=!1,ft=!1,ld=!1,zy=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function PC(t,r){if(t=t.containerInfo,Pd=Mu,t=Xp(t),sf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,C=-1,w=-1,B=0,Q=0,Z=t,H=null;t:for(;;){for(var G;Z!==s||h!==0&&Z.nodeType!==3||(C=_+h),Z!==d||l!==0&&Z.nodeType!==3||(w=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(G=Z.firstChild)!==null;)H=Z,Z=G;for(;;){if(Z===t)break t;if(H===s&&++B===h&&(C=_),H===d&&++Q===l&&(w=_),(G=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=G}s=C===-1||w===-1?null:{start:C,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(Od={focusedElem:t,selectionRange:s},Mu=!1,Mt=r;Mt!==null;)if(r=Mt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Mt=t;else for(;Mt!==null;){switch(r=Mt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var _e=La(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(_e,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ze(s,s.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Ld(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Mt=t;break}Mt=r.return}}function qy(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ti(t,s),l&4&&dl(5,s);break;case 1:if(Ti(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){Ze(s,s.return,_)}else{var h=La(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(s,s.return,_)}}l&64&&My(s),l&512&&ml(s,s.return);break;case 3:if(Ti(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{bg(t,r)}catch(_){Ze(s,s.return,_)}}break;case 27:r===null&&l&4&&Uy(s);case 26:case 5:Ti(t,s),r===null&&l&4&&Ly(s),l&512&&ml(s,s.return);break;case 12:Ti(t,s);break;case 13:Ti(t,s),l&4&&Hy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=BC.bind(null,s),aA(t,s))));break;case 22:if(l=s.memoizedState!==null||Kr,!l){r=r!==null&&r.memoizedState!==null||ft,h=Kr;var d=ft;Kr=l,(ft=r)&&!d?Ci(t,s,(s.subtreeFlags&8772)!==0):Ti(t,s),Kr=h,ft=d}break;case 30:break;default:Ti(t,s)}}function By(t){var r=t.alternate;r!==null&&(t.alternate=null,By(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ui(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,ln=!1;function Yr(t,r,s){for(s=s.child;s!==null;)Fy(t,r,s),s=s.sibling}function Fy(t,r,s){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(ot,s)}catch{}switch(s.tag){case 26:ft||ur(s,r),Yr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ft||ur(s,r);var l=nt,h=ln;Ni(s.type)&&(nt=s.stateNode,ln=!1),Yr(t,r,s),Cl(s.stateNode),nt=l,ln=h;break;case 5:ft||ur(s,r);case 6:if(l=nt,h=ln,nt=null,Yr(t,r,s),nt=l,ln=h,nt!==null)if(ln)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(s.stateNode)}catch(d){Ze(s,r,d)}else try{nt.removeChild(s.stateNode)}catch(d){Ze(s,r,d)}break;case 18:nt!==null&&(ln?(t=nt,DE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),xl(t)):DE(nt,s.stateNode));break;case 4:l=nt,h=ln,nt=s.stateNode.containerInfo,ln=!0,Yr(t,r,s),nt=l,ln=h;break;case 0:case 11:case 14:case 15:ft||bi(2,s,r),ft||bi(4,s,r),Yr(t,r,s);break;case 1:ft||(ur(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Vy(s,r,l)),Yr(t,r,s);break;case 21:Yr(t,r,s);break;case 22:ft=(l=ft)||s.memoizedState!==null,Yr(t,r,s),ft=l;break;default:Yr(t,r,s)}}function Hy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(s){Ze(r,r.return,s)}}function OC(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new zy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new zy),r;default:throw Error(a(435,t.tag))}}function cd(t,r){var s=OC(t);r.forEach(function(l){var h=FC.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function yn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=r,C=_;e:for(;C!==null;){switch(C.tag){case 27:if(Ni(C.type)){nt=C.stateNode,ln=!1;break e}break;case 5:nt=C.stateNode,ln=!1;break e;case 3:case 4:nt=C.stateNode.containerInfo,ln=!0;break e}C=C.return}if(nt===null)throw Error(a(160));Fy(d,_,h),nt=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)jy(r,t),r=r.sibling}var Hn=null;function jy(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(r,t),En(t),l&4&&(bi(3,t,t.return),dl(3,t),bi(5,t,t.return));break;case 1:yn(r,t),En(t),l&512&&(ft||s===null||ur(s,s.return)),l&64&&Kr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Hn;if(yn(r,t),En(t),l&512&&(ft||s===null||ur(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ha]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,s),d[Ct]=t,ut(d),l=d;break e;case"link":var _=UE("link","href",h).get(l+(s.href||""));if(_){for(var C=0;C<_.length;C++)if(d=_[C],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(C,1);break t}}d=h.createElement(l),Ft(d,l,s),h.head.appendChild(d);break;case"meta":if(_=UE("meta","content",h).get(l+(s.content||""))){for(C=0;C<_.length;C++)if(d=_[C],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(C,1);break t}}d=h.createElement(l),Ft(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Ct]=t,ut(d),l=d}t.stateNode=l}else zE(h,t.type,t.stateNode);else t.stateNode=kE(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?zE(h,t.type,t.stateNode):kE(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ad(t,t.memoizedProps,s.memoizedProps)}break;case 27:yn(r,t),En(t),l&512&&(ft||s===null||ur(s,s.return)),s!==null&&l&4&&ad(t,t.memoizedProps,s.memoizedProps);break;case 5:if(yn(r,t),En(t),l&512&&(ft||s===null||ur(s,s.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(G){Ze(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,s!==null?s.memoizedProps:h)),l&1024&&(ld=!0);break;case 6:if(yn(r,t),En(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(G){Ze(t,t.return,G)}}break;case 3:if(xu=null,h=Hn,Hn=Nu(r.containerInfo),yn(r,t),Hn=h,En(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{xl(r.containerInfo)}catch(G){Ze(t,t.return,G)}ld&&(ld=!1,Gy(t));break;case 4:l=Hn,Hn=Nu(t.stateNode.containerInfo),yn(r,t),En(t),Hn=l;break;case 12:yn(r,t),En(t);break;case 13:yn(r,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(pd=An()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cd(t,l)));break;case 22:h=t.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,B=Kr,Q=ft;if(Kr=B||h,ft=Q||w,yn(r,t),ft=Q,Kr=B,En(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||w||Kr||ft||ka(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){w=s=r;try{if(d=w.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=w.stateNode;var Z=w.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;C.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){Ze(w,w.return,G)}}}else if(r.tag===6){if(s===null){w=r;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(G){Ze(w,w.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,cd(t,s))));break;case 19:yn(r,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cd(t,l)));break;case 30:break;case 21:break;default:yn(r,t),En(t)}}function En(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(ky(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=sd(t);gu(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(Rn(_,""),s.flags&=-33);var C=sd(t);gu(t,C,_);break;case 3:case 4:var w=s.stateNode.containerInfo,B=sd(t);od(t,B,w);break;default:throw Error(a(161))}}catch(Q){Ze(t,t.return,Q)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Gy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ti(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)qy(t,r.alternate,r),r=r.sibling}function ka(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:bi(4,r,r.return),ka(r);break;case 1:ur(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Vy(r,r.return,s),ka(r);break;case 27:Cl(r.stateNode);case 26:case 5:ur(r,r.return),ka(r);break;case 22:r.memoizedState===null&&ka(r);break;case 30:ka(r);break;default:ka(r)}t=t.sibling}}function Ci(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ci(h,d,s),dl(4,d);break;case 1:if(Ci(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ze(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var C=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)_g(w[h],C)}catch(B){Ze(l,l.return,B)}}s&&_&64&&My(d),ml(d,d.return);break;case 27:Uy(d);case 26:case 5:Ci(h,d,s),s&&l===null&&_&4&&Ly(d),ml(d,d.return);break;case 12:Ci(h,d,s);break;case 13:Ci(h,d,s),s&&_&4&&Hy(h,d);break;case 22:d.memoizedState===null&&Ci(h,d,s),ml(d,d.return);break;case 30:break;default:Ci(h,d,s)}r=r.sibling}}function ud(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Jo(s))}function hd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Jo(t))}function hr(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$y(t,r,s,l),r=r.sibling}function $y(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:hr(t,r,s,l),h&2048&&dl(9,r);break;case 1:hr(t,r,s,l);break;case 3:hr(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){hr(t,r,s,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,C=d.onPostCommit;typeof C=="function"&&C(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Ze(r,r.return,w)}}else hr(t,r,s,l);break;case 13:hr(t,r,s,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?hr(t,r,s,l):pl(t,r):d._visibility&2?hr(t,r,s,l):(d._visibility|=2,Ms(t,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&ud(_,r);break;case 24:hr(t,r,s,l),h&2048&&hd(r.alternate,r);break;default:hr(t,r,s,l)}}function Ms(t,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,C=s,w=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ms(d,_,C,w,h),dl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Ms(d,_,C,w,h):pl(d,_):(Q._visibility|=2,Ms(d,_,C,w,h)),h&&B&2048&&ud(_.alternate,_);break;case 24:Ms(d,_,C,w,h),h&&B&2048&&hd(_.alternate,_);break;default:Ms(d,_,C,w,h)}r=r.sibling}}function pl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:pl(s,l),h&2048&&ud(l.alternate,l);break;case 24:pl(s,l),h&2048&&hd(l.alternate,l);break;default:pl(s,l)}r=r.sibling}}var gl=8192;function Vs(t){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 26:Vs(t),t.flags&gl&&t.memoizedState!==null&&EA(Hn,t.memoizedState,t.memoizedProps);break;case 5:Vs(t);break;case 3:case 4:var r=Hn;Hn=Nu(t.stateNode.containerInfo),Vs(t),Hn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=gl,gl=16777216,Vs(t),gl=r):Vs(t));break;default:Vs(t)}}function Yy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function yl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Mt=l,Xy(l,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qy(t),t=t.sibling}function Qy(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&bi(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,yu(t)):yl(t);break;default:yl(t)}}function yu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Mt=l,Xy(l,t)}Yy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:bi(8,r,r.return),yu(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,yu(r));break;default:yu(r)}t=t.sibling}}function Xy(t,r){for(;Mt!==null;){var s=Mt;switch(s.tag){case 0:case 11:case 15:bi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Mt=l;else e:for(s=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(By(l),l===s){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var MC={getCacheForType:function(t){var r=Kt(Rt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},VC=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,Ne=null,Le=0,$e=0,vn=null,Ai=!1,Ls=!1,fd=!1,Qr=0,ct=0,Si=0,Ua=0,dd=0,Vn=0,ks=0,El=null,cn=null,md=!1,pd=0,Eu=1/0,vu=null,Ri=null,Bt=0,wi=null,Us=null,zs=0,gd=0,yd=null,Zy=null,vl=0,Ed=null;function _n(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(Y.T!==null){var t=Rs;return t!==0?t:Sd()}return li()}function Wy(){Vn===0&&(Vn=(Le&536870912)===0||Fe?Io():536870912);var t=Mn.current;return t!==null&&(t.flags|=32),Vn}function bn(t,r,s){(t===Je&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(qs(t,0),Ii(t,Le,Vn,!1)),wr(t,s),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Ua|=s),ct===4&&Ii(t,Le,Vn,!1)),fr(t))}function Jy(t,r,s){if((Ge&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&t.expiredLanes)===0||ua(t,r),h=l?UC(t,r):bd(t,r,!0),d=l;do{if(h===0){Ls&&!l&&Ii(t,r,0,!1);break}else{if(s=t.current.alternate,d&&!LC(s)){h=bd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var C=t;h=El;var w=C.current.memoizedState.isDehydrated;if(w&&(qs(C,_).flags|=256),_=bd(C,_,!1),_!==2){if(fd&&!w){C.errorRecoveryDisabledLanes|=d,Ua|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){qs(t,0),Ii(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Ii(l,r,Vn,!Ai);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=pd+300-An(),10<h)){if(Ii(l,r,Vn,!Ai),rs(l,0,!0)!==0)break e;l.timeoutHandle=IE(eE.bind(null,l,s,cn,vu,md,r,Vn,Ua,ks,Ai,d,2,-0,0),h);break e}eE(l,s,cn,vu,md,r,Vn,Ua,ks,Ai,d,0,-0,0)}}break}while(!0);fr(t)}function eE(t,r,s,l,h,d,_,C,w,B,Q,Z,H,G){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:yA},Ky(r),Z=vA(),Z!==null)){t.cancelPendingCommit=Z(oE.bind(null,t,r,d,s,l,h,_,C,w,Q,1,H,G)),Ii(t,d,_,!B);return}oE(t,r,d,s,l,h,_,C,w)}function LC(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ii(t,r,s,l){r&=~dd,r&=~Ua,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-$t(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&Zn(t,s,r)}function _u(){return(Ge&6)===0?(_l(0),!1):!0}function vd(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,Br=Pa=null,Lf(t),Ps=null,ul=0,t=Ne;for(;t!==null;)Oy(t.alternate,t),t=t.return;Ne=null}}function qs(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,eA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),vd(),Je=t,Ne=s=Ur(t.current,null),Le=r,$e=0,vn=null,Ai=!1,Ls=ua(t,r),fd=!1,ks=Vn=dd=Ua=Si=ct=0,cn=El=null,md=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-$t(l),d=1<<h;r|=t[h],l&=~d}return Qr=r,Fc(),s}function tE(t,r){Re=null,Y.H=ou,r===tl||r===Zc?(r=Eg(),$e=3):r===pg?(r=Eg(),$e=4):$e=r===vy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Ne===null&&(ct=1,fu(t,Dn(r,t.current)))}function nE(){var t=Y.H;return Y.H=ou,t===null?ou:t}function rE(){var t=Y.A;return Y.A=MC,t}function _d(){ct=4,Ai||(Le&4194048)!==Le&&Mn.current!==null||(Ls=!0),(Si&134217727)===0&&(Ua&134217727)===0||Je===null||Ii(Je,Le,Vn,!1)}function bd(t,r,s){var l=Ge;Ge|=2;var h=nE(),d=rE();(Je!==t||Le!==r)&&(vu=null,qs(t,r)),r=!1;var _=ct;e:do try{if($e!==0&&Ne!==null){var C=Ne,w=vn;switch($e){case 8:vd(),_=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var B=$e;if($e=0,vn=null,Bs(t,C,w,B),s&&Ls){_=0;break e}break;default:B=$e,$e=0,vn=null,Bs(t,C,w,B)}}kC(),_=ct;break}catch(Q){tE(t,Q)}while(!0);return r&&t.shellSuspendCounter++,Br=Pa=null,Ge=l,Y.H=h,Y.A=d,Ne===null&&(Je=null,Le=0,Fc()),_}function kC(){for(;Ne!==null;)iE(Ne)}function UC(t,r){var s=Ge;Ge|=2;var l=nE(),h=rE();Je!==t||Le!==r?(vu=null,Eu=An()+500,qs(t,r)):Ls=ua(t,r);e:do try{if($e!==0&&Ne!==null){r=Ne;var d=vn;t:switch($e){case 1:$e=0,vn=null,Bs(t,r,d,1);break;case 2:case 9:if(gg(d)){$e=0,vn=null,aE(r);break}r=function(){$e!==2&&$e!==9||Je!==t||($e=7),fr(t)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:gg(d)?($e=0,vn=null,aE(r)):($e=0,vn=null,Bs(t,r,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var C=Ne;if(!_||qE(_)){$e=0,vn=null;var w=C.sibling;if(w!==null)Ne=w;else{var B=C.return;B!==null?(Ne=B,bu(B)):Ne=null}break t}}$e=0,vn=null,Bs(t,r,d,5);break;case 6:$e=0,vn=null,Bs(t,r,d,6);break;case 8:vd(),ct=6;break e;default:throw Error(a(462))}}zC();break}catch(Q){tE(t,Q)}while(!0);return Br=Pa=null,Y.H=l,Y.A=h,Ge=s,Ne!==null?0:(Je=null,Le=0,Fc(),ct)}function zC(){for(;Ne!==null&&!Ao();)iE(Ne)}function iE(t){var r=xy(t.alternate,t,Qr);t.memoizedProps=t.pendingProps,r===null?bu(t):Ne=r}function aE(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Sy(s,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Sy(s,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Lf(r);default:Oy(s,r),r=Ne=sg(r,Qr),r=xy(s,r,Qr)}t.memoizedProps=t.pendingProps,r===null?bu(t):Ne=r}function Bs(t,r,s,l){Br=Pa=null,Lf(r),Ps=null,ul=0;var h=r.return;try{if(IC(t,h,r,s,Le)){ct=1,fu(t,Dn(s,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ct=1,fu(t,Dn(s,t.current)),Ne=null;return}r.flags&32768?(Fe||l===1?t=!0:Ls||(Le&536870912)!==0?t=!1:(Ai=t=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),sE(r,t)):bu(r)}function bu(t){var r=t;do{if((r.flags&32768)!==0){sE(r,Ai);return}t=r.return;var s=DC(r.alternate,r,Qr);if(s!==null){Ne=s;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);ct===0&&(ct=5)}function sE(t,r){do{var s=xC(t.alternate,t);if(s!==null){s.flags&=32767,Ne=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=s}while(t!==null);ct=6,Ne=null}function oE(t,r,s,l,h,d,_,C,w){t.cancelPendingCommit=null;do Tu();while(Bt!==0);if((Ge&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(d=r.lanes|r.childLanes,d|=hf,Do(t,s,d,_,C,w),t===Je&&(Ne=Je=null,Le=0),Us=r,wi=t,zs=s,gd=d,yd=h,Zy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HC(sa,function(){return fE(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ae.p,ae.p=2,_=Ge,Ge|=4;try{PC(t,r,s)}finally{Ge=_,ae.p=h,Y.T=l}}Bt=1,lE(),cE(),uE()}}function lE(){if(Bt===1){Bt=0;var t=wi,r=Us,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{jy(r,t);var d=Od,_=Xp(t.containerInfo),C=d.focusedElem,w=d.selectionRange;if(_!==C&&C&&C.ownerDocument&&Qp(C.ownerDocument.documentElement,C)){if(w!==null&&sf(C)){var B=w.start,Q=w.end;if(Q===void 0&&(Q=B),"selectionStart"in C)C.selectionStart=B,C.selectionEnd=Math.min(Q,C.value.length);else{var Z=C.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var G=H.getSelection(),_e=C.textContent.length,Ee=Math.min(w.start,_e),Xe=w.end===void 0?Ee:Math.min(w.end,_e);!G.extend&&Ee>Xe&&(_=Xe,Xe=Ee,Ee=_);var k=Yp(C,Ee),P=Yp(C,Xe);if(k&&P&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var q=Z.createRange();q.setStart(k.node,k.offset),G.removeAllRanges(),Ee>Xe?(G.addRange(q),G.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),G.addRange(q))}}}}for(Z=[],G=C;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Z.length;C++){var X=Z[C];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Mu=!!Pd,Od=Pd=null}finally{Ge=h,ae.p=l,Y.T=s}}t.current=r,Bt=2}}function cE(){if(Bt===2){Bt=0;var t=wi,r=Us,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{qy(t,r.alternate,r)}finally{Ge=h,ae.p=l,Y.T=s}}Bt=3}}function uE(){if(Bt===4||Bt===3){Bt=0,yc();var t=wi,r=Us,s=zs,l=Zy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,Us=wi=null,hE(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ri=null),is(s),r=r.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(ot,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=ae.p,ae.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var C=l[_];d(C.value,{componentStack:C.stack})}}finally{Y.T=r,ae.p=h}}(zs&3)!==0&&Tu(),fr(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Ed?vl++:(vl=0,Ed=t):vl=0,_l(0)}}function hE(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Jo(r)))}function Tu(t){return lE(),cE(),uE(),fE()}function fE(){if(Bt!==5)return!1;var t=wi,r=gd;gd=0;var s=is(zs),l=Y.T,h=ae.p;try{ae.p=32>s?32:s,Y.T=null,s=yd,yd=null;var d=wi,_=zs;if(Bt=0,Us=wi=null,zs=0,(Ge&6)!==0)throw Error(a(331));var C=Ge;if(Ge|=4,Qy(d.current),$y(d,d.current,_,s),Ge=C,_l(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{ae.p=h,Y.T=l,hE(t,r)}}function dE(t,r,s){r=Dn(s,r),r=Xf(t.stateNode,r,2),t=yi(t,r,2),t!==null&&(wr(t,2),fr(t))}function Ze(t,r,s){if(t.tag===3)dE(t,t,s);else for(;r!==null;){if(r.tag===3){dE(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ri===null||!Ri.has(l))){t=Dn(s,t),s=yy(2),l=yi(r,s,2),l!==null&&(Ey(s,l,r,t),wr(l,2),fr(l));break}}r=r.return}}function Td(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new VC;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(fd=!0,h.add(s),t=qC.bind(null,t,r,s),r.then(t,t))}function qC(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Je===t&&(Le&s)===s&&(ct===4||ct===3&&(Le&62914560)===Le&&300>An()-pd?(Ge&2)===0&&qs(t,0):dd|=s,ks===Le&&(ks=0)),fr(t)}function mE(t,r){r===0&&(r=No()),t=Ts(t,r),t!==null&&(wr(t,r),fr(t))}function BC(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),mE(t,s)}function FC(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),mE(t,s)}function HC(t,r){return ia(t,r)}var Cu=null,Fs=null,Cd=!1,Au=!1,Ad=!1,za=0;function fr(t){t!==Fs&&t.next===null&&(Fs===null?Cu=Fs=t:Fs=Fs.next=t),Au=!0,Cd||(Cd=!0,GC())}function _l(t,r){if(!Ad&&Au){Ad=!0;do for(var s=!1,l=Cu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,C=l.pingedLanes;d=(1<<31-$t(42|t)+1)-1,d&=h&~(_&~C),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,EE(l,d))}else d=Le,d=rs(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ua(l,d)||(s=!0,EE(l,d));l=l.next}while(s);Ad=!1}}function jC(){pE()}function pE(){Au=Cd=!1;var t=0;za!==0&&(JC()&&(t=za),za=0);for(var r=An(),s=null,l=Cu;l!==null;){var h=l.next,d=gE(l,r);d===0?(l.next=null,s===null?Cu=h:s.next=h,h===null&&(Fs=s)):(s=l,(t!==0||(d&3)!==0)&&(Au=!0)),l=h}_l(t)}function gE(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-$t(d),C=1<<_,w=h[_];w===-1?((C&s)===0||(C&l)!==0)&&(h[_]=wo(C,r)):w<=r&&(t.expiredLanes|=C),d&=~C}if(r=Je,s=Le,s=rs(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&aa(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ua(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&aa(l),is(s)){case 2:case 8:s=ts;break;case 32:s=sa;break;case 268435456:s=ns;break;default:s=sa}return l=yE.bind(null,t),s=ia(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&aa(l),t.callbackPriority=2,t.callbackNode=null,2}function yE(t,r){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Tu()&&t.callbackNode!==s)return null;var l=Le;return l=rs(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jy(t,l,r),gE(t,An()),t.callbackNode!=null&&t.callbackNode===s?yE.bind(null,t):null)}function EE(t,r){if(Tu())return null;Jy(t,r,!0)}function GC(){tA(function(){(Ge&6)!==0?ia(So,jC):pE()})}function Sd(){return za===0&&(za=Io()),za}function vE(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:us(""+t)}function _E(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function $C(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=vE((h[pt]||null).action),_=l.submitter;_&&(r=(r=_[pt]||null)?vE(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var C=new hs("action","action",null,l,h);t.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(za!==0){var w=_?_E(h,_):new FormData(h);Gf(s,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(C.preventDefault(),w=_?_E(h,_):new FormData(h),Gf(s,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Rd=0;Rd<uf.length;Rd++){var wd=uf[Rd],KC=wd.toLowerCase(),YC=wd[0].toUpperCase()+wd.slice(1);Fn(KC,"on"+YC)}Fn(Jp,"onAnimationEnd"),Fn(eg,"onAnimationIteration"),Fn(tg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(hC,"onTransitionRun"),Fn(fC,"onTransitionStart"),Fn(dC,"onTransitionCancel"),Fn(ng,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function bE(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var C=l[_],w=C.instance,B=C.currentTarget;if(C=C.listener,w!==d&&h.isPropagationStopped())break e;d=C,h.currentTarget=B;try{d(h)}catch(Q){hu(Q)}h.currentTarget=null,d=w}else for(_=0;_<l.length;_++){if(C=l[_],w=C.instance,B=C.currentTarget,C=C.listener,w!==d&&h.isPropagationStopped())break e;d=C,h.currentTarget=B;try{d(h)}catch(Q){hu(Q)}h.currentTarget=null,d=w}}}}function De(t,r){var s=r[Po];s===void 0&&(s=r[Po]=new Set);var l=t+"__bubble";s.has(l)||(TE(r,t,2,!1),s.add(l))}function Id(t,r,s){var l=0;r&&(l|=4),TE(s,t,l,r)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[Su]){t[Su]=!0,Oo.forEach(function(s){s!=="selectionchange"&&(QC.has(s)||Id(s,!1,t),Id(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Su]||(r[Su]=!0,Id("selectionchange",!1,r))}}function TE(t,r,s,l){switch($E(r)){case 2:var h=TA;break;case 8:h=CA;break;default:h=Hd}s=h.bind(null,r,s,t),h=void 0,!In||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function Dd(t,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var C=l.stateNode.containerInfo;if(C===h)break;if(_===4)for(_=l.return;_!==null;){var w=_.tag;if((w===3||w===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;C!==null;){if(_=Ir(C),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){l=d=_;continue e}C=C.parentNode}}l=l.return}wc(function(){var B=d,Q=wn(s),Z=[];e:{var H=rg.get(t);if(H!==void 0){var G=hs,_e=t;switch(t){case"keypress":if(rr(s)===0)break e;case"keydown":case"keyup":G=ys;break;case"focusin":_e="focus",G=ms;break;case"focusout":_e="blur",G=ms;break;case"beforeblur":case"afterblur":G=ms;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Vc;break;case Jp:case eg:case tg:G=ps;break;case ng:G=kc;break;case"scroll":case"scrollend":G=Ic;break;case"wheel":G=Es;break;case"copy":case"cut":case"paste":G=gs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Go;break;case"toggle":case"beforetoggle":G=zc}var Ee=(r&4)!==0,Xe=!Ee&&(t==="scroll"||t==="scrollend"),k=Ee?H!==null?H+"Capture":null:H;Ee=[];for(var P=B,q;P!==null;){var X=P;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||k===null||(X=Ea(P,k),X!=null&&Ee.push(Tl(P,X,q))),Xe)break;P=P.return}0<Ee.length&&(H=new G(H,_e,null,s,Q),Z.push({event:H,listeners:Ee}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&s!==Pr&&(_e=s.relatedTarget||s.fromElement)&&(Ir(_e)||_e[Sn]))break e;if((G||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,G?(_e=s.relatedTarget||s.toElement,G=B,_e=_e?Ir(_e):null,_e!==null&&(Xe=c(_e),Ee=_e.tag,_e!==Xe||Ee!==5&&Ee!==27&&Ee!==6)&&(_e=null)):(G=null,_e=B),G!==_e)){if(Ee=Nn,X="onMouseLeave",k="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Go,X="onPointerLeave",k="onPointerEnter",P="pointer"),Xe=G==null?H:Jn(G),q=_e==null?H:Jn(_e),H=new Ee(X,P+"leave",G,s,Q),H.target=Xe,H.relatedTarget=q,X=null,Ir(Q)===B&&(Ee=new Ee(k,P+"enter",_e,s,Q),Ee.target=q,Ee.relatedTarget=Xe,X=Ee),Xe=X,G&&_e)t:{for(Ee=G,k=_e,P=0,q=Ee;q;q=Hs(q))P++;for(q=0,X=k;X;X=Hs(X))q++;for(;0<P-q;)Ee=Hs(Ee),P--;for(;0<q-P;)k=Hs(k),q--;for(;P--;){if(Ee===k||k!==null&&Ee===k.alternate)break t;Ee=Hs(Ee),k=Hs(k)}Ee=null}else Ee=null;G!==null&&CE(Z,H,G,Ee,!1),_e!==null&&Xe!==null&&CE(Z,Xe,_e,Ee,!0)}}e:{if(H=B?Jn(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ue=Fp;else if(St(H))if(Hp)ue=lC;else{ue=sC;var Ie=aC}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Uo(B.elementType)&&(ue=Fp):ue=oC;if(ue&&(ue=ue(t,B))){kr(Z,ue,s,Q);break e}Ie&&Ie(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&fi(H,"number",H.value)}switch(Ie=B?Jn(B):window,t){case"focusin":(St(Ie)||Ie.contentEditable==="true")&&(vs=Ie,of=B,Yo=null);break;case"focusout":Yo=of=vs=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,Zp(Z,s,Q);break;case"selectionchange":if(uC)break;case"keydown":case"keyup":Zp(Z,s,Q)}var de;if(sr)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Me?$(t,s)&&(ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(v&&s.locale!=="ko"&&(Me||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Me&&(de=qo()):(nr=Q,di="value"in nr?nr.value:nr.textContent,Me=!0)),Ie=Ru(B,ve),0<Ie.length&&(ve=new Ho(ve,t,null,s,Q),Z.push({event:ve,listeners:Ie}),de?ve.data=de:(de=ie(s),de!==null&&(ve.data=de)))),(de=g?At(t,s):Ve(t,s))&&(ve=Ru(B,"onBeforeInput"),0<ve.length&&(Ie=new Ho("onBeforeInput","beforeinput",null,s,Q),Z.push({event:Ie,listeners:ve}),Ie.data=de)),$C(Z,t,B,s,Q)}bE(Z,r)})}function Tl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Ru(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ea(t,s),h!=null&&l.unshift(Tl(t,h,d)),h=Ea(t,r),h!=null&&l.push(Tl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function CE(t,r,s,l,h){for(var d=r._reactName,_=[];s!==null&&s!==l;){var C=s,w=C.alternate,B=C.stateNode;if(C=C.tag,w!==null&&w===l)break;C!==5&&C!==26&&C!==27||B===null||(w=B,h?(B=Ea(s,d),B!=null&&_.unshift(Tl(s,B,w))):h||(B=Ea(s,d),B!=null&&_.push(Tl(s,B,w)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var XC=/\r\n?/g,ZC=/\u0000|\uFFFD/g;function AE(t){return(typeof t=="string"?t:""+t).replace(XC,`
`).replace(ZC,"")}function SE(t,r){return r=AE(r),AE(t)===r}function wu(){}function Qe(t,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(t,""+l);break;case"className":er(t,"class",l);break;case"tabIndex":er(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":er(t,s,l);break;case"style":ko(t,l,d);break;case"data":if(r!=="object"){er(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=us(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&Qe(t,r,"name",h.name,h,null),Qe(t,r,"formEncType",h.formEncType,h,null),Qe(t,r,"formMethod",h.formMethod,h,null),Qe(t,r,"formTarget",h.formTarget,h,null)):(Qe(t,r,"encType",h.encType,h,null),Qe(t,r,"method",h.method,h,null),Qe(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=us(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=wu);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=us(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":De("beforetoggle",t),De("toggle",t),hi(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Jh.get(s)||s,hi(t,s,l))}}function xd(t,r,s,l,h,d){switch(s){case"style":ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!as.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=t[pt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):hi(t,s,l)}}}function Ft(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Qe(t,r,d,_,s,null)}}h&&Qe(t,r,"srcSet",s.srcSet,s,null),l&&Qe(t,r,"src",s.src,s,null);return;case"input":De("invalid",t);var C=d=_=h=null,w=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":w=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:Qe(t,r,l,Q,s,null)}}pa(t,d,C,w,B,_,h,!1),cs(t);return;case"select":De("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(C=s[h],C!=null))switch(h){case"value":d=C;break;case"defaultValue":_=C;break;case"multiple":l=C;default:Qe(t,r,h,C,s,null)}r=d,s=_,t.multiple=!!l,r!=null?xr(t,!!l,r,!1):s!=null&&xr(t,!!l,s,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(C=s[_],C!=null))switch(_){case"value":l=C;break;case"defaultValue":h=C;break;case"children":d=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Qe(t,r,_,C,s,null)}ga(t,l,h,d),cs(t);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(l=s[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(t,r,w,l,s,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)De(bl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Qe(t,r,B,l,s,null)}return;default:if(Uo(r)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&xd(t,r,Q,l,s,void 0));return}}for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null&&Qe(t,r,C,l,s,null))}function WC(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,C=null,w=null,B=null,Q=null;for(G in s){var Z=s[G];if(s.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":w=Z;default:l.hasOwnProperty(G)||Qe(t,r,G,null,l,Z)}}for(var H in l){var G=l[H];if(Z=s[H],l.hasOwnProperty(H)&&(G!=null||Z!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":Q=G;break;case"value":_=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,r));break;default:G!==Z&&Qe(t,r,H,G,l,Z)}}mn(t,_,C,w,B,Q,d,h);return;case"select":G=_=C=H=null;for(d in s)if(w=s[d],s.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":G=w;default:l.hasOwnProperty(d)||Qe(t,r,d,null,l,w)}for(h in l)if(d=l[h],w=s[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":H=d;break;case"defaultValue":C=d;break;case"multiple":_=d;default:d!==w&&Qe(t,r,h,d,l,w)}r=C,s=_,l=G,H!=null?xr(t,!!s,H,!1):!!l!=!!s&&(r!=null?xr(t,!!s,r,!0):xr(t,!!s,s?[]:"",!1));return;case"textarea":G=H=null;for(C in s)if(h=s[C],s.hasOwnProperty(C)&&h!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Qe(t,r,C,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Qe(t,r,_,h,l,d)}Ke(t,H,G);return;case"option":for(var _e in s)if(H=s[_e],s.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:Qe(t,r,_e,null,l,H)}for(w in l)if(H=l[w],G=s[w],l.hasOwnProperty(w)&&H!==G&&(H!=null||G!=null))switch(w){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Qe(t,r,w,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in s)H=s[Ee],s.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee)&&Qe(t,r,Ee,null,l,H);for(B in l)if(H=l[B],G=s[B],l.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,r));break;default:Qe(t,r,B,H,l,G)}return;default:if(Uo(r)){for(var Xe in s)H=s[Xe],s.hasOwnProperty(Xe)&&H!==void 0&&!l.hasOwnProperty(Xe)&&xd(t,r,Xe,void 0,l,H);for(Q in l)H=l[Q],G=s[Q],!l.hasOwnProperty(Q)||H===G||H===void 0&&G===void 0||xd(t,r,Q,H,l,G);return}}for(var k in s)H=s[k],s.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Qe(t,r,k,null,l,H);for(Z in l)H=l[Z],G=s[Z],!l.hasOwnProperty(Z)||H===G||H==null&&G==null||Qe(t,r,Z,H,l,G)}var Pd=null,Od=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function RE(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wE(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Md(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vd=null;function JC(){var t=window.event;return t&&t.type==="popstate"?t===Vd?!1:(Vd=t,!0):(Vd=null,!1)}var IE=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,NE=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof NE<"u"?function(t){return NE.resolve(null).then(t).catch(nA)}:IE;function nA(t){setTimeout(function(){throw t})}function Ni(t){return t==="head"}function DE(t,r){var s=r,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var _=t.ownerDocument;if(s&1&&Cl(_.documentElement),s&2&&Cl(_.body),s&4)for(s=_.head,Cl(s),_=s.firstChild;_;){var C=_.nextSibling,w=_.nodeName;_[ha]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=C}}if(h===0){t.removeChild(d),xl(r);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);xl(r)}function Ld(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ld(s),ui(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function rA(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ha])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function iA(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=jn(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function aA(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Ud=null;function xE(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function PE(t,r,s){switch(r=Iu(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Cl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ui(t)}var Ln=new Map,OE=new Set;function Nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xr=ae.d;ae.d={f:sA,r:oA,D:lA,C:cA,L:uA,m:hA,X:dA,S:fA,M:mA};function sA(){var t=Xr.f(),r=_u();return t||r}function oA(t){var r=Wn(t);r!==null&&r.tag===5&&r.type==="form"?Jg(r):Xr.r(t)}var js=typeof document>"u"?null:document;function ME(t,r,s){var l=js;if(l&&typeof r=="string"&&r){var h=gt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),OE.has(h)||(OE.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Ft(r,"link",t),ut(r),l.head.appendChild(r)))}}function lA(t){Xr.D(t),ME("dns-prefetch",t,null)}function cA(t,r){Xr.C(t,r),ME("preconnect",t,r)}function uA(t,r,s){Xr.L(t,r,s);var l=js;if(l&&t&&r){var h='link[rel="preload"][as="'+gt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+gt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+gt(s.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var d=h;switch(r){case"style":d=Gs(t);break;case"script":d=$s(t)}Ln.has(d)||(t=b({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),Ln.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Al(d))||r==="script"&&l.querySelector(Sl(d))||(r=l.createElement("link"),Ft(r,"link",t),ut(r),l.head.appendChild(r)))}}function hA(t,r){Xr.m(t,r);var s=js;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$s(t)}if(!Ln.has(d)&&(t=b({rel:"modulepreload",href:t},r),Ln.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Sl(d)))return}l=s.createElement("link"),Ft(l,"link",t),ut(l),s.head.appendChild(l)}}}function fA(t,r,s){Xr.S(t,r,s);var l=js;if(l&&t){var h=en(l).hoistableStyles,d=Gs(t);r=r||"default";var _=h.get(d);if(!_){var C={loading:0,preload:null};if(_=l.querySelector(Al(d)))C.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},s),(s=Ln.get(d))&&zd(t,s);var w=_=l.createElement("link");ut(w),Ft(w,"link",t),w._p=new Promise(function(B,Q){w.onload=B,w.onerror=Q}),w.addEventListener("load",function(){C.loading|=1}),w.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Du(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:C},h.set(d,_)}}}function dA(t,r){Xr.X(t,r);var s=js;if(s&&t){var l=en(s).hoistableScripts,h=$s(t),d=l.get(h);d||(d=s.querySelector(Sl(h)),d||(t=b({src:t,async:!0},r),(r=Ln.get(h))&&qd(t,r),d=s.createElement("script"),ut(d),Ft(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mA(t,r){Xr.M(t,r);var s=js;if(s&&t){var l=en(s).hoistableScripts,h=$s(t),d=l.get(h);d||(d=s.querySelector(Sl(h)),d||(t=b({src:t,async:!0,type:"module"},r),(r=Ln.get(h))&&qd(t,r),d=s.createElement("script"),ut(d),Ft(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function VE(t,r,s,l){var h=(h=be.current)?Nu(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Gs(s.href),s=en(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Gs(s.href);var d=en(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Al(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ln.set(t,s),d||pA(h,t,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$s(s),s=en(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Gs(t){return'href="'+gt(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function LE(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function pA(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",s),ut(r),t.head.appendChild(r))}function $s(t){return'[src="'+gt(t)+'"]'}function Sl(t){return"script[async]"+t}function kE(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+gt(s.href)+'"]');if(l)return r.instance=l,ut(l),l;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ut(l),Ft(l,"style",h),Du(l,s.precedence,t),r.instance=l;case"stylesheet":h=Gs(s.href);var d=t.querySelector(Al(h));if(d)return r.state.loading|=4,r.instance=d,ut(d),d;l=LE(s),(h=Ln.get(h))&&zd(l,h),d=(t.ownerDocument||t).createElement("link"),ut(d);var _=d;return _._p=new Promise(function(C,w){_.onload=C,_.onerror=w}),Ft(d,"link",l),r.state.loading|=4,Du(d,s.precedence,t),r.instance=d;case"script":return d=$s(s.src),(h=t.querySelector(Sl(d)))?(r.instance=h,ut(h),h):(l=s,(h=Ln.get(d))&&(l=b({},s),qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ut(h),Ft(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Du(l,s.precedence,t));return r.instance}function Du(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var C=l[_];if(C.dataset.precedence===r)d=C;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function zd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var xu=null;function UE(t,r,s){if(xu===null){var l=new Map,h=xu=new Map;h.set(s,l)}else h=xu,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[ha]||d[Ct]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var C=l.get(_);C?C.push(d):l.set(_,[d])}}return l}function zE(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function gA(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function qE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Rl=null;function yA(){}function EA(t,r,s){if(Rl===null)throw Error(a(475));var l=Rl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Gs(s.href),d=t.querySelector(Al(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pu.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ut(d);return}d=t.ownerDocument||t,s=LE(s),(h=Ln.get(h))&&zd(s,h),d=d.createElement("link"),ut(d);var _=d;_._p=new Promise(function(C,w){_.onload=C,_.onerror=w}),Ft(d,"link",s),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Pu.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function vA(){if(Rl===null)throw Error(a(475));var t=Rl;return t.stylesheets&&t.count===0&&Bd(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Bd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Pu(){if(this.count--,this.count===0){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ou=null;function Bd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ou=new Map,r.forEach(_A,t),Ou=null,Pu.call(t))}function _A(t,r){if(!(r.state.loading&4)){var s=Ou.get(t);if(s)var l=s.get(null);else{s=new Map,Ou.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=Pu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var wl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function bA(t,r,s,l,h,d,_,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function BE(t,r,s,l,h,d,_,C,w,B,Q,Z){return t=new bA(t,r,s,_,C,w,B,Z),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),t.current=d,d.stateNode=t,r=Tf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},Rf(d),t}function FE(t){return t?(t=Cs,t):Cs}function HE(t,r,s,l,h,d){h=FE(h),l.context===null?l.context=h:l.pendingContext=h,l=gi(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=yi(t,l,r),s!==null&&(bn(s,t,r),rl(s,t,r))}function jE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Fd(t,r){jE(t,r),(t=t.alternate)&&jE(t,r)}function GE(t){if(t.tag===13){var r=Ts(t,67108864);r!==null&&bn(r,t,67108864),Fd(t,67108864)}}var Mu=!0;function TA(t,r,s,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=2,Hd(t,r,s,l)}finally{ae.p=d,Y.T=h}}function CA(t,r,s,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=8,Hd(t,r,s,l)}finally{ae.p=d,Y.T=h}}function Hd(t,r,s,l){if(Mu){var h=jd(l);if(h===null)Dd(t,r,l,Vu,s),KE(t,l);else if(SA(h,t,r,s,l))l.stopPropagation();else if(KE(t,l),r&4&&-1<AA.indexOf(t)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=zn(d.pendingLanes);if(_!==0){var C=d;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var w=1<<31-$t(_);C.entanglements[1]|=w,_&=~w}fr(d),(Ge&6)===0&&(Eu=An()+500,_l(0))}}break;case 13:C=Ts(d,2),C!==null&&bn(C,d,2),_u(),Fd(d,2)}if(d=jd(l),d===null&&Dd(t,r,l,Vu,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Dd(t,r,l,null,s)}}function jd(t){return t=wn(t),Gd(t)}var Vu=null;function Gd(t){if(Vu=null,t=Ir(t),t!==null){var r=c(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=f(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Vu=t,null}function $E(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kh()){case So:return 2;case ts:return 8;case sa:case Yh:return 32;case ns:return 268435456;default:return 32}default:return 32}}var $d=!1,Di=null,xi=null,Pi=null,Il=new Map,Nl=new Map,Oi=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KE(t,r){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Il.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(r.pointerId)}}function Dl(t,r,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Wn(r),r!==null&&GE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function SA(t,r,s,l,h){switch(r){case"focusin":return Di=Dl(Di,t,r,s,l,h),!0;case"dragenter":return xi=Dl(xi,t,r,s,l,h),!0;case"mouseover":return Pi=Dl(Pi,t,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Dl(Il.get(d)||null,t,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Dl(Nl.get(d)||null,t,r,s,l,h)),!0}return!1}function YE(t){var r=Ir(t.target);if(r!==null){var s=c(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){t.blockedOn=r,_c(t.priority,function(){if(s.tag===13){var l=_n();l=oi(l);var h=Ts(s,l);h!==null&&bn(h,s,l),Fd(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=jd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Pr=l,s.target.dispatchEvent(l),Pr=null}else return r=Wn(s),r!==null&&GE(r),t.blockedOn=s,!1;r.shift()}return!0}function QE(t,r,s){Lu(t)&&s.delete(r)}function RA(){$d=!1,Di!==null&&Lu(Di)&&(Di=null),xi!==null&&Lu(xi)&&(xi=null),Pi!==null&&Lu(Pi)&&(Pi=null),Il.forEach(QE),Nl.forEach(QE)}function ku(t,r){t.blockedOn===r&&(t.blockedOn=null,$d||($d=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,RA)))}var Uu=null;function XE(t){Uu!==t&&(Uu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Uu===t&&(Uu=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Gd(l||s)===null)continue;break}var d=Wn(s);d!==null&&(t.splice(r,3),r-=3,Gf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function xl(t){function r(w){return ku(w,t)}Di!==null&&ku(Di,t),xi!==null&&ku(xi,t),Pi!==null&&ku(Pi,t),Il.forEach(r),Nl.forEach(r);for(var s=0;s<Oi.length;s++){var l=Oi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Oi.length&&(s=Oi[0],s.blockedOn===null);)YE(s),s.blockedOn===null&&Oi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[pt]||null;if(typeof d=="function")_||XE(s);else if(_){var C=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[pt]||null)C=_.formAction;else if(Gd(h)!==null)continue}else C=_.action;typeof C=="function"?s[l+1]=C:(s.splice(l,3),l-=3),XE(s)}}}function Kd(t){this._internalRoot=t}zu.prototype.render=Kd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=_n();HE(s,l,t,r,null,null)},zu.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;HE(t.current,2,null,t,null,null),_u(),r[Sn]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var r=li();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Oi.length&&r!==0&&r<Oi[s].priority;s++);Oi.splice(s,0,t),s===0&&YE(t)}};var ZE=e.version;if(ZE!=="19.1.1")throw Error(a(527,ZE,"19.1.1"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var wA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{ot=qu.inject(wA),je=qu}catch{}}return Pl.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",h=dy,d=my,_=py,C=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks)),r=BE(t,1,!1,null,null,s,l,h,d,_,C,null),t[Sn]=r.current,Nd(t),new Kd(r)},Pl.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=dy,_=my,C=py,w=null,B=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks),s.formState!==void 0&&(B=s.formState)),r=BE(t,1,!0,r,s??null,l,h,d,_,C,w,B),r.context=FE(null),s=r.current,l=_n(),l=oi(l),h=gi(l),h.callback=null,yi(s,h,l),s=l,r.current.lanes=s,wr(r,s),fr(r),t[Sn]=r.current,Nd(t),new zu(r)},Pl.version="19.1.1",Pl}var av;function LA(){if(av)return Qd.exports;av=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Qd.exports=VA(),Qd.exports}var kA=LA();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sv="popstate";function UA(i={}){function e(a,o){let{pathname:c,search:f,hash:m}=a.location;return bm("",{pathname:c,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Yl(o)}return qA(e,n,null,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Er(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zA(){return Math.random().toString(36).substring(2,10)}function ov(i,e){return{usr:i.state,key:i.key,idx:e}}function bm(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:n,key:e&&e.key||a||zA()}}function Yl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function go(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function qA(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,f=o.history,m="POP",y=null,E=b();E==null&&(E=0,f.replaceState({...f.state,idx:E},""));function b(){return(f.state||{idx:null}).idx}function S(){m="POP";let j=b(),ee=j==null?null:j-E;E=j,y&&y({action:m,location:N.location,delta:ee})}function T(j,ee){m="PUSH";let te=bm(N.location,j,ee);E=b()+1;let oe=ov(te,E),Ae=N.createHref(te);try{f.pushState(oe,"",Ae)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(Ae)}c&&y&&y({action:m,location:N.location,delta:1})}function V(j,ee){m="REPLACE";let te=bm(N.location,j,ee);E=b();let oe=ov(te,E),Ae=N.createHref(te);f.replaceState(oe,"",Ae),c&&y&&y({action:m,location:N.location,delta:0})}function F(j){return BA(j)}let N={get action(){return m},get location(){return i(o,f)},listen(j){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(sv,S),y=j,()=>{o.removeEventListener(sv,S),y=null}},createHref(j){return e(o,j)},createURL:F,encodeLocation(j){let ee=F(j);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:T,replace:V,go(j){return f.go(j)}};return N}function BA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:Yl(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function t0(i,e,n="/"){return FA(i,e,n,!1)}function FA(i,e,n,a){let o=typeof e=="string"?go(e):e,c=ei(o.pathname||"/",n);if(c==null)return null;let f=n0(i);HA(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let E=eS(c);m=WA(f[y],E,a)}return m}function n0(i,e=[],n=[],a="",o=!1){let c=(f,m,y=o,E)=>{let b={relativePath:E===void 0?f.path||"":E,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(a)&&y)return;it(b.relativePath.startsWith(a),`Absolute route path "${b.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(a.length)}let S=Jr([a,b.relativePath]),T=n.concat(b);f.children&&f.children.length>0&&(it(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),n0(f.children,e,T,S,y)),!(f.path==null&&!f.index)&&e.push({path:S,score:XA(S,f.index),routesMeta:T})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let y of r0(f.path))c(f,m,!0,y)}),e}function r0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let f=r0(a.join("/")),m=[];return m.push(...f.map(y=>y===""?c:[c,y].join("/"))),o&&m.push(...f),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function HA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:ZA(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var jA=/^:[\w-]+$/,GA=3,$A=2,KA=1,YA=10,QA=-2,lv=i=>i==="*";function XA(i,e){let n=i.split("/"),a=n.length;return n.some(lv)&&(a+=QA),e&&(a+=$A),n.filter(o=>!lv(o)).reduce((o,c)=>o+(jA.test(c)?GA:c===""?KA:YA),a)}function ZA(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function WA(i,e,n=!1){let{routesMeta:a}=i,o={},c="/",f=[];for(let m=0;m<a.length;++m){let y=a[m],E=m===a.length-1,b=c==="/"?e:e.slice(c.length)||"/",S=oh({path:y.relativePath,caseSensitive:y.caseSensitive,end:E},b),T=y.route;if(!S&&E&&n&&!a[a.length-1].route.index&&(S=oh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Jr([c,S.pathname]),pathnameBase:iS(Jr([c,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(c=Jr([c,S.pathnameBase]))}return f}function oh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=JA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((E,{paramName:b,isOptional:S},T)=>{if(b==="*"){let F=m[T]||"";f=c.slice(0,c.length-F.length).replace(/(.)\/+$/,"$1")}const V=m[T];return S&&!V?E[b]=void 0:E[b]=(V||"").replace(/%2F/g,"/"),E},{}),pathname:c,pathnameBase:f,pattern:i}}function JA(i,e=!1,n=!0){Er(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(a.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function eS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Er(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ei(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function tS(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?go(i):i;return{pathname:n?n.startsWith("/")?n:nS(n,e):e,search:aS(a),hash:sS(o)}}function nS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Jd(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function i0(i){let e=rS(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function a0(i,e,n,a=!1){let o;typeof i=="string"?o=go(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),Jd("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Jd("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Jd("#","search","hash",o)));let c=i===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),S-=1;o.pathname=T.join("/")}m=S>=0?e[S]:"/"}let y=tS(o,m),E=f&&f!=="/"&&f.endsWith("/"),b=(c||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(E||b)&&(y.pathname+="/"),y}var Jr=i=>i.join("/").replace(/\/\/+/g,"/"),iS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),aS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,sS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function oS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var s0=["POST","PUT","PATCH","DELETE"];new Set(s0);var lS=["GET",...s0];new Set(lS);var yo=K.createContext(null);yo.displayName="DataRouter";var Ah=K.createContext(null);Ah.displayName="DataRouterState";K.createContext(!1);var o0=K.createContext({isTransitioning:!1});o0.displayName="ViewTransition";var cS=K.createContext(new Map);cS.displayName="Fetchers";var uS=K.createContext(null);uS.displayName="Await";var Tr=K.createContext(null);Tr.displayName="Navigation";var ic=K.createContext(null);ic.displayName="Location";var Cr=K.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var Zm=K.createContext(null);Zm.displayName="RouteError";function hS(i,{relative:e}={}){it(ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=K.useContext(Tr),{hash:o,pathname:c,search:f}=sc(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:Jr([n,c])),a.createHref({pathname:m,search:f,hash:o})}function ac(){return K.useContext(ic)!=null}function Za(){return it(ac(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(ic).location}var l0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function c0(i){K.useContext(Tr).static||K.useLayoutEffect(i)}function Sh(){let{isDataRoute:i}=K.useContext(Cr);return i?AS():fS()}function fS(){it(ac(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(yo),{basename:e,navigator:n}=K.useContext(Tr),{matches:a}=K.useContext(Cr),{pathname:o}=Za(),c=JSON.stringify(i0(a)),f=K.useRef(!1);return c0(()=>{f.current=!0}),K.useCallback((y,E={})=>{if(Er(f.current,l0),!f.current)return;if(typeof y=="number"){n.go(y);return}let b=a0(y,JSON.parse(c),o,E.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Jr([e,b.pathname])),(E.replace?n.replace:n.push)(b,E.state,E)},[e,n,c,o,i])}K.createContext(null);function u0(){let{matches:i}=K.useContext(Cr),e=i[i.length-1];return e?e.params:{}}function sc(i,{relative:e}={}){let{matches:n}=K.useContext(Cr),{pathname:a}=Za(),o=JSON.stringify(i0(n));return K.useMemo(()=>a0(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function dS(i,e){return h0(i,e)}function h0(i,e,n,a,o){it(ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=K.useContext(Tr),{matches:f}=K.useContext(Cr),m=f[f.length-1],y=m?m.params:{},E=m?m.pathname:"/",b=m?m.pathnameBase:"/",S=m&&m.route;{let te=S&&S.path||"";f0(E,!S||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${E}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let T=Za(),V;if(e){let te=typeof e=="string"?go(e):e;it(b==="/"||te.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${te.pathname}" was given in the \`location\` prop.`),V=te}else V=T;let F=V.pathname||"/",N=F;if(b!=="/"){let te=b.replace(/^\//,"").split("/");N="/"+F.replace(/^\//,"").split("/").slice(te.length).join("/")}let j=t0(i,{pathname:N});Er(S||j!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Er(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=ES(j&&j.map(te=>Object.assign({},te,{params:Object.assign({},y,te.params),pathname:Jr([b,c.encodeLocation?c.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?b:Jr([b,c.encodeLocation?c.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),f,n,a,o);return e&&ee?K.createElement(ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ee):ee}function mS(){let i=CS(),e=oS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:c},"ErrorBoundary")," or"," ",K.createElement("code",{style:c},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:o},n):null,f)}var pS=K.createElement(mS,null),gS=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?K.createElement(Cr.Provider,{value:this.props.routeContext},K.createElement(Zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yS({routeContext:i,match:e,children:n}){let a=K.useContext(yo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Cr.Provider,{value:i},n)}function ES(i,e=[],n=null,a=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,f=n?.errors;if(f!=null){let E=c.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);it(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let m=!1,y=-1;if(n)for(let E=0;E<c.length;E++){let b=c[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(y=E),b.route.id){let{loaderData:S,errors:T}=n,V=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!T||T[b.route.id]===void 0);if(b.route.lazy||V){m=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((E,b,S)=>{let T,V=!1,F=null,N=null;n&&(T=f&&b.route.id?f[b.route.id]:void 0,F=b.route.errorElement||pS,m&&(y<0&&S===0?(f0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,N=null):y===S&&(V=!0,N=b.route.hydrateFallbackElement||null)));let j=e.concat(c.slice(0,S+1)),ee=()=>{let te;return T?te=F:V?te=N:b.route.Component?te=K.createElement(b.route.Component,null):b.route.element?te=b.route.element:te=E,K.createElement(yS,{match:b,routeContext:{outlet:E,matches:j,isDataRoute:n!=null},children:te})};return n&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?K.createElement(gS,{location:n.location,revalidation:n.revalidation,component:F,error:T,children:ee(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:a}):ee()},null)}function Wm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vS(i){let e=K.useContext(yo);return it(e,Wm(i)),e}function _S(i){let e=K.useContext(Ah);return it(e,Wm(i)),e}function bS(i){let e=K.useContext(Cr);return it(e,Wm(i)),e}function Jm(i){let e=bS(i),n=e.matches[e.matches.length-1];return it(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function TS(){return Jm("useRouteId")}function CS(){let i=K.useContext(Zm),e=_S("useRouteError"),n=Jm("useRouteError");return i!==void 0?i:e.errors?.[n]}function AS(){let{router:i}=vS("useNavigate"),e=Jm("useNavigate"),n=K.useRef(!1);return c0(()=>{n.current=!0}),K.useCallback(async(o,c={})=>{Er(n.current,l0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var cv={};function f0(i,e,n){!e&&!cv[i]&&(cv[i]=!0,Er(!1,n))}K.memo(SS);function SS({routes:i,future:e,state:n,unstable_onError:a}){return h0(i,void 0,n,a,e)}function Ks(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RS({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:c=!1}){it(!ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof n=="string"&&(n=go(n));let{pathname:y="/",search:E="",hash:b="",state:S=null,key:T="default"}=n,V=K.useMemo(()=>{let F=ei(y,f);return F==null?null:{location:{pathname:F,search:E,hash:b,state:S,key:T},navigationType:a}},[f,y,E,b,S,T,a]);return Er(V!=null,`<Router basename="${f}"> is not able to match the URL "${y}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:K.createElement(Tr.Provider,{value:m},K.createElement(ic.Provider,{children:e,value:V}))}function wS({children:i,location:e}){return dS(Tm(i),e)}function Tm(i,e=[]){let n=[];return K.Children.forEach(i,(a,o)=>{if(!K.isValidElement(a))return;let c=[...e,o];if(a.type===K.Fragment){n.push.apply(n,Tm(a.props.children,c));return}it(a.type===Ks,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Tm(a.props.children,c)),n.push(f)}),n}var Xu="get",Zu="application/x-www-form-urlencoded";function Rh(i){return i!=null&&typeof i.tagName=="string"}function IS(i){return Rh(i)&&i.tagName.toLowerCase()==="button"}function NS(i){return Rh(i)&&i.tagName.toLowerCase()==="form"}function DS(i){return Rh(i)&&i.tagName.toLowerCase()==="input"}function xS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function PS(i,e){return i.button===0&&(!e||e==="_self")&&!xS(i)}var Bu=null;function OS(){if(Bu===null)try{new FormData(document.createElement("form"),0),Bu=!1}catch{Bu=!0}return Bu}var MS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function em(i){return i!=null&&!MS.has(i)?(Er(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zu}"`),null):i}function VS(i,e){let n,a,o,c,f;if(NS(i)){let m=i.getAttribute("action");a=m?ei(m,e):null,n=i.getAttribute("method")||Xu,o=em(i.getAttribute("enctype"))||Zu,c=new FormData(i)}else if(IS(i)||DS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||m.getAttribute("action");if(a=y?ei(y,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Xu,o=em(i.getAttribute("formenctype"))||em(m.getAttribute("enctype"))||Zu,c=new FormData(m,i),!OS()){let{name:E,type:b,value:S}=i;if(b==="image"){let T=E?`${E}.`:"";c.append(`${T}x`,"0"),c.append(`${T}y`,"0")}else E&&c.append(E,S)}}else{if(Rh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xu,a=null,o=Zu,f=i}return c&&o==="text/plain"&&(f=c,c=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ep(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function LS(i,e,n){let a=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&ei(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function kS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function US(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function zS(i,e,n){let a=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await kS(c,n);return f.links?f.links():[]}return[]}));return HS(a.flat(1).filter(US).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uv(i,e,n,a,o,c){let f=(y,E)=>n[E]?y.route.id!==n[E].route.id:!0,m=(y,E)=>n[E].pathname!==y.pathname||n[E].route.path?.endsWith("*")&&n[E].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,E)=>f(y,E)||m(y,E)):c==="data"?e.filter((y,E)=>{let b=a.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(f(y,E)||m(y,E))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function qS(i,e,{includeHydrateFallback:n}={}){return BS(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function BS(i){return[...new Set(i)]}function FS(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function HS(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let c=JSON.stringify(FS(o));return n.has(c)||(n.add(c),a.push({key:c,link:o})),a},[])}function d0(){let i=K.useContext(yo);return ep(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function jS(){let i=K.useContext(Ah);return ep(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var tp=K.createContext(void 0);tp.displayName="FrameworkContext";function m0(){let i=K.useContext(tp);return ep(i,"You must render this element inside a <HydratedRouter> element"),i}function GS(i,e){let n=K.useContext(tp),[a,o]=K.useState(!1),[c,f]=K.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:E,onMouseLeave:b,onTouchStart:S}=e,T=K.useRef(null);K.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let N=ee=>{ee.forEach(te=>{f(te.isIntersecting)})},j=new IntersectionObserver(N,{threshold:.5});return T.current&&j.observe(T.current),()=>{j.disconnect()}}},[i]),K.useEffect(()=>{if(a){let N=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(N)}}},[a]);let V=()=>{o(!0)},F=()=>{o(!1),f(!1)};return n?i!=="intent"?[c,T,{}]:[c,T,{onFocus:Ol(m,V),onBlur:Ol(y,F),onMouseEnter:Ol(E,V),onMouseLeave:Ol(b,F),onTouchStart:Ol(S,V)}]:[!1,T,{}]}function Ol(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function $S({page:i,...e}){let{router:n}=d0(),a=K.useMemo(()=>t0(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?K.createElement(YS,{page:i,matches:a,...e}):null}function KS(i){let{manifest:e,routeModules:n}=m0(),[a,o]=K.useState([]);return K.useEffect(()=>{let c=!1;return zS(i,e,n).then(f=>{c||o(f)}),()=>{c=!0}},[i,e,n]),a}function YS({page:i,matches:e,...n}){let a=Za(),{manifest:o,routeModules:c}=m0(),{basename:f}=d0(),{loaderData:m,matches:y}=jS(),E=K.useMemo(()=>uv(i,e,y,o,a,"data"),[i,e,y,o,a]),b=K.useMemo(()=>uv(i,e,y,o,a,"assets"),[i,e,y,o,a]),S=K.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let F=new Set,N=!1;if(e.forEach(ee=>{let te=o.routes[ee.route.id];!te||!te.hasLoader||(!E.some(oe=>oe.route.id===ee.route.id)&&ee.route.id in m&&c[ee.route.id]?.shouldRevalidate||te.hasClientLoader?N=!0:F.add(ee.route.id))}),F.size===0)return[];let j=LS(i,f,"data");return N&&F.size>0&&j.searchParams.set("_routes",e.filter(ee=>F.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[j.pathname+j.search]},[f,m,a,o,E,e,i,c]),T=K.useMemo(()=>qS(b,o),[b,o]),V=KS(b);return K.createElement(K.Fragment,null,S.map(F=>K.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),T.map(F=>K.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),V.map(({key:F,link:N})=>K.createElement("link",{key:F,nonce:n.nonce,...N})))}function QS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var p0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p0&&(window.__reactRouterVersion="7.8.2")}catch{}function XS({basename:i,children:e,window:n}){let a=K.useRef();a.current==null&&(a.current=UA({window:n,v5Compat:!0}));let o=a.current,[c,f]=K.useState({action:o.action,location:o.location}),m=K.useCallback(y=>{K.startTransition(()=>f(y))},[f]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(RS,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var g0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y0=K.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:c,replace:f,state:m,target:y,to:E,preventScrollReset:b,viewTransition:S,...T},V){let{basename:F}=K.useContext(Tr),N=typeof E=="string"&&g0.test(E),j,ee=!1;if(typeof E=="string"&&N&&(j=E,p0))try{let I=new URL(window.location.href),O=E.startsWith("//")?new URL(I.protocol+E):new URL(E),L=ei(O.pathname,F);O.origin===I.origin&&L!=null?E=L+O.search+O.hash:ee=!0}catch{Er(!1,`<Link to="${E}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=hS(E,{relative:o}),[oe,Ae,me]=GS(a,T),Pe=e1(E,{replace:f,state:m,target:y,preventScrollReset:b,relative:o,viewTransition:S});function M(I){e&&e(I),I.defaultPrevented||Pe(I)}let R=K.createElement("a",{...T,...me,href:j||te,onClick:ee||c?e:M,ref:QS(V,Ae),target:y,"data-discover":!N&&n==="render"?"true":void 0});return oe&&!N?K.createElement(K.Fragment,null,R,K.createElement($S,{page:te})):R});y0.displayName="Link";var ZS=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:c,to:f,viewTransition:m,children:y,...E},b){let S=sc(f,{relative:E.relative}),T=Za(),V=K.useContext(Ah),{navigator:F,basename:N}=K.useContext(Tr),j=V!=null&&a1(S)&&m===!0,ee=F.encodeLocation?F.encodeLocation(S).pathname:S.pathname,te=T.pathname,oe=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(te=te.toLowerCase(),oe=oe?oe.toLowerCase():null,ee=ee.toLowerCase()),oe&&N&&(oe=ei(oe,N)||oe);const Ae=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let me=te===ee||!o&&te.startsWith(ee)&&te.charAt(Ae)==="/",Pe=oe!=null&&(oe===ee||!o&&oe.startsWith(ee)&&oe.charAt(ee.length)==="/"),M={isActive:me,isPending:Pe,isTransitioning:j},R=me?e:void 0,I;typeof a=="function"?I=a(M):I=[a,me?"active":null,Pe?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(M):c;return K.createElement(y0,{...E,"aria-current":R,className:I,ref:b,style:O,to:f,viewTransition:m},typeof y=="function"?y(M):y)});ZS.displayName="NavLink";var WS=K.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:c,method:f=Xu,action:m,onSubmit:y,relative:E,preventScrollReset:b,viewTransition:S,...T},V)=>{let F=r1(),N=i1(m,{relative:E}),j=f.toLowerCase()==="get"?"get":"post",ee=typeof m=="string"&&g0.test(m),te=oe=>{if(y&&y(oe),oe.defaultPrevented)return;oe.preventDefault();let Ae=oe.nativeEvent.submitter,me=Ae?.getAttribute("formmethod")||f;F(Ae||oe.currentTarget,{fetcherKey:e,method:me,navigate:n,replace:o,state:c,relative:E,preventScrollReset:b,viewTransition:S})};return K.createElement("form",{ref:V,method:j,action:N,onSubmit:a?y:te,...T,"data-discover":!ee&&i==="render"?"true":void 0})});WS.displayName="Form";function JS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E0(i){let e=K.useContext(yo);return it(e,JS(i)),e}function e1(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:c,viewTransition:f}={}){let m=Sh(),y=Za(),E=sc(i,{relative:c});return K.useCallback(b=>{if(PS(b,e)){b.preventDefault();let S=n!==void 0?n:Yl(y)===Yl(E);m(i,{replace:S,state:a,preventScrollReset:o,relative:c,viewTransition:f})}},[y,m,E,n,a,e,i,o,c,f])}var t1=0,n1=()=>`__${String(++t1)}__`;function r1(){let{router:i}=E0("useSubmit"),{basename:e}=K.useContext(Tr),n=TS();return K.useCallback(async(a,o={})=>{let{action:c,method:f,encType:m,formData:y,body:E}=VS(a,e);if(o.navigate===!1){let b=o.fetcherKey||n1();await i.fetch(b,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:E,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:E,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function i1(i,{relative:e}={}){let{basename:n}=K.useContext(Tr),a=K.useContext(Cr);it(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...sc(i||".",{relative:e})},f=Za();if(i==null){c.search=f.search;let m=new URLSearchParams(c.search),y=m.getAll("index");if(y.some(b=>b==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let b=m.toString();c.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Jr([n,c.pathname])),Yl(c)}function a1(i,{relative:e}={}){let n=K.useContext(o0);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=E0("useViewTransitionState"),o=sc(i,{relative:e});if(!n.isTransitioning)return!1;let c=ei(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=ei(n.nextLocation.pathname,a)||n.nextLocation.pathname;return oh(o.pathname,f)!=null||oh(o.pathname,c)!=null}const s1=()=>{};var hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},o1=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],f=i[n++],m=i[n++],y=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const c=i[o],f=o+1<i.length,m=f?i[o+1]:0,y=o+2<i.length,E=y?i[o+2]:0,b=c>>2,S=(c&3)<<4|m>>4;let T=(m&15)<<2|E>>6,V=E&63;y||(V=64,f||(T=64)),a.push(n[b],n[S],n[T],n[V])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(v0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):o1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const E=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||E==null||S==null)throw new l1;const T=c<<2|m>>4;if(a.push(T),E!==64){const V=m<<4&240|E>>2;if(a.push(V),S!==64){const F=E<<6&192|S;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class l1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c1=function(i){const e=v0(i);return _0.encodeByteArray(e,!0)},lh=function(i){return c1(i).replace(/\./g,"")},b0=function(i){try{return _0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=()=>u1().__FIREBASE_DEFAULTS__,f1=()=>{if(typeof process>"u"||typeof hv>"u")return;const i=hv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},d1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&b0(i[1]);return e&&JSON.parse(e)},wh=()=>{try{return s1()||h1()||f1()||d1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},T0=i=>wh()?.emulatorHosts?.[i],m1=i=>{const e=T0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},C0=()=>wh()?.config,A0=i=>wh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const zl={};function y1(){const i={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?i.emulator.push(e):i.prod.push(e);return i}function E1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let fv=!1;function R0(i,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||zl[i]===e||zl[i]||fv)return;zl[i]=e;function n(T){return`__firebase__banner__${T}`}const a="__firebase__banner",c=y1().prod.length>0;function f(){const T=document.getElementById(a);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function y(T,V){T.setAttribute("width","24"),T.setAttribute("id",V),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function E(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{fv=!0,f()},T}function b(T,V){T.setAttribute("id",V),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function S(){const T=E1(a),V=n("text"),F=document.getElementById(V)||document.createElement("span"),N=n("learnmore"),j=document.getElementById(N)||document.createElement("a"),ee=n("preprendIcon"),te=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const oe=T.element;m(oe),b(j,N);const Ae=E();y(te,ee),oe.append(te,F,j,Ae),document.body.appendChild(oe)}c?(F.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function _1(){const i=wh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function T1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C1(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function A1(){return!_1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I0(){try{return typeof indexedDB=="object"}catch{return!1}}function N0(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function S1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="FirebaseError";class Yn extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=R1,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wa.prototype.create)}}class Wa{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?w1(c,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Yn(o,m,a)}}function w1(i,e){return i.replace(I1,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const I1=/\{\$([^}]+)}/g;function N1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Xi(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const c=i[o],f=e[o];if(dv(c)&&dv(f)){if(!Xi(c,f))return!1}else if(c!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function dv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function D1(i,e){const n=new x1(i,e);return n.subscribe.bind(n)}class x1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");P1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function tm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=1e3,M1=2,V1=14400*1e3,L1=.5;function mv(i,e=O1,n=M1){const a=e*Math.pow(n,i),o=Math.round(L1*a*(Math.random()-.5)*2);return Math.min(V1,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(i){return i&&i._delegate?i._delegate:i}class Kn{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new p1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z1(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:U1(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U1(i){return i===qa?void 0:i}function z1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new k1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xe||(xe={}));const B1={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},F1=xe.INFO,H1={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},j1=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=H1[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=F1,this._logHandler=j1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const G1=(i,e)=>e.some(n=>i instanceof n);let pv,gv;function $1(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D0=new WeakMap,Cm=new WeakMap,x0=new WeakMap,nm=new WeakMap,np=new WeakMap;function Y1(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Fi(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&D0.set(n,i)}).catch(()=>{}),np.set(e,i),e}function Q1(i){if(Cm.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Cm.set(i,e)}let Am={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Cm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||x0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function X1(i){Am=i(Am)}function Z1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(rm(this),e,...n);return x0.set(a,e.sort?e.sort():[e]),Fi(a)}:K1().includes(i)?function(...e){return i.apply(rm(this),e),Fi(D0.get(this))}:function(...e){return Fi(i.apply(rm(this),e))}}function W1(i){return typeof i=="function"?Z1(i):(i instanceof IDBTransaction&&Q1(i),G1(i,$1())?new Proxy(i,Am):i)}function Fi(i){if(i instanceof IDBRequest)return Y1(i);if(nm.has(i))return nm.get(i);const e=W1(i);return e!==i&&(nm.set(i,e),np.set(e,i)),e}const rm=i=>np.get(i);function P0(i,e,{blocked:n,upgrade:a,blocking:o,terminated:c}={}){const f=indexedDB.open(i,e),m=Fi(f);return a&&f.addEventListener("upgradeneeded",y=>{a(Fi(f.result),y.oldVersion,y.newVersion,Fi(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",E=>o(E.oldVersion,E.newVersion,E))}).catch(()=>{}),m}const J1=["get","getKey","getAll","getAllKeys","count"],eR=["put","add","delete","clear"],im=new Map;function yv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=eR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||J1.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let E=y.store;return a&&(E=E.index(m.shift())),(await Promise.all([E[n](...m),o&&y.done]))[0]};return im.set(e,c),c}X1(i=>({...i,get:(e,n,a)=>yv(e,n)||i.get(e,n,a),has:(e,n)=>!!yv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function nR(i){return i.getComponent()?.type==="VERSION"}const Sm="@firebase/app",Ev="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Ih("@firebase/app"),rR="@firebase/app-compat",iR="@firebase/analytics-compat",aR="@firebase/analytics",sR="@firebase/app-check-compat",oR="@firebase/app-check",lR="@firebase/auth",cR="@firebase/auth-compat",uR="@firebase/database",hR="@firebase/data-connect",fR="@firebase/database-compat",dR="@firebase/functions",mR="@firebase/functions-compat",pR="@firebase/installations",gR="@firebase/installations-compat",yR="@firebase/messaging",ER="@firebase/messaging-compat",vR="@firebase/performance",_R="@firebase/performance-compat",bR="@firebase/remote-config",TR="@firebase/remote-config-compat",CR="@firebase/storage",AR="@firebase/storage-compat",SR="@firebase/firestore",RR="@firebase/ai",wR="@firebase/firestore-compat",IR="firebase",NR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="[DEFAULT]",DR={[Sm]:"fire-core",[rR]:"fire-core-compat",[aR]:"fire-analytics",[iR]:"fire-analytics-compat",[oR]:"fire-app-check",[sR]:"fire-app-check-compat",[lR]:"fire-auth",[cR]:"fire-auth-compat",[uR]:"fire-rtdb",[hR]:"fire-data-connect",[fR]:"fire-rtdb-compat",[dR]:"fire-fn",[mR]:"fire-fn-compat",[pR]:"fire-iid",[gR]:"fire-iid-compat",[yR]:"fire-fcm",[ER]:"fire-fcm-compat",[vR]:"fire-perf",[_R]:"fire-perf-compat",[bR]:"fire-rc",[TR]:"fire-rc-compat",[CR]:"fire-gcs",[AR]:"fire-gcs-compat",[SR]:"fire-fst",[wR]:"fire-fst-compat",[RR]:"fire-vertex","fire-js":"fire-js",[IR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new Map,xR=new Map,wm=new Map;function vv(i,e){try{i.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function vr(i){const e=i.name;if(wm.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,i);for(const n of Ql.values())vv(n,i);for(const n of xR.values())vv(n,i);return!0}function Ja(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Gn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new Wa("app","Firebase",PR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=NR;function rp(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a={name:Rm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Hi.create("bad-app-name",{appName:String(o)});if(n||(n=C0()),!n)throw Hi.create("no-options");const c=Ql.get(o);if(c){if(Xi(n,c.options)&&Xi(a,c.config))return c;throw Hi.create("duplicate-app",{appName:o})}const f=new q1(o);for(const y of wm.values())f.addComponent(y);const m=new OR(n,a,f);return Ql.set(o,m),m}function oc(i=Rm){const e=Ql.get(i);if(!e&&i===Rm&&C0())return rp();if(!e)throw Hi.create("no-app",{appName:i});return e}function O0(){return Array.from(Ql.values())}function kn(i,e,n){let a=DR[i]??i;n&&(a+=`-${n}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(f.join(" "));return}vr(new Kn(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="firebase-heartbeat-database",VR=1,Xl="firebase-heartbeat-store";let am=null;function M0(){return am||(am=P0(MR,VR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hi.create("idb-open",{originalErrorMessage:i.message})})),am}async function LR(i){try{const n=(await M0()).transaction(Xl),a=await n.objectStore(Xl).get(V0(i));return await n.done,a}catch(e){if(e instanceof Yn)ti.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e?.message});ti.warn(n.message)}}}async function _v(i,e){try{const a=(await M0()).transaction(Xl,"readwrite");await a.objectStore(Xl).put(e,V0(i)),await a.done}catch(n){if(n instanceof Yn)ti.warn(n.message);else{const a=Hi.create("idb-set",{originalErrorMessage:n?.message});ti.warn(a.message)}}}function V0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=1024,UR=30;class zR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=bv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>UR){const o=FR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bv(),{heartbeatsToSend:n,unsentEntries:a}=qR(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ti.warn(e),""}}}function bv(){return new Date().toISOString().substring(0,10)}function qR(i,e=kR){const n=[];let a=i.slice();for(const o of i){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Tv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Tv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class BR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I0()?N0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return _v(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return _v(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Tv(i){return lh(JSON.stringify({version:2,heartbeats:i})).length}function FR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(i){vr(new Kn("platform-logger",e=>new tR(e),"PRIVATE")),vr(new Kn("heartbeat",e=>new zR(e),"PRIVATE")),kn(Sm,Ev,i),kn(Sm,Ev,"esm2020"),kn("fire-js","")}HR("");var jR="firebase",GR="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn(jR,GR,"app");const L0="@firebase/installations",ip="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=1e4,U0=`w:${ip}`,z0="FIS_v2",$R="https://firebaseinstallations.googleapis.com/v1",KR=3600*1e3,YR="installations",QR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ka=new Wa(YR,QR,XR);function q0(i){return i instanceof Yn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0({projectId:i}){return`${$R}/projects/${i}/installations`}function F0(i){return{token:i.token,requestStatus:2,expiresIn:WR(i.expiresIn),creationTime:Date.now()}}async function H0(i,e){const a=(await e.json()).error;return Ka.create("request-failed",{requestName:i,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function j0({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function ZR(i,{refreshToken:e}){const n=j0(i);return n.append("Authorization",JR(e)),n}async function G0(i){const e=await i();return e.status>=500&&e.status<600?i():e}function WR(i){return Number(i.replace("s","000"))}function JR(i){return`${z0} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const a=B0(i),o=j0(i),c=e.getImmediate({optional:!0});if(c){const E=await c.getHeartbeatsHeader();E&&o.append("x-firebase-client",E)}const f={fid:n,authVersion:z0,appId:i.appId,sdkVersion:U0},m={method:"POST",headers:o,body:JSON.stringify(f)},y=await G0(()=>fetch(a,m));if(y.ok){const E=await y.json();return{fid:E.fid||n,registrationStatus:2,refreshToken:E.refreshToken,authToken:F0(E.authToken)}}else throw await H0("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=/^[cdef][\w-]{21}$/,Im="";function rw(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=iw(i);return nw.test(n)?n:Im}catch{return Im}}function iw(i){return tw(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;function Y0(i,e){const n=Nh(i);Q0(n,e),aw(n,e)}function Q0(i,e){const n=K0.get(i);if(n)for(const a of n)a(e)}function aw(i,e){const n=sw();n&&n.postMessage({key:i,fid:e}),ow()}let Ba=null;function sw(){return!Ba&&"BroadcastChannel"in self&&(Ba=new BroadcastChannel("[Firebase] FID Change"),Ba.onmessage=i=>{Q0(i.data.key,i.data.fid)}),Ba}function ow(){K0.size===0&&Ba&&(Ba.close(),Ba=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebase-installations-database",cw=1,Ya="firebase-installations-store";let sm=null;function ap(){return sm||(sm=P0(lw,cw,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ya)}}})),sm}async function ch(i,e){const n=Nh(i),o=(await ap()).transaction(Ya,"readwrite"),c=o.objectStore(Ya),f=await c.get(n);return await c.put(e,n),await o.done,(!f||f.fid!==e.fid)&&Y0(i,e.fid),e}async function X0(i){const e=Nh(i),a=(await ap()).transaction(Ya,"readwrite");await a.objectStore(Ya).delete(e),await a.done}async function Dh(i,e){const n=Nh(i),o=(await ap()).transaction(Ya,"readwrite"),c=o.objectStore(Ya),f=await c.get(n),m=e(f);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&Y0(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(i){let e;const n=await Dh(i.appConfig,a=>{const o=uw(a),c=hw(i,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Im?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function uw(i){const e=i||{fid:rw(),registrationStatus:0};return Z0(e)}function hw(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ka.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=fw(i,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dw(i)}:{installationEntry:e}}async function fw(i,e){try{const n=await ew(i,e);return ch(i.appConfig,n)}catch(n){throw q0(n)&&n.customData.serverCode===409?await X0(i.appConfig):await ch(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function dw(i){let e=await Cv(i.appConfig);for(;e.registrationStatus===1;)await $0(100),e=await Cv(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await sp(i);return a||n}return e}function Cv(i){return Dh(i,e=>{if(!e)throw Ka.create("installation-not-found");return Z0(e)})}function Z0(i){return mw(i)?{fid:i.fid,registrationStatus:0}:i}function mw(i){return i.registrationStatus===1&&i.registrationTime+k0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw({appConfig:i,heartbeatServiceProvider:e},n){const a=gw(i,n),o=ZR(i,n),c=e.getImmediate({optional:!0});if(c){const E=await c.getHeartbeatsHeader();E&&o.append("x-firebase-client",E)}const f={installation:{sdkVersion:U0,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},y=await G0(()=>fetch(a,m));if(y.ok){const E=await y.json();return F0(E)}else throw await H0("Generate Auth Token",y)}function gw(i,{fid:e}){return`${B0(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(i,e=!1){let n;const a=await Dh(i.appConfig,c=>{if(!W0(c))throw Ka.create("not-registered");const f=c.authToken;if(!e&&vw(f))return c;if(f.requestStatus===1)return n=yw(i,e),c;{if(!navigator.onLine)throw Ka.create("app-offline");const m=bw(c);return n=Ew(i,m),m}});return n?await n:a.authToken}async function yw(i,e){let n=await Av(i.appConfig);for(;n.authToken.requestStatus===1;)await $0(100),n=await Av(i.appConfig);const a=n.authToken;return a.requestStatus===0?op(i,e):a}function Av(i){return Dh(i,e=>{if(!W0(e))throw Ka.create("not-registered");const n=e.authToken;return Tw(n)?{...e,authToken:{requestStatus:0}}:e})}async function Ew(i,e){try{const n=await pw(i,e),a={...e,authToken:n};return await ch(i.appConfig,a),n}catch(n){if(q0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await X0(i.appConfig);else{const a={...e,authToken:{requestStatus:0}};await ch(i.appConfig,a)}throw n}}function W0(i){return i!==void 0&&i.registrationStatus===2}function vw(i){return i.requestStatus===2&&!_w(i)}function _w(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+KR}function bw(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function Tw(i){return i.requestStatus===1&&i.requestTime+k0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(i){const e=i,{installationEntry:n,registrationPromise:a}=await sp(e);return a?a.catch(console.error):op(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(i,e=!1){const n=i;return await Sw(n),(await op(n,e)).token}async function Sw(i){const{registrationPromise:e}=await sp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(i){if(!i||!i.options)throw om("App Configuration");if(!i.name)throw om("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw om(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function om(i){return Ka.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="installations",ww="installations-internal",Iw=i=>{const e=i.getProvider("app").getImmediate(),n=Rw(e),a=Ja(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},Nw=i=>{const e=i.getProvider("app").getImmediate(),n=Ja(e,J0).getImmediate();return{getId:()=>Cw(n),getToken:o=>Aw(n,o)}};function Dw(){vr(new Kn(J0,Iw,"PUBLIC")),vr(new Kn(ww,Nw,"PRIVATE"))}Dw();kn(L0,ip);kn(L0,ip,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="analytics",xw="firebase_id",Pw="origin",Ow=60*1e3,Mw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Ih("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new Wa("analytics","Analytics",Vw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(i){if(!i.startsWith(lp)){const e=Tn.create("invalid-gtag-resource",{gtagURL:i});return fn.warn(e.message),""}return i}function eb(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function kw(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function Uw(i,e){const n=kw("firebase-js-sdk-policy",{createScriptURL:Lw}),a=document.createElement("script"),o=`${lp}?l=${i}&id=${e}`;a.src=n?n?.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function zw(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function qw(i,e,n,a,o,c){const f=a[o];try{if(f)await e[f];else{const y=(await eb(n)).find(E=>E.measurementId===o);y&&await e[y.appId]}}catch(m){fn.error(m)}i("config",o,c)}async function Bw(i,e,n,a,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await eb(n);for(const y of f){const E=m.find(S=>S.measurementId===y),b=E&&e[E.appId];if(b)c.push(b);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",a,o||{})}catch(c){fn.error(c)}}function Fw(i,e,n,a){async function o(c,...f){try{if(c==="event"){const[m,y]=f;await Bw(i,e,n,m,y)}else if(c==="config"){const[m,y]=f;await qw(i,e,n,a,m,y)}else if(c==="consent"){const[m,y]=f;i("consent",m,y)}else if(c==="get"){const[m,y,E]=f;i("get",m,y,E)}else if(c==="set"){const[m]=f;i("set",m)}else i(c,...f)}catch(m){fn.error(m)}}return o}function Hw(i,e,n,a,o){let c=function(...f){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=Fw(c,i,e,n),{gtagCore:c,wrappedGtag:window[o]}}function jw(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(lp)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=30,$w=1e3;class Kw{constructor(e={},n=$w){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tb=new Kw;function Yw(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function Qw(i){const{appId:e,apiKey:n}=i,a={method:"GET",headers:Yw(n)},o=Mw.replace("{app-id}",e),c=await fetch(o,a);if(c.status!==200&&c.status!==304){let f="";try{const m=await c.json();m.error?.message&&(f=m.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function Xw(i,e=tb,n){const{appId:a,apiKey:o,measurementId:c}=i.options;if(!a)throw Tn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:a};throw Tn.create("no-api-key")}const f=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new Jw;return setTimeout(async()=>{m.abort()},Ow),nb({appId:a,apiKey:o,measurementId:c},f,m,e)}async function nb(i,{throttleEndTimeMillis:e,backoffCount:n},a,o=tb){const{appId:c,measurementId:f}=i;try{await Zw(a,e)}catch(m){if(f)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:f};throw m}try{const m=await Qw(i);return o.deleteThrottleMetadata(c),m}catch(m){const y=m;if(!Ww(y)){if(o.deleteThrottleMetadata(c),f)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:c,measurementId:f};throw m}const E=Number(y?.customData?.httpStatus)===503?mv(n,o.intervalMillis,Gw):mv(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(c,b),fn.debug(`Calling attemptFetch again in ${E} millis`),nb(i,b,a,o)}}function Zw(i,e){return new Promise((n,a)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(c),a(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ww(i){if(!(i instanceof Yn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class Jw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function eI(i,e,n,a,o){if(o&&o.global){i("event",n,a);return}else{const c=await e,f={...a,send_to:c};i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(){if(I0())try{await N0()}catch(i){return fn.warn(Tn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return fn.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function nI(i,e,n,a,o,c,f){const m=Xw(i);m.then(T=>{n[T.measurementId]=T.appId,i.options.measurementId&&T.measurementId!==i.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>fn.error(T)),e.push(m);const y=tI().then(T=>{if(T)return a.getId()}),[E,b]=await Promise.all([m,y]);jw(c)||Uw(c,E.measurementId),o("js",new Date);const S=f?.config??{};return S[Pw]="firebase",S.update=!0,b!=null&&(S[xw]=b),o("config",E.measurementId,S),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.app=e}_delete(){return delete ql[this.app.options.appId],Promise.resolve()}}let ql={},Sv=[];const Rv={};let lm="dataLayer",iI="gtag",wv,rb,Iv=!1;function aI(){const i=[];if(w0()&&i.push("This is a browser extension environment."),S1()||i.push("Cookies are not available."),i.length>0){const e=i.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});fn.warn(n.message)}}function sI(i,e,n){aI();const a=i.options.appId;if(!a)throw Tn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(ql[a]!=null)throw Tn.create("already-exists",{id:a});if(!Iv){zw(lm);const{wrappedGtag:c,gtagCore:f}=Hw(ql,Sv,Rv,lm,iI);rb=c,wv=f,Iv=!0}return ql[a]=nI(i,Sv,Rv,e,wv,lm,n),new rI(i)}function oI(i=oc()){i=Un(i);const e=Ja(i,uh);return e.isInitialized()?e.getImmediate():lI(i)}function lI(i,e={}){const n=Ja(i,uh);if(n.isInitialized()){const o=n.getImmediate();if(Xi(e,n.getOptions()))return o;throw Tn.create("already-initialized")}return n.initialize({options:e})}function cI(i,e,n,a){i=Un(i),eI(rb,ql[i.app.options.appId],e,n,a).catch(o=>fn.error(o))}const Nv="@firebase/analytics",Dv="0.10.18";function uI(){vr(new Kn(uh,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return sI(a,o,n)},"PUBLIC")),vr(new Kn("analytics-internal",i,"PRIVATE")),kn(Nv,Dv),kn(Nv,Dv,"esm2020");function i(e){try{const n=e.getProvider(uh).getImmediate();return{logEvent:(a,o,c)=>cI(n,a,o,c)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}uI();function ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hI=ib,ab=new Wa("auth","Firebase",ib());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Ih("@firebase/auth");function fI(i,...e){hh.logLevel<=xe.WARN&&hh.warn(`Auth (${_o}): ${i}`,...e)}function Wu(i,...e){hh.logLevel<=xe.ERROR&&hh.error(`Auth (${_o}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(i,...e){throw cp(i,...e)}function Cn(i,...e){return cp(i,...e)}function sb(i,e,n){const a={...hI(),[e]:n};return new Wa("auth","Firebase",a).create(e,{appName:i.name})}function ji(i){return sb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cp(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return ab.create(i,...e)}function ce(i,e,...n){if(!i)throw cp(e,...n)}function Zr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Wu(e),new Error(e)}function ri(i,e){i||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(){return typeof self<"u"&&self.location?.href||""}function ob(){return xv()==="http:"||xv()==="https:"}function xv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ob()||w0()||"connection"in navigator)?navigator.onLine:!0}function mI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=v1()||T1()}get(){return dI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(i,e){ri(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yI=new lc(3e4,6e4);function Ar(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Qn(i,e,n,a,o={}){return cb(i,o,async()=>{let c={},f={};a&&(e==="GET"?f=a:c={body:JSON.stringify(a)});const m=vo({key:i.config.apiKey,...f}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const E={method:e,headers:y,...c};return b1()||(E.referrerPolicy="no-referrer"),i.emulatorConfig&&Eo(i.emulatorConfig.host)&&(E.credentials="include"),lb.fetch()(await ub(i,i.config.apiHost,n,m),E)})}async function cb(i,e,n){i._canInitEmulator=!1;const a={...pI,...e};try{const o=new vI(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Ml(i,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[y,E]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ml(i,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Ml(i,"email-already-in-use",f);if(y==="USER_DISABLED")throw Ml(i,"user-disabled",f);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw sb(i,b,E);ni(i,b)}}catch(o){if(o instanceof Yn)throw o;ni(i,"network-request-failed",{message:String(o)})}}async function xh(i,e,n,a,o={}){const c=await Qn(i,e,n,a,o);return"mfaPendingCredential"in c&&ni(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function ub(i,e,n,a){const o=`${e}${n}?${a}`,c=i,f=c.config.emulator?up(i.config,o):`${i.config.apiScheme}://${o}`;return gI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function EI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Cn(this.auth,"network-request-failed")),yI.get())})}}function Ml(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Cn(i,e,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(i){return i!==void 0&&i.getResponse!==void 0}function Ov(i){return i!==void 0&&i.enterprise!==void 0}class hb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(i){return(await Qn(i,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function fb(i,e){return Qn(i,"GET","/v2/recaptchaConfig",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(i,e){return Qn(i,"POST","/v1/accounts:delete",e)}async function fh(i,e){return Qn(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TI(i,e=!1){const n=Un(i),a=await n.getIdToken(e),o=hp(a);ce(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:a,authTime:Bl(cm(o.auth_time)),issuedAtTime:Bl(cm(o.iat)),expirationTime:Bl(cm(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function cm(i){return Number(i)*1e3}function hp(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return Wu("JWT malformed, contained fewer than 3 sections"),null;try{const o=b0(n);return o?JSON.parse(o):(Wu("Failed to decode base64 JWT payload"),null)}catch(o){return Wu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Mv(i){const e=hp(i);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Yn&&CI(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function CI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(i){const e=i.auth,n=await i.getIdToken(),a=await Zl(i,fh(e,{idToken:n}));ce(a?.users.length,e,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?db(o.providerUserInfo):[],f=RI(i.providerData,c),m=i.isAnonymous,y=!(i.email&&o.passwordHash)&&!f?.length,E=m?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function SI(i){const e=Un(i);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RI(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function db(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(i,e){const n=await cb(i,{},async()=>{const a=vo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,f=await ub(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:a};return i.emulatorConfig&&Eo(i.emulatorConfig.host)&&(y.credentials="include"),lb.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function II(i,e){return Qn(i,"POST","/v2/accounts:revokeToken",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=Mv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:c}=await wI(e,n);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:c}=n,f=new to;return a&&(ce(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(ce(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(ce(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(i,e){ce(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new AI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TI(this,e)}reload(){return SI(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await Zl(this,bI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,E=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:S,emailVerified:T,isAnonymous:V,providerData:F,stsTokenManager:N}=n;ce(S&&N,e,"internal-error");const j=to.fromJSON(this.name,N);ce(typeof S=="string",e,"internal-error"),Vi(a,e.name),Vi(o,e.name),ce(typeof T=="boolean",e,"internal-error"),ce(typeof V=="boolean",e,"internal-error"),Vi(c,e.name),Vi(f,e.name),Vi(m,e.name),Vi(y,e.name),Vi(E,e.name),Vi(b,e.name);const ee=new $n({uid:S,auth:e,email:o,emailVerified:T,displayName:a,isAnonymous:V,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:j,createdAt:E,lastLoginAt:b});return F&&Array.isArray(F)&&(ee.providerData=F.map(te=>({...te}))),y&&(ee._redirectEventId=y),ee}static async _fromIdTokenResponse(e,n,a=!1){const o=new to;o.updateFromServerResponse(n);const c=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await dh(c),c}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];ce(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?db(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,m=new to;m.updateFromIdToken(a);const y=new $n({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,E),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;function Wr(i){ri(i instanceof Function,"Expected a class definition");let e=Vv.get(i);return e?(ri(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Vv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mb.type="NONE";const Lv=mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(i,e,n){return`firebase:${i}:${e}:${n}`}class no{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Ju(this.userKey,o.apiKey,c),this.fullPersistenceKey=Ju("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new no(Wr(Lv),e,a);const o=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=o[0]||Wr(Lv);const f=Ju(a,e.config.apiKey,e.name);let m=null;for(const E of n)try{const b=await E._get(f);if(b){let S;if(typeof b=="string"){const T=await fh(e,{idToken:b}).catch(()=>{});if(!T)break;S=await $n._fromGetAccountInfoResponse(e,T,b)}else S=$n._fromJSON(e,b);E!==c&&(m=S),c=E;break}}catch{}const y=o.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new no(c,e,a):(c=y[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async E=>{if(E!==c)try{await E._remove(f)}catch{}})),new no(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_b(e))return"Blackberry";if(bb(e))return"Webos";if(gb(e))return"Safari";if((e.includes("chrome/")||yb(e))&&!e.includes("edge/"))return"Chrome";if(vb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if(a?.length===2)return a[1]}return"Other"}function pb(i=Jt()){return/firefox\//i.test(i)}function gb(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yb(i=Jt()){return/crios\//i.test(i)}function Eb(i=Jt()){return/iemobile/i.test(i)}function vb(i=Jt()){return/android/i.test(i)}function _b(i=Jt()){return/blackberry/i.test(i)}function bb(i=Jt()){return/webos/i.test(i)}function fp(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function NI(i=Jt()){return fp(i)&&!!window.navigator?.standalone}function DI(){return C1()&&document.documentMode===10}function Tb(i=Jt()){return fp(i)||vb(i)||bb(i)||_b(i)||/windows phone/i.test(i)||Eb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(i,e=[]){let n;switch(i){case"Browser":n=kv(Jt());break;case"Worker":n=`${kv(Jt())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((f,m)=>{try{const y=e(c);f(y)}catch(y){m(y)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(i,e={}){return Qn(i,"GET","/v2/passwordPolicy",Ar(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=6;class MI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??OI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new xI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ab,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fh(this,{idToken:e}),a=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(ji(this));const n=e?Un(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PI(this),n=new MI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wa("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await II(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ai(i){return Un(i)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=D1(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LI(i){cc=i}function dp(i){return cc.loadJS(i)}function kI(){return cc.recaptchaV2Script}function UI(){return cc.recaptchaEnterpriseScript}function zI(){return cc.gapiScript}function Ab(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=500,BI=6e4,Fu=1e12;class FI{constructor(e){this.auth=e,this.counter=Fu,this._widgets=new Map}render(e,n){const a=this.counter;return this._widgets.set(a,new GI(e,this.auth.name,n||{})),this.counter++,a}reset(e){const n=e||Fu;this._widgets.get(n)?.delete(),this._widgets.delete(n)}getResponse(e){const n=e||Fu;return this._widgets.get(n)?.getResponse()||""}async execute(e){const n=e||Fu;return this._widgets.get(n)?.execute(),""}}class HI{constructor(){this.enterprise=new jI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class jI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class GI{constructor(e,n,a){this.params=a,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;ce(o,"argument-error",{appName:n}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=$I(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},BI)},qI))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function $I(i){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let a=0;a<i;a++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const KI="recaptcha-enterprise",Fl="NO_RECAPTCHA";class Sb{constructor(e){this.type=KI,this.auth=ai(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,m)=>{fb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const E=new hb(y);return c.tenantId==null?c._agentRecaptchaConfig=E:c._tenantRecaptchaConfigs[c.tenantId]=E,f(E.siteKey)}}).catch(y=>{m(y)})})}function o(c,f,m){const y=window.grecaptcha;Ov(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(E=>{f(E)}).catch(()=>{f(Fl)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HI().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{a(this.auth).then(m=>{if(!n&&Ov(window.grecaptcha))o(m,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=UI();y.length!==0&&(y+=m),dp(y).then(()=>{o(m,c,f)}).catch(E=>{f(E)})}}).catch(m=>{f(m)})})}}async function um(i,e,n,a=!1,o=!1){const c=new Sb(i);let f;if(o)f=Fl;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,E=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:E,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function hm(i,e,n,a,o){if(i._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const c=await um(i,e,n);return a(i,c).catch(async f=>{if(i._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const m=await um(i,e,n,!1,!0);return a(i,m)}return Promise.reject(f)})}else{const c=await um(i,e,n,!1,!0);return a(i,c)}}async function YI(i){const e=ai(i),n=await fb(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),a=new hb(n);e.tenantId==null?e._agentRecaptchaConfig=a:e._tenantRecaptchaConfigs[e.tenantId]=a,a.isAnyProviderEnabled()&&new Sb(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(i,e){const n=Ja(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Xi(c,e??{}))return o;ni(o,"already-initialized")}return n.initialize({options:e})}function XI(i,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Wr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function ZI(i,e,n){const a=ai(i);ce(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=Rb(e),{host:f,port:m}=WI(e),y=m===null?"":`:${m}`,E={url:`${c}//${f}${y}/`},b=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ce(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ce(Xi(E,a.config.emulator)&&Xi(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Eo(f)?(S0(`${c}//${f}${y}`),R0("Auth",!0)):JI()}function Rb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function WI(i){const e=Rb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:zv(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:zv(f)}}}function zv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function JI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(i,e){return xh(i,"POST","/v1/accounts:signInWithIdp",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="http://localhost";class Qa extends mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=n;if(!a||!o)return null;const f=new Qa(a,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,ro(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:eN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(i,e){return Qn(i,"POST","/v1/accounts:sendVerificationCode",Ar(i,e))}async function tN(i,e){return xh(i,"POST","/v1/accounts:signInWithPhoneNumber",Ar(i,e))}async function nN(i,e){const n=await xh(i,"POST","/v1/accounts:signInWithPhoneNumber",Ar(i,e));if(n.temporaryProof)throw Ml(i,"account-exists-with-different-credential",n);return n}const rN={USER_NOT_FOUND:"user-not-found"};async function iN(i,e){const n={...e,operation:"REAUTH"};return xh(i,"POST","/v1/accounts:signInWithPhoneNumber",Ar(i,n),rN)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends mp{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ha({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ha({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return tN(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return nN(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return iN(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:a,verificationCode:o}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:a,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:a,phoneNumber:o,temporaryProof:c}=e;return!a&&!n&&!o&&!c?null:new Ha({verificationId:n,verificationCode:a,phoneNumber:o,temporaryProof:c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends uc{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qa._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ki.credential(n,a)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends uc{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends uc{constructor(){super("twitter.com")}static credential(e,n){return Qa._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return zi.credential(n,a)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const c=await $n._fromIdTokenResponse(e,a,o),f=Bv(a);return new oo({user:c,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=Bv(a);return new oo({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function Bv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Yn{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new mh(e,n,a,o)}}function Ib(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(i,c,e,a):c})}async function aN(i,e,n=!1){const a=await Zl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return oo._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(i,e,n=!1){const{auth:a}=i;if(Gn(a.app))return Promise.reject(ji(a));const o="reauthenticate";try{const c=await Zl(i,Ib(a,o,e,i),n);ce(c.idToken,a,"internal-error");const f=hp(c.idToken);ce(f,a,"internal-error");const{sub:m}=f;return ce(i.uid===m,a,"user-mismatch"),oo._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ni(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(i,e,n=!1){if(Gn(i.app))return Promise.reject(ji(i));const a="signIn",o=await Ib(i,a,e),c=await oo._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(c.user),c}async function oN(i,e){return Nb(ai(i),e)}function lN(i,e,n,a){return Un(i).onIdTokenChanged(e,n,a)}function cN(i,e,n){return Un(i).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(i,e){return Qn(i,"POST","/v2/accounts/mfaEnrollment:start",Ar(i,e))}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=1e3,hN=10;class xb extends Db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);DI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hN):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xb.type="LOCAL";const fN=xb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends Db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Pb.type="SESSION";const Ob=Pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async E=>E(n.origin,c)),y=await dN(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,y)=>{const E=pp("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const T=S;if(T.data.eventId===E)switch(T.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(T.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:E,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return window}function pN(i){_t().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(){return typeof _t().WorkerGlobalScope<"u"&&typeof _t().importScripts=="function"}async function gN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yN(){return navigator?.serviceWorker?.controller||null}function EN(){return gp()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firebaseLocalStorageDb",vN=1,gh="firebaseLocalStorage",Vb="fbase_key";class hc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(i,e){return i.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function _N(){const i=indexedDB.deleteDatabase(Mb);return new hc(i).toPromise()}function xm(){const i=indexedDB.open(Mb,vN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(gh,{keyPath:Vb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(gh)?e(a):(a.close(),await _N(),e(await xm()))})})}async function Hv(i,e,n){const a=Oh(i,!0).put({[Vb]:e,value:n});return new hc(a).toPromise()}async function bN(i,e){const n=Oh(i,!1).get(e),a=await new hc(n).toPromise();return a===void 0?null:a.value}function jv(i,e){const n=Oh(i,!0).delete(e);return new hc(n).toPromise()}const TN=800,CN=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>CN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(EN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gN(),!this.activeServiceWorker)return;this.sender=new mN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await Hv(e,ph,"1"),await jv(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Hv(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>bN(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Oh(o,!1).getAll();return new hc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const AN=Lb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(i,e){return Qn(i,"POST","/v2/accounts/mfaSignIn:start",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=Ab("rcb"),SN=new lc(3e4,6e4);class RN{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!_t().grecaptcha?.render}load(e,n=""){return ce(wN(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Pv(_t().grecaptcha)?Promise.resolve(_t().grecaptcha):new Promise((a,o)=>{const c=_t().setTimeout(()=>{o(Cn(e,"network-request-failed"))},SN.get());_t()[fm]=()=>{_t().clearTimeout(c),delete _t()[fm];const m=_t().grecaptcha;if(!m||!Pv(m)){o(Cn(e,"internal-error"));return}const y=m.render;m.render=(E,b)=>{const S=y(E,b);return this.counter++,S},this.hostLanguage=n,a(m)};const f=`${kI()}?${vo({onload:fm,render:"explicit",hl:n})}`;dp(f).catch(()=>{clearTimeout(c),o(Cn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!_t().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function wN(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}class IN{async load(e){return new FI(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="recaptcha",NN={theme:"light",type:"image"};class DN{constructor(e,n,a={...NN}){this.parameters=a,this.type=Hl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ai(e),this.isInvisible=this.parameters.size==="invisible",ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof n=="string"?document.getElementById(n):n;ce(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new IN:new RN,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),a=n.getResponse(e);return a||new Promise(o=>{const c=f=>{f&&(this.tokenChangeListeners.delete(c),o(f))};this.tokenChangeListeners.add(c),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(a=>a(n)),typeof e=="function")e(n);else if(typeof e=="string"){const a=_t()[e];typeof a=="function"&&a(n)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ce(ob()&&!gp(),this.auth,"internal-error"),await xN(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await _I(this.auth);ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function xN(){let i=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}i=()=>e(),window.addEventListener("load",i)}).catch(e=>{throw i&&window.removeEventListener("load",i),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ha._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function ON(i,e,n){if(Gn(i.app))return Promise.reject(ji(i));const a=ai(i),o=await kb(a,e,Un(n));return new PN(o,c=>oN(a,c))}async function kb(i,e,n){if(!i._getRecaptchaConfig())try{await YI(i)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(typeof e=="string"?a={phoneNumber:e}:a=e,"session"in a){const o=a.session;if("phoneNumber"in a){ce(o.type==="enroll",i,"internal-error");const c={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await hm(i,c,"mfaSmsEnrollment",async(E,b)=>{if(b.phoneEnrollmentInfo.captchaResponse===Fl){ce(n?.type===Hl,E,"argument-error");const S=await dm(E,b,n);return Fv(E,S)}return Fv(E,b)},"PHONE_PROVIDER").catch(E=>Promise.reject(E))).phoneSessionInfo.sessionInfo}else{ce(o.type==="signin",i,"internal-error");const c=a.multiFactorHint?.uid||a.multiFactorUid;ce(c,i,"missing-multi-factor-info");const f={mfaPendingCredential:o.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await hm(i,f,"mfaSmsSignIn",async(b,S)=>{if(S.phoneSignInInfo.captchaResponse===Fl){ce(n?.type===Hl,b,"argument-error");const T=await dm(b,S,n);return Gv(b,T)}return Gv(b,S)},"PHONE_PROVIDER").catch(b=>Promise.reject(b))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await hm(i,o,"sendVerificationCode",async(y,E)=>{if(E.captchaResponse===Fl){ce(n?.type===Hl,y,"argument-error");const b=await dm(y,E,n);return qv(y,b)}return qv(y,E)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).sessionInfo}}finally{n?._reset()}}async function dm(i,e,n){ce(n.type===Hl,i,"argument-error");const a=await n.verify();ce(typeof a=="string",i,"argument-error");const o={...e};if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,f=o.phoneEnrollmentInfo.captchaResponse,m=o.phoneEnrollmentInfo.clientType,y=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:a,captchaResponse:f,clientType:m,recaptchaVersion:y}}),o}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.captchaResponse,f=o.phoneSignInInfo.clientType,m=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:a,captchaResponse:c,clientType:f,recaptchaVersion:m}}),o}else return Object.assign(o,{recaptchaToken:a}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.providerId=ja.PROVIDER_ID,this.auth=ai(e)}verifyPhoneNumber(e,n){return kb(this.auth,e,Un(n))}static credential(e,n){return Ha._fromVerification(e,n)}static credentialFromResult(e){const n=e;return ja.credentialFromTaggedObject(n)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:a}=e;return n&&a?Ha._fromTokenResponse(n,a):null}}ja.PROVIDER_ID="phone";ja.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(i,e){return e?Wr(e):(ce(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VN(i){return Nb(i.auth,new yp(i),i.bypassAuthState)}function LN(i){const{auth:e,user:n}=i;return ce(n,e,"internal-error"),sN(n,new yp(i),i.bypassAuthState)}async function kN(i){const{auth:e,user:n}=i;return ce(n,e,"internal-error"),aN(n,new yp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VN;case"linkViaPopup":case"linkViaRedirect":return kN;case"reauthViaPopup":case"reauthViaRedirect":return LN;default:ni(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new lc(2e3,1e4);class Js extends Ub{constructor(e,n,a,o,c){super(e,n,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UN.get())};e()}}Js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="pendingRedirect",eh=new Map;class qN extends Ub{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const a=await BN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BN(i,e){const n=jN(e),a=HN(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function FN(i,e){eh.set(i._key(),e)}function HN(i){return Wr(i._redirectPersistence)}function jN(i){return Ju(zN,i.config.apiKey,i.name)}async function GN(i,e,n=!1){if(Gn(i.app))return Promise.reject(ji(i));const a=ai(i),o=MN(a,e),f=await new qN(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=600*1e3;class KN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Cn(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$N&&this.cachedEventUids.clear(),this.cachedEventUids.has($v(e))}saveEventToCache(e){this.cachedEventUids.add($v(e)),this.lastProcessedEventTime=Date.now()}}function $v(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function zb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function YN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(i,e={}){return Qn(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZN=/^https?/;async function WN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await QN(i);for(const n of e)try{if(JN(n))return}catch{}ni(i,"unauthorized-domain")}function JN(i){const e=Nm(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!ZN.test(n))return!1;if(XN.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new lc(3e4,6e4);function Kv(){const i=_t().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function t2(i){return new Promise((e,n)=>{function a(){Kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kv(),n(Cn(i,"network-request-failed"))},timeout:e2.get()})}if(_t().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_t().gapi?.load)a();else{const o=Ab("iframefcb");return _t()[o]=()=>{gapi.load?a():n(Cn(i,"network-request-failed"))},dp(`${zI()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw th=null,e})}let th=null;function n2(i){return th=th||t2(i),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new lc(5e3,15e3),i2="__/auth/iframe",a2="emulator/auth/iframe",s2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l2(i){const e=i.config;ce(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?up(e,a2):`https://${i.config.authDomain}/${i2}`,a={apiKey:e.apiKey,appName:i.name,v:_o},o=o2.get(i.config.apiHost);o&&(a.eid=o);const c=i._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${vo(a).slice(1)}`}async function c2(i){const e=await n2(i),n=_t().gapi;return ce(n,i,"internal-error"),e.open({where:document.body,url:l2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const f=Cn(i,"network-request-failed"),m=_t().setTimeout(()=>{c(f)},r2.get());function y(){_t().clearTimeout(m),o(a)}a.ping(y).then(y,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h2=500,f2=600,d2="_blank",m2="http://localhost";class Yv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p2(i,e,n,a=h2,o=f2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const y={...u2,width:a.toString(),height:o.toString(),top:c,left:f},E=Jt().toLowerCase();n&&(m=yb(E)?d2:n),pb(E)&&(e=e||m2,y.scrollbars="yes");const b=Object.entries(y).reduce((T,[V,F])=>`${T}${V}=${F},`,"");if(NI(E)&&m!=="_self")return g2(e||"",m),new Yv(null);const S=window.open(e||"",m,b);ce(S,i,"popup-blocked");try{S.focus()}catch{}return new Yv(S)}function g2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="__/auth/handler",E2="emulator/auth/handler",v2=encodeURIComponent("fac");async function Qv(i,e,n,a,o,c){ce(i.config.authDomain,i,"auth-domain-config-required"),ce(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:_o,eventId:o};if(e instanceof wb){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",N1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))f[b]=S}if(e instanceof uc){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(f.scopes=b.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const y=await i._getAppCheckToken(),E=y?`#${v2}=${encodeURIComponent(y)}`:"";return`${_2(i)}?${vo(m).slice(1)}${E}`}function _2({config:i}){return i.emulator?up(i,E2):`https://${i.authDomain}/${y2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class b2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ob,this._completeRedirectFn=GN,this._overrideRedirectResult=FN}async _openPopup(e,n,a,o){ri(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Qv(e,n,a,Nm(),o);return p2(e,c,pp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const c=await Qv(e,n,a,Nm(),o);return pN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(ri(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await c2(e),a=new KN(e);return n.register("authEvent",o=>(ce(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},o=>{const c=o?.[0]?.[mm];c!==void 0&&n(!!c),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tb()||gb()||fp()}}const T2=b2;var Xv="@firebase/auth",Zv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S2(i){vr(new Kn("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;ce(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cb(i)},E=new VI(a,o,c,y);return XI(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),vr(new Kn("auth-internal",e=>{const n=ai(e.getProvider("auth").getImmediate());return(a=>new C2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(Xv,Zv,A2(i)),kn(Xv,Zv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=300,w2=A0("authIdTokenMaxAge")||R2;let Wv=null;const I2=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>w2)return;const o=n?.token;Wv!==o&&(Wv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function N2(i=oc()){const e=Ja(i,"auth");if(e.isInitialized())return e.getImmediate();const n=QI(i,{popupRedirectResolver:T2,persistence:[AN,fN,Ob]}),a=A0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=I2(c.toString());cN(n,f,()=>f(n.currentUser)),lN(n,m=>f(m))}}const o=T0("auth");return o&&ZI(n,`http://${o}`),n}function D2(){return document.getElementsByTagName("head")?.[0]??document}LI({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const c=Cn("internal-error");c.customData=o,n(c)},a.type="text/javascript",a.charset="UTF-8",D2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S2("Browser");const x2={apiKey:"AIzaSyB-yCOt8Cc0cNtCxwXrQZLrG3vvYgX5nc8",authDomain:"formularios-9ecc5.firebaseapp.com",projectId:"formularios-9ecc5",storageBucket:"formularios-9ecc5.firebasestorage.app",messagingSenderId:"358726414251",appId:"1:358726414251:web:fb25ed639527502eb86cee"},qb=O0().length===0?rp(x2):oc();oI(qb);const Ep=N2(qb),P2=i=>(window.recaptchaVerifier||(window.recaptchaVerifier=new DN(Ep,i,{size:"normal",callback:e=>{console.log("reCAPTCHA resuelto")},"expired-callback":()=>{console.log("reCAPTCHA expirado"),window.recaptchaVerifier&&(window.recaptchaVerifier.clear(),window.recaptchaVerifier=null)}})),window.recaptchaVerifier),O2=async i=>{try{const e=i.startsWith("+")?i:`+${i}`;return await ON(Ep,e,window.recaptchaVerifier)}catch(e){throw e}},M2=async(i,e)=>{try{const n=ja.credential(i,e);return await Ep.signInWithCredential(n)}catch(n){throw n}},he=({label:i,value:e,onChange:n,placeholder:a="",required:o=!1,type:c="text",className:f="",linkedField:m=null})=>p.createElement("div",{className:`mb-4 ${f}`},p.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},i,m&&p.createElement("span",{className:"text-blue-600 ml-1"},"| ",m),o&&p.createElement("span",{className:"text-red-500 ml-1"},"*")),p.createElement("input",{type:c,value:e,onChange:n,placeholder:a,required:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})),un=({label:i,value:e,onChange:n,placeholder:a="",required:o=!1,linkedField:c,className:f=""})=>p.createElement("div",{className:`mb-4 ${f}`},p.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},i,o&&p.createElement("span",{className:"text-red-500 ml-1"},"*")),p.createElement("input",{type:"text",value:e,onChange:n,placeholder:a,required:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})),an=({label:i,options:e,value:n,onChange:a,required:o=!1,className:c=""})=>p.createElement("div",{className:`mb-4 ${c}`},p.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},i,o&&p.createElement("span",{className:"text-red-500 ml-1"},"*")),p.createElement("div",{className:"space-y-2"},Object.entries(e).map(([f,m])=>p.createElement("label",{key:f,className:"flex items-center"},p.createElement("input",{type:"checkbox",checked:n[f],onChange:y=>a({...n,[f]:y.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),p.createElement("span",{className:"ml-2 text-sm text-gray-700"},m))))),Wl=({label:i,value:e,onChange:n,options:a,required:o=!1,className:c=""})=>p.createElement("div",{className:`mb-4 ${c}`},p.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},i,o&&p.createElement("span",{className:"text-red-500 ml-1"},"*")),p.createElement("select",{value:e,onChange:n,required:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},p.createElement("option",{value:""},"Seleccione una opción"),a.map(f=>p.createElement("option",{key:f.value,value:f.value},f.label)))),mr=({label:i,value:e,onChange:n,required:a=!1,className:o=""})=>p.createElement("div",{className:`mb-4 ${o}`},p.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},i,a&&p.createElement("span",{className:"text-red-500 ml-1"},"*")),p.createElement("input",{type:"date",value:e,onChange:n,required:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})),Ht=({label:i,value:e,onChange:n,required:a=!1,className:o=""})=>p.createElement("div",{className:`mb-4 ${o}`},p.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},i,a&&p.createElement("span",{className:"text-red-500 ml-1"},"*")),p.createElement("div",{className:"flex space-x-4"},p.createElement("label",{className:"flex items-center"},p.createElement("input",{type:"radio",value:"si",checked:e==="si",onChange:c=>n(c.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),p.createElement("span",{className:"ml-2 text-sm text-gray-700"},"Sí")),p.createElement("label",{className:"flex items-center"},p.createElement("input",{type:"radio",value:"no",checked:e==="no",onChange:c=>n(c.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),p.createElement("span",{className:"ml-2 text-sm text-gray-700"},"No")))),Jv=({title:i,data:e,onChange:n,className:a=""})=>p.createElement("div",{className:`mb-6 ${a}`},p.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},i),p.createElement("div",{className:"overflow-x-auto"},p.createElement("table",{className:"min-w-full border border-gray-300"},p.createElement("thead",null,p.createElement("tr",{className:"bg-gray-50"},p.createElement("th",{className:"px-4 py-2 border border-gray-300 text-left text-sm font-medium text-gray-700"},"El cliente o proveedor"),p.createElement("th",{className:"px-4 py-2 border border-gray-300 text-center text-sm font-medium text-gray-700"},"Sí"),p.createElement("th",{className:"px-4 py-2 border border-gray-300 text-center text-sm font-medium text-gray-700"},"No"))),p.createElement("tbody",null,Object.entries(e).map(([o,c])=>p.createElement("tr",{key:o},p.createElement("td",{className:"px-4 py-2 border border-gray-300 text-sm text-gray-700"},o==="esAutorretenedor"&&"Es autorretenedor",o==="esContribuyente"&&"Es contribuyente",o==="esRegimenSimple"&&"Es régimen Simple",o==="esResponsableIVA"&&"Es responsable de IVA",o==="importaBienes"&&"Importa bienes",o==="exportaBienes"&&"Exporta bienes",o==="importaServicios"&&"Importa servicios",o==="exportaServicios"&&"Exporta servicios",o==="realizaOperacionesMonedaExtranjera"&&"Realiza operaciones en moneda extranjera",o==="tieneProductosMonedaExtranjera"&&"Tiene productos en moneda extranjera"),p.createElement("td",{className:"px-4 py-2 border border-gray-300 text-center"},p.createElement("input",{type:"radio",name:o,value:"si",checked:c==="si",onChange:f=>n({...e,[o]:f.target.value}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"})),p.createElement("td",{className:"px-4 py-2 border border-gray-300 text-center"},p.createElement("input",{type:"radio",name:o,value:"no",checked:c==="no",onChange:f=>n({...e,[o]:f.target.value}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"})))))))),V2=({data:i,onChange:e,className:n=""})=>{const a=[{key:"personaNatural",label:"Persona Natural o a nombre propio"},{key:"representanteLegal",label:"Representante Legal"},{key:"sociosAccionistas",label:"Socios o Accionistas"},{key:"juntaDirectiva",label:"Junta Directiva"},{key:"familiares",label:"Familiares"}],o=[{key:"manejaRecursosPublicos",label:"¿Maneja o manejó recursos públicos?"},{key:"tienePoderPublico",label:"¿Tiene o tuvo algún grado de poder público?"},{key:"gozaReconocimientoPublico",label:"¿Goza o gozó de reconocimiento público?"},{key:"esPersonaPoliticamenteExpuesta",label:"¿Alguno de los administrativos es persona políticamente expuesta?"}];return p.createElement("div",{className:`mb-6 ${n}`},p.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Declaración PEPS"),p.createElement("div",{className:"bg-gray-50 p-4 rounded-md mb-4"},p.createElement("p",{className:"text-gray-600"},"Hola mundo - Aquí irá la declaración PEPS")),a.map(c=>p.createElement("div",{key:c.key,className:"mb-6"},p.createElement("h4",{className:"text-md font-medium text-gray-800 mb-3"},c.label),o.map(f=>p.createElement(Ht,{key:f.key,label:f.label,value:i[c.key][f.key],onChange:m=>{const y={...i};y[c.key][f.key]=m,e(y)},className:"ml-4"})))))},L2=({formData:i,updateFormData:e,updateNestedFormData:n,agregarFamiliar:a,eliminarFamiliar:o})=>{const[c,f]=K.useState(!1),m=[{value:"sociedadConyugal",label:"1. Sociedad conyugal de hecho o de derecho"},{value:"primerGradoConsanguinidad",label:"2. Primer grado de consanguinidad: Padre, madre, hijos"},{value:"segundoGradoConsanguinidad",label:"3. Segundo grado de consanguinidad: Abuelos, nietos, hermanos"},{value:"primerGradoAfinidad",label:"4. Primer grado de afinidad: Suegros, Yerno, Nuera"},{value:"segundoGradoAfinidad",label:"5. Segundo grado de afinidad: Abuelos del cónyuge, nietos del cónyuge, cuñados"},{value:"primeroCivil",label:"6. Primero civil: Padres adoptantes, hijos adoptivos"}],y=[{value:"compra",label:"Compra"},{value:"venta",label:"Venta"},{value:"arrendamiento",label:"Arrendamiento"},{value:"servicios",label:"Servicios"},{value:"otro",label:"Otro"}],E=(b,S,T)=>{const V=[...i.familiaresRelacionadosPEP];V[b]={...V[b],[S]:T},e("familiaresRelacionadosPEP",V)};return p.createElement("div",{className:"space-y-8"},p.createElement("div",{className:"bg-blue-50 p-6 rounded-lg"},p.createElement("h2",{className:"text-2xl font-bold text-blue-900 mb-4"},"FORMULARIO VINCULACIÓN DE CLIENTES (Solo para personas expuestas políticamente)"),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(an,{label:"TIPO DE DILIGENCIAMIENTO",options:{inicial:"Inicial",actualizacion:"Actualización"},value:i.tipoDiligenciamientoPEP,onChange:b=>e("tipoDiligenciamientoPEP",b),required:!0}),p.createElement(mr,{label:"FECHA DE DILIGENCIAMIENTO INFORMACIÓN",value:i.fechaDiligenciamientoPEP,onChange:b=>e("fechaDiligenciamientoPEP",b.target.value),required:!0})),p.createElement("div",{className:"mt-6"},p.createElement(Wl,{label:"TIPO DE OPERACIÓN A REALIZAR A TRAVÉS DE ITALCOL S.A/ITALCOL DE OCCIDENTE S.A",value:i.tipoOperacionItalcol,onChange:b=>e("tipoOperacionItalcol",b.target.value),options:y,required:!0}))),p.createElement("div",{className:"bg-yellow-50 p-6 rounded-lg"},p.createElement("h3",{className:"text-xl font-semibold text-yellow-900 mb-4"},"Persona Políticamente Expuesta"),p.createElement("div",{className:"bg-white p-4 rounded-md"},p.createElement("p",{className:"text-gray-600"},"HOLA MUNDO - Aquí irá el texto sobre persona políticamente expuesta"))),p.createElement("div",{className:"bg-white p-6 rounded-lg border border-gray-200"},p.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-6"},"Información Adicional PEP"),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(he,{label:"NOMBRES Y APELLIDOS",value:i.nombresApellidosPEP,onChange:b=>e("nombresApellidosPEP",b.target.value),required:!0}),p.createElement("div",{className:"space-y-4"},p.createElement(an,{label:"DOCUMENTO DE IDENTIFICACIÓN",options:{cc:"CC",ti:"TI",ce:"CE",rut:"RUT",pasaporte:"PASAPORTE",otro:"OTRO"},value:i.tipoDocumentoPEP,onChange:b=>e("tipoDocumentoPEP",b),required:!0}),i.tipoDocumentoPEP.otro&&p.createElement(he,{label:"¿CUÁL?",value:i.otroTipoDocumentoPEP,onChange:b=>e("otroTipoDocumentoPEP",b.target.value),required:!0}))),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"},p.createElement("div",{className:"space-y-4"},p.createElement(un,{label:"NÚMERO DOCUMENTO",linkedField:"OCUPACIÓN/PROFESIÓN",value:i.numeroDocumentoPEP,onChange:b=>e("numeroDocumentoPEP",b.target.value),required:!0}),p.createElement(he,{label:"OCUPACIÓN/PROFESIÓN",value:i.ocupacionProfesionPEP,onChange:b=>e("ocupacionProfesionPEP",b.target.value),required:!0})),p.createElement("div",{className:"space-y-4"},p.createElement(un,{label:"NACIONALIDAD",linkedField:"ENTIDAD (SI APLICA)",value:i.nacionalidadPEP,onChange:b=>e("nacionalidadPEP",b.target.value),required:!0}),p.createElement(he,{label:"ENTIDAD (SI APLICA)",value:i.entidadPEP,onChange:b=>e("entidadPEP",b.target.value)}))),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6"},p.createElement(he,{label:"CARGO QUE MANEJA",value:i.cargoPEP,onChange:b=>e("cargoPEP",b.target.value),required:!0}),p.createElement(mr,{label:"FECHA DE VINCULACIÓN AL CARGO",value:i.fechaVinculacionCargoPEP,onChange:b=>e("fechaVinculacionCargoPEP",b.target.value),required:!0}),p.createElement(mr,{label:"FECHA DE DESVINCULACIÓN AL CARGO",value:i.fechaDesvinculacionCargoPEP,onChange:b=>e("fechaDesvinculacionCargoPEP",b.target.value)}))),p.createElement("div",{className:"bg-white p-6 rounded-lg border border-gray-200"},p.createElement("div",{className:"flex items-center justify-between mb-6"},p.createElement("h3",{className:"text-xl font-semibold text-gray-900"},"Persona Políticamente Expuesta (las fechas de vinculación y desvinculación al cargo aplican para políticamente expuesto)"),p.createElement("button",{onClick:()=>f(!c),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},c?"Ocultar Familiares":"Mostrar Familiares")),c&&p.createElement("div",{className:"space-y-6"},i.familiaresRelacionadosPEP.map((b,S)=>p.createElement("div",{key:S,className:"border border-gray-200 rounded-lg p-4 bg-gray-50"},p.createElement("div",{className:"flex justify-between items-center mb-4"},p.createElement("h4",{className:"text-lg font-medium text-gray-800"},"Item ",b.numeroItem),i.familiaresRelacionadosPEP.length>1&&p.createElement("button",{onClick:()=>o(S),className:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm"},"Eliminar Familiar")),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(Wl,{label:"RELACIÓN/PARENTESCO *",value:b.relacionParentesco,onChange:T=>E(S,"relacionParentesco",T.target.value),options:m,required:!0}),p.createElement(he,{label:"NOMBRE APELLIDOS",value:b.nombreApellidos,onChange:T=>E(S,"nombreApellidos",T.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4"},p.createElement("div",{className:"space-y-4"},p.createElement(an,{label:"TIPO DE IDENTIFICACIÓN",options:{cc:"CC",ti:"TI",ce:"CE",rut:"RUT",pasaporte:"PASAPORTE",otro:"OTRO"},value:b.tipoIdentificacion,onChange:T=>E(S,"tipoIdentificacion",T),required:!0}),b.tipoIdentificacion.otro&&p.createElement(he,{label:"¿CUÁL?",value:b.otroTipoIdentificacion,onChange:T=>E(S,"otroTipoIdentificacion",T.target.value),required:!0})),p.createElement(he,{label:"N° DE IDENTIFICACIÓN",value:b.numeroIdentificacion,onChange:T=>E(S,"numeroIdentificacion",T.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4"},p.createElement("div",{className:"space-y-4"},p.createElement(un,{label:"NACIONALIDAD",linkedField:"ENTIDAD (SI APLICA)",value:b.nacionalidad,onChange:T=>E(S,"nacionalidad",T.target.value),required:!0}),p.createElement(he,{label:"ENTIDAD (SI APLICA)",value:b.entidad,onChange:T=>E(S,"entidad",T.target.value)})),p.createElement(he,{label:"CARGO/OCUPACIÓN",value:b.cargoOcupacion,onChange:T=>E(S,"cargoOcupacion",T.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4"},p.createElement(mr,{label:"FECHA DE VINCULACIÓN AL CARGO",value:b.fechaVinculacionCargo,onChange:T=>E(S,"fechaVinculacionCargo",T.target.value),required:!0}),p.createElement(mr,{label:"FECHA DE DESVINCULACIÓN AL CARGO",value:b.fechaDesvinculacionCargo,onChange:T=>E(S,"fechaDesvinculacionCargo",T.target.value)})))),p.createElement("div",{className:"flex justify-center pt-4"},p.createElement("button",{onClick:a,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 font-medium"},"+ Agregar Familiar")))))};let k2="",U2={inicial:!1,actualizacion:!1},z2={cliente:!1,codeudor:!1,proveedor:!1,accionista:!1},q2="",B2="",F2="",H2="",j2="",G2="",$2="",K2="",Y2="",Q2="",X2="",Z2={privada:!1,mixta:!1,publica:!1},W2="",J2="",eD={si:!1,no:!1},tD="",nD="",rD={cc:!1,ti:!1,ce:!1,rut:!1,pasaporte:!1,otro:!1},iD="",aD="",sD="",oD="",lD="",cD="",uD="",hD="",fD="",dD="",mD="",pD="",gD="",yD="",ED={si:!1,no:!1},vD="",_D="",bD="",TD="",CD={estadosFinancieros:!1,declaracionRenta:!1,formularioNoDeclarante:!1},AD={esAutorretenedor:"",esContribuyente:"",esRegimenSimple:"",esResponsableIVA:""},SD={importaBienes:"",exportaBienes:"",importaServicios:"",exportaServicios:"",realizaOperacionesMonedaExtranjera:"",tieneProductosMonedaExtranjera:""},RD={tipoProducto:"",numeroIdentificacion:"",promedioMensual:"",pais:"",tipoMoneda:"",nombreEntidad:""},wD={personaNatural:{manejaRecursosPublicos:"",tienePoderPublico:"",gozaReconocimientoPublico:"",esPersonaPoliticamenteExpuesta:""},representanteLegal:{manejaRecursosPublicos:"",tienePoderPublico:"",gozaReconocimientoPublico:"",esPersonaPoliticamenteExpuesta:""},sociosAccionistas:{manejaRecursosPublicos:"",tienePoderPublico:"",gozaReconocimientoPublico:"",esPersonaPoliticamenteExpuesta:""},juntaDirectiva:{manejaRecursosPublicos:"",tienePoderPublico:"",gozaReconocimientoPublico:"",esPersonaPoliticamenteExpuesta:""},familiares:{manejaRecursosPublicos:"",tienePoderPublico:"",gozaReconocimientoPublico:"",esPersonaPoliticamenteExpuesta:""}},ID="",ND={inicial:!1,actualizacion:!1},DD="",xD="",PD="",OD={cc:!1,ti:!1,ce:!1,rut:!1,pasaporte:!1,otro:!1},MD="",VD="",LD="",kD="",UD="",zD="",qD="",BD="",FD=[{numeroItem:1,relacionParentesco:"",nombreApellidos:"",tipoIdentificacion:{cc:!1,ti:!1,ce:!1,rut:!1,pasaporte:!1,otro:!1},otroTipoIdentificacion:"",numeroIdentificacion:"",nacionalidad:"",entidad:"",cargoOcupacion:"",fechaVinculacionCargo:"",fechaDesvinculacionCargo:""}],HD="",jD="",GD="",$D="",KD="",YD="",QD="",XD="",ZD="",WD="",JD="",ex="",tx="",nx="",rx="",ix="",ax="",sx="",ox="",lx="",cx="",ux="",hx="",fx="",dx="",mx="",px="",gx="",yx="",Ex="",vx="",_x="",bx="",Tx="",Cx="",Ax="",Sx="",Rx="",wx="",Ix="",Nx=!1,Dx="",xx="",Px="",Ox="",Mx="",Vx="",Lx="",kx="",Ux="",zx="",qx=Array.from({length:4},()=>({nombreApellido:"",tipoDocumento:"",numeroDocumento:"",tipoRelacion:"",cargo:"",entidad:""})),Bx=Array.from({length:4},()=>({nombreRazonSocial:"",nacionalidad:"",tipoDocumento:"",numeroDocumento:"",participacion:""})),Fx="",Hx="",jx="",Gx="";const e_={fechaDiligenciamiento:k2,tipoVinculacion:U2,claseTercero:z2,tipoEntidad:q2,nombreClientePrincipal:B2,nombreRazonSocial:F2,nit:H2,nombreComercial:j2,sigla:G2,direccionPrincipal:$2,ciudad:K2,numeroCelular:Y2,telefono:Q2,departamento:X2,tipoEmpresa:Z2,codigoCIIU:W2,email:J2,licitaVendeEstado:eD,promedioVentasEstado:tD,nombreApellidos:nD,tipoDocumento:rD,otroTipoDocumento:iD,numeroDocumento:aD,expedidoEn:sD,nacionalidad:oD,direccionResidencia:lD,departamentoResidencia:cD,emailPersonaNatural:uD,telefonoPersonaNatural:hD,celularPersonaNatural:fD,otroTelefono:dD,empresaDondeLabora:mD,direccionLaboral:pD,ciudadMunicipioLaboral:gD,departamentoLaboral:yD,licitaVendeEstadoPersonaNatural:ED,promedioVentasEstadoPersonaNatural:vD,descripcionActividad:_D,emailRecepcionFactura:bD,fechaCorteEstadosFinancieros:TD,soporteFinanciero:CD,perfilTributario1:AD,perfilTributario2:SD,operacionesMonedaExtranjera:RD,declaracionPEPS:wD,origenFondos:ID,tipoDiligenciamientoPEP:ND,fechaDiligenciamientoPEP:DD,tipoOperacionItalcol:xD,nombresApellidosPEP:PD,tipoDocumentoPEP:OD,otroTipoDocumentoPEP:MD,numeroDocumentoPEP:VD,ocupacionProfesionPEP:LD,nacionalidadPEP:kD,entidadPEP:UD,cargoPEP:zD,fechaVinculacionCargoPEP:qD,fechaDesvinculacionCargoPEP:BD,familiaresRelacionadosPEP:FD,fechaCliente:HD,empresaCliente:jD,tipoCliente:GD,tipoPersonaCliente:$D,tipoDocumentoCliente:KD,otroTipoDocumentoCliente:YD,nombreRazonSocialCliente:QD,tipoDocumentoRepresentanteCliente:XD,otroTipoDocumentoRepresentanteCliente:ZD,numeroDocumentoRepresentanteCliente:WD,nombreApellidosRepresentanteCliente:JD,direccionCliente:ex,barrioCliente:tx,ciudadMunicipioCliente:nx,departamentoCliente:rx,telefonoCliente:ix,emailCliente:ax,sitioWebCliente:sx,nombreContactoCliente:ox,telefonoContactoCliente:lx,celularContactoCliente:cx,tipoIVACliente:ux,granContribuyenteCliente:hx,resolucionGranContribuyenteCliente:fx,autorretenedorCliente:dx,resolucionAutorretenedorCliente:mx,indicadorCREE41Cliente:px,indicadorRetencion42Cliente:gx,actividadEconomicaDIANCliente:yx,codigoEANSupermercadosCliente:Ex,tipoDocumentoEntregaCliente:vx,tipoClienteCredito:_x,transaccionesInternacionalesCliente:bx,paisesTransaccionesCliente:Tx,activosVirtualesCliente:Cx,paisesActivosVirtualesCliente:Ax,carteraHipotecaCliente:Sx,valorCarteraHipotecaCliente:Rx,pignoracionHipotecaCliente:wx,valorPignoracionHipotecaCliente:Ix,esPEPCliente:Nx,administraRecursosPoliticosCliente:Dx,gozaReconocimientoPublicoCliente:xx,ejercePoderPublicoCliente:Px,nombreEntidadVinculadaCliente:Ox,nitEntidadVinculadaCliente:Mx,cargoDesempenadoCliente:Vx,fechaVinculacionCliente:Lx,fechaDesvinculacionCliente:kx,tieneRelacionPEPCliente:Ux,tipoRelacionPEPCliente:zx,personasPEPCliente:qx,accionistasCliente:Bx,contactoVentasCliente:Fx,declaracionOrigenFondosCliente:Hx,compromisoCliente:jx,autorizacionTratamientoDatosCliente:Gx},$x=i=>{Object.keys(i).forEach(e=>{e_.hasOwnProperty(e)&&(e_[e]=i[e])})},Bb=({personaId:i})=>{const[e,n]=K.useState(1),[a,o]=K.useState({fechaDiligenciamiento:"",tipoVinculacion:{inicial:!1,actualizacion:!1},claseTercero:{cliente:!1,codeudor:!1,proveedor:!1,accionista:!1},tipoEntidad:"",nombreClientePrincipal:"",nombreRazonSocial:"",nit:"",nombreComercial:"",sigla:"",direccionPrincipal:"",ciudad:"",numeroCelular:"",telefono:"",departamento:"",tipoEmpresa:{privada:!1,mixta:!1,publica:!1},codigoCIIU:"",email:"",licitaVendeEstado:{si:!1,no:!1},promedioVentasEstado:"",nombreApellidos:"",tipoDocumento:{cc:!1,ti:!1,ce:!1,rut:!1,pasaporte:!1,otro:!1},otroTipoDocumento:"",numeroDocumento:"",expedidoEn:"",nacionalidad:"",direccionResidencia:"",departamentoResidencia:"",emailPersonaNatural:"",telefonoPersonaNatural:"",celularPersonaNatural:"",otroTelefono:"",empresaDondeLabora:"",direccionLaboral:"",ciudadMunicipioLaboral:"",departamentoLaboral:"",licitaVendeEstadoPersonaNatural:{si:!1,no:!1},promedioVentasEstadoPersonaNatural:"",descripcionActividad:"",emailRecepcionFactura:"",telefonoRecepcionFactura:"",fechaCorteEstadosFinancieros:"",soporteFinanciero:{estadosFinancieros:!1,declaracionRenta:!1,formularioNoDeclarante:!1},perfilTributario1:{esAutorretenedor:"",esContribuyente:"",esRegimenSimple:"",esResponsableIVA:""},perfilTributario2:{importaBienes:"",exportaBienes:"",importaServicios:"",exportaServicios:"",realizaOperacionesMonedaExtranjera:"",tieneProductosMonedaExtranjera:""},operacionesMonedaExtranjera:{tipoProducto:"",numeroIdentificacion:"",promedioMensual:"",pais:"",tipoMoneda:"",nombreEntidad:""},declaracionPEPS:{personaNatural:{manejaRecursosPublicos:"",tienePoderPublico:"",gozaReconocimientoPublico:"",esPersonaPoliticamenteExpuesta:""},representanteLegal:{manejaRecursosPublicos:"",tienePoderPublico:"",gozaReconocimientoPublico:"",esPersonaPoliticamenteExpuesta:""},sociosAccionistas:{manejaRecursosPublicos:"",tienePoderPublico:"",gozaReconocimientoPublico:"",esPersonaPoliticamenteExpuesta:""},juntaDirectiva:{manejaRecursosPublicos:"",tienePoderPublico:"",gozaReconocimientoPublico:"",esPersonaPoliticamenteExpuesta:""},familiares:{manejaRecursosPublicos:"",tienePoderPublico:"",gozaReconocimientoPublico:"",esPersonaPoliticamenteExpuesta:""}},origenFondos:"",tipoDiligenciamientoPEP:{inicial:!1,actualizacion:!1},fechaDiligenciamientoPEP:"",tipoOperacionItalcol:"",nombresApellidosPEP:"",tipoDocumentoPEP:{cc:!1,ti:!1,ce:!1,rut:!1,pasaporte:!1,otro:!1},otroTipoDocumentoPEP:"",numeroDocumentoPEP:"",ocupacionProfesionPEP:"",nacionalidadPEP:"",entidadPEP:"",cargoPEP:"",fechaVinculacionCargoPEP:"",fechaDesvinculacionCargoPEP:"",familiaresRelacionadosPEP:[{numeroItem:1,relacionParentesco:"",nombreApellidos:"",tipoIdentificacion:{cc:!1,ti:!1,ce:!1,rut:!1,pasaporte:!1,otro:!1},otroTipoIdentificacion:"",numeroIdentificacion:"",nacionalidad:"",entidad:"",cargoOcupacion:"",fechaVinculacionCargo:"",fechaDesvinculacionCargo:""}]}),c=9,f=(N,j)=>{o(ee=>({...ee,[N]:j}))},m=(N,j,ee)=>{o(te=>({...te,[N]:{...te[N],[j]:ee}}))},y=()=>{const j={numeroItem:a.familiaresRelacionadosPEP.length+1,relacionParentesco:"",nombreApellidos:"",tipoIdentificacion:{cc:!1,ti:!1,ce:!1,rut:!1,pasaporte:!1,otro:!1},otroTipoIdentificacion:"",numeroIdentificacion:"",nacionalidad:"",entidad:"",cargoOcupacion:"",fechaVinculacionCargo:"",fechaDesvinculacionCargo:""};o(ee=>({...ee,familiaresRelacionadosPEP:[...ee.familiaresRelacionadosPEP,j]}))},E=N=>{a.familiaresRelacionadosPEP.length>1&&o(j=>({...j,familiaresRelacionadosPEP:j.familiaresRelacionadosPEP.filter((ee,te)=>te!==N).map((ee,te)=>({...ee,numeroItem:te+1}))}))},b=()=>{if(e<c){let N=e+1;e===1&&a.tipoEntidad!=="personaJuridica"&&(N=3),e===3&&a.tipoEntidad!=="personaNatural"&&(N=5),n(N)}},S=()=>{if(e>1){let N=e-1;e===3&&a.tipoEntidad!=="personaJuridica"&&(N=1),e===5&&a.tipoEntidad!=="personaNatural"&&(N=3),n(N)}},T=()=>Object.values(a.declaracionPEPS).some(N=>N.esPersonaPoliticamenteExpuesta==="si"),V=()=>{$x(a),T()?alert("Datos guardados exitosamente en values.js (incluyendo formulario PEP)"):alert("Datos guardados exitosamente en values.js")},F=()=>{switch(e){case 1:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Información General"),i&&p.createElement("div",{className:"bg-green-50 p-4 rounded-lg mb-6"},p.createElement("h3",{className:"text-lg font-semibold text-green-900 mb-2"},"Información de la Persona"),p.createElement("p",{className:"text-green-800 text-sm"},p.createElement("strong",null,"ID de Persona:")," ",i),p.createElement("p",{className:"text-green-800 text-sm mt-1"},"Este formulario está asociado a la persona con el ID especificado en la URL.")),p.createElement("div",{className:"bg-blue-50 p-4 rounded-lg mb-6"},p.createElement("h3",{className:"text-lg font-semibold text-blue-900 mb-2"},"Compromiso con Colombia"),p.createElement("p",{className:"text-blue-800 text-sm"},"Estamos comprometidos con Colombia!! Damos cumplimiento a la normatividad vigente de la Superintendencia de Sociedades respecto a SAGRILAFT -SISTEMA DE AUTOCONTROL Y GESTIÓN DEL RIESGO INTEGRAL DE LAVADO DE ACTIVOS, FINANCIACIÓN DEL TERRORISMO Y FINANCIACION DE LA PROLIFERACION DE ARMAS DE DESTRUCCION MASIVA -(Circular 100-000016 Y PTTE PROGRAMA CORPORATIVO DE TRANSPARENCIA Y ÉTICA EMPRESARIAL (Circular 100-000011)")),p.createElement(mr,{label:"FECHA DILIGENCIAMIENTO INFORMACIÓN (Día/Mes/Año)",value:a.fechaDiligenciamiento,onChange:N=>f("fechaDiligenciamiento",N.target.value),required:!0}),p.createElement(an,{label:"TIPO DE VINCULACIÓN",options:{inicial:"Inicial",actualizacion:"Actualización"},value:a.tipoVinculacion,onChange:N=>f("tipoVinculacion",N),required:!0}),p.createElement(an,{label:"CLASE DE TERCERO",options:{cliente:"Cliente",codeudor:"Codeudor",proveedor:"Proveedor",accionista:"Accionista"},value:a.claseTercero,onChange:N=>f("claseTercero",N),required:!0}),p.createElement(Wl,{label:"TIPO DE ENTIDAD",value:a.tipoEntidad,onChange:N=>f("tipoEntidad",N.target.value),options:[{value:"personaNatural",label:"Persona Natural"},{value:"personaJuridica",label:"Persona Jurídica"},{value:"entidadesEstado",label:"Entidades del Estado"},{value:"entidadesMixtas",label:"Entidades Mixtas"},{value:"unionesTemporales",label:"Uniones Temporales"},{value:"consorcios",label:"Consorcios"},{value:"campanasPoliticas",label:"Campañas Políticas"}],required:!0}),a.claseTercero.codeudor&&p.createElement(he,{label:"NOMBRE O RAZÓN SOCIAL DEL CLIENTE PRINCIPAL",value:a.nombreClientePrincipal,onChange:N=>f("nombreClientePrincipal",N.target.value),required:!0}));case 2:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Datos Persona Jurídica"),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(un,{label:"NOMBRE RAZÓN SOCIAL",linkedField:"NIT",value:a.nombreRazonSocial,onChange:N=>f("nombreRazonSocial",N.target.value),required:!0}),p.createElement(he,{label:"NIT",value:a.nit,onChange:N=>f("nit",N.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(un,{label:"NOMBRE COMERCIAL",linkedField:"SIGLA",value:a.nombreComercial,onChange:N=>f("nombreComercial",N.target.value),required:!0}),p.createElement(he,{label:"SIGLA",value:a.sigla,onChange:N=>f("sigla",N.target.value)})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(un,{label:"DIRECCIÓN PRINCIPAL",linkedField:"CIUDAD",value:a.direccionPrincipal,onChange:N=>f("direccionPrincipal",N.target.value),required:!0}),p.createElement(he,{label:"CIUDAD",value:a.ciudad,onChange:N=>f("ciudad",N.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},p.createElement(un,{label:"NÚMERO CELULAR",linkedField:"TELÉFONO",value:a.numeroCelular,onChange:N=>f("numeroCelular",N.target.value),required:!0}),p.createElement(he,{label:"TELÉFONO",value:a.telefono,onChange:N=>f("telefono",N.target.value)}),p.createElement(he,{label:"DEPARTAMENTO",value:a.departamento,onChange:N=>f("departamento",N.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},p.createElement(an,{label:"TIPO EMPRESA",options:{privada:"PRIVADA",mixta:"MIXTA",publica:"PÚBLICA"},value:a.tipoEmpresa,onChange:N=>f("tipoEmpresa",N),required:!0}),p.createElement(he,{label:"CÓDIGO CIIU",value:a.codigoCIIU,onChange:N=>f("codigoCIIU",N.target.value),required:!0}),p.createElement(he,{label:"EMAIL",type:"email",value:a.email,onChange:N=>f("email",N.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(an,{label:"LICITA Y/O VENDE A EMPRESAS DEL ESTADO",options:{si:"SÍ",no:"NO"},value:a.licitaVendeEstado,onChange:N=>f("licitaVendeEstado",N),required:!0}),p.createElement(he,{label:"PROMEDIO ANUAL DE VENTAS A EMPRESAS DEL ESTADO",value:a.promedioVentasEstado,onChange:N=>f("promedioVentasEstado",N.target.value),placeholder:"Ingrese el monto"})));case 3:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Datos Persona Natural y/o Representante Legal"),p.createElement(he,{label:"NOMBRE Y APELLIDOS",value:a.nombreApellidos,onChange:N=>f("nombreApellidos",N.target.value),required:!0}),p.createElement(an,{label:"DOCUMENTO DE IDENTIFICACIÓN",options:{cc:"CC",ti:"TI",ce:"CE",rut:"RUT",pasaporte:"PASAPORTE",otro:"OTRO"},value:a.tipoDocumento,onChange:N=>f("tipoDocumento",N),required:!0}),a.tipoDocumento.otro&&p.createElement(he,{label:"¿CUÁL?",value:a.otroTipoDocumento,onChange:N=>f("otroTipoDocumento",N.target.value),required:!0}),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},p.createElement(un,{label:"NÚMERO DOCUMENTO",linkedField:"EXPEDIDO EN",value:a.numeroDocumento,onChange:N=>f("numeroDocumento",N.target.value),required:!0}),p.createElement(he,{label:"EXPEDIDO EN",value:a.expedidoEn,onChange:N=>f("expedidoEn",N.target.value),required:!0}),p.createElement(he,{label:"NACIONALIDAD",value:a.nacionalidad,onChange:N=>f("nacionalidad",N.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(un,{label:"DIRECCIÓN RESIDENCIA",linkedField:"DEPARTAMENTO",value:a.direccionResidencia,onChange:N=>f("direccionResidencia",N.target.value),required:!0}),p.createElement(he,{label:"DEPARTAMENTO",value:a.departamentoResidencia,onChange:N=>f("departamentoResidencia",N.target.value),required:!0})),p.createElement(he,{label:"EMAIL",type:"email",value:a.emailPersonaNatural,onChange:N=>f("emailPersonaNatural",N.target.value),required:!0}),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},p.createElement(un,{label:"TELÉFONO",linkedField:"CELULAR",value:a.telefonoPersonaNatural,onChange:N=>f("telefonoPersonaNatural",N.target.value),required:!0}),p.createElement(he,{label:"CELULAR",value:a.celularPersonaNatural,onChange:N=>f("celularPersonaNatural",N.target.value),required:!0}),p.createElement(he,{label:"OTRO TELÉFONO DE CONTACTO",value:a.otroTelefono,onChange:N=>f("otroTelefono",N.target.value)})));case 4:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Campos Exclusivos para Persona Natural"),p.createElement(he,{label:"EMPRESA DONDE LABORA",value:a.empresaDondeLabora,onChange:N=>f("empresaDondeLabora",N.target.value),required:!0}),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},p.createElement(un,{label:"DIRECCIÓN LABORAL",linkedField:"CIUDAD/MUNICIPIO",value:a.direccionLaboral,onChange:N=>f("direccionLaboral",N.target.value),required:!0}),p.createElement(he,{label:"CIUDAD/MUNICIPIO",value:a.ciudadMunicipioLaboral,onChange:N=>f("ciudadMunicipioLaboral",N.target.value),required:!0}),p.createElement(he,{label:"DEPARTAMENTO",value:a.departamentoLaboral,onChange:N=>f("departamentoLaboral",N.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(an,{label:"LICITA Y/O VENDE A EMPRESAS DEL ESTADO",options:{si:"SÍ",no:"NO"},value:a.licitaVendeEstadoPersonaNatural,onChange:N=>f("licitaVendeEstadoPersonaNatural",N),required:!0}),p.createElement(he,{label:"PROMEDIO ANUAL DE VENTAS A EMPRESAS DEL ESTADO",value:a.promedioVentasEstadoPersonaNatural,onChange:N=>f("promedioVentasEstadoPersonaNatural",N.target.value),placeholder:"Ingrese el monto"})),p.createElement(he,{label:"DESCRIPCIÓN DE LA ACTIVIDAD",value:a.descripcionActividad,onChange:N=>f("descripcionActividad",N.target.value),required:!0}));case 5:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Dirección Envío de Correspondencia"),p.createElement(he,{label:"CORREO ELECTRÓNICO DE RECEPCIÓN FACTURA ELECTRÓNICA",type:"email",value:a.emailRecepcionFactura,onChange:N=>f("emailRecepcionFactura",N.target.value),required:!0}),p.createElement(he,{label:"NÚMERO DE TELÉFONO DE RECEPCIÓN FACTURA ELECTRÓNICA",value:a.telefonoRecepcionFactura,onChange:N=>f("telefonoRecepcionFactura",N.target.value),required:!0}));case 6:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Información Financiera"),p.createElement(mr,{label:"FECHA DE CORTE DE LOS ESTADOS FINANCIEROS QUE ADJUNTA",value:a.fechaCorteEstadosFinancieros,onChange:N=>f("fechaCorteEstadosFinancieros",N.target.value),required:!0}),p.createElement(an,{label:"SOPORTE FINANCIERO QUE ADJUNTA",options:{estadosFinancieros:"Estados Financieros",declaracionRenta:"Declaración de Renta",formularioNoDeclarante:"Formulario de No Declarante"},value:a.soporteFinanciero,onChange:N=>f("soporteFinanciero",N),required:!0}),p.createElement(Jv,{title:"PERFIL TRIBUTARIO",data:a.perfilTributario1,onChange:N=>f("perfilTributario1",N)}),p.createElement(Jv,{title:"PERFIL TRIBUTARIO",data:a.perfilTributario2,onChange:N=>f("perfilTributario2",N)}),a.perfilTributario2.tieneProductosMonedaExtranjera==="si"&&p.createElement("div",{className:"bg-gray-50 p-4 rounded-lg"},p.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Si tiene y/o realiza operaciones y/o productos en moneda extranjera responda lo siguiente"),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(he,{label:"TIPO DE PRODUCTO DE MONEDA EXTRANJERA",value:a.operacionesMonedaExtranjera.tipoProducto,onChange:N=>m("operacionesMonedaExtranjera","tipoProducto",N.target.value),required:!0}),p.createElement(he,{label:"N° IDENTIFICACIÓN PRODUCTO",value:a.operacionesMonedaExtranjera.numeroIdentificacion,onChange:N=>m("operacionesMonedaExtranjera","numeroIdentificacion",N.target.value),required:!0}),p.createElement(he,{label:"PROMEDIO MENSUAL",value:a.operacionesMonedaExtranjera.promedioMensual,onChange:N=>m("operacionesMonedaExtranjera","promedioMensual",N.target.value),required:!0}),p.createElement(he,{label:"PAÍS",value:a.operacionesMonedaExtranjera.pais,onChange:N=>m("operacionesMonedaExtranjera","pais",N.target.value),required:!0}),p.createElement(he,{label:"TIPO DE MONEDA",value:a.operacionesMonedaExtranjera.tipoMoneda,onChange:N=>m("operacionesMonedaExtranjera","tipoMoneda",N.target.value),required:!0}),p.createElement(he,{label:"NOMBRE DE LA ENTIDAD",value:a.operacionesMonedaExtranjera.nombreEntidad,onChange:N=>m("operacionesMonedaExtranjera","nombreEntidad",N.target.value),required:!0}))));case 7:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Declaración PEPS"),T()&&p.createElement("div",{className:"bg-orange-50 border border-orange-200 p-4 rounded-lg mb-6"},p.createElement("div",{className:"flex items-center"},p.createElement("div",{className:"flex-shrink-0"},p.createElement("svg",{className:"h-5 w-5 text-orange-400",viewBox:"0 0 20 20",fill:"currentColor"},p.createElement("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))),p.createElement("div",{className:"ml-3"},p.createElement("h3",{className:"text-sm font-medium text-orange-800"},"Formulario adicional requerido"),p.createElement("div",{className:"mt-2 text-sm text-orange-700"},p.createElement("p",null,"Se ha identificado que la persona es políticamente expuesta. En el siguiente paso se deberá diligenciar un formulario adicional específico para PEP."))))),p.createElement(V2,{data:a.declaracionPEPS,onChange:N=>f("declaracionPEPS",N)}));case 8:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Declaración Origen de Fondos"),p.createElement("div",{className:"bg-gray-50 p-4 rounded-md mb-4"},p.createElement("p",{className:"text-gray-600"},"Hola mundo - Aquí irá la declaración de origen de fondos")),p.createElement(Ht,{label:"¿EL ORIGEN DE MIS BIENES Y/O RECURSOS PROVIENE DE?",value:a.origenFondos,onChange:N=>f("origenFondos",N),required:!0}),p.createElement("div",{className:"bg-gray-50 p-4 rounded-md mb-4"},p.createElement("p",{className:"text-gray-600"},"Hola mundo - Aquí irá más información sobre origen de fondos")),p.createElement("div",{className:"bg-gray-50 p-4 rounded-md mb-4"},p.createElement("p",{className:"text-gray-600"},"Hola mundo - Aquí irá información adicional sobre origen de fondos")));case 9:return T()?p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Formulario para Personas Expuestas Políticamente"),p.createElement("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6"},p.createElement("p",{className:"text-yellow-800 text-sm"},p.createElement("strong",null,"Nota:")," Este formulario solo se muestra porque se identificó que la persona es políticamente expuesta en la declaración PEPS.")),p.createElement(L2,{formData:a,updateFormData:f,updateNestedFormData:m,agregarFamiliar:y,eliminarFamiliar:E})):p.createElement("div",{className:"text-center py-12"},p.createElement("div",{className:"bg-green-50 p-6 rounded-lg"},p.createElement("h2",{className:"text-2xl font-bold text-green-900 mb-4"},"✅ No se requiere formulario adicional"),p.createElement("p",{className:"text-green-700 text-lg"},"Según la información proporcionada, no se requiere el diligenciamiento del formulario para personas expuestas políticamente."),p.createElement("p",{className:"text-green-600 mt-2"},"Puede proceder a guardar los datos del formulario principal.")));default:return null}};return p.createElement("div",{className:"min-h-screen bg-gray-50 py-8"},p.createElement("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},p.createElement("div",{className:"text-center mb-8"},p.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"FORMULARIO VINCULACIÓN DE CLIENTES"),p.createElement("p",{className:"text-gray-600"},"Paso ",e," de ",c)),p.createElement("div",{className:"mb-8"},p.createElement("div",{className:"flex items-center justify-between w-full"},Array.from({length:c},(N,j)=>p.createElement("div",{key:j+1,className:"flex items-center flex-1"},p.createElement("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium cursor-pointer transition-colors ${j+1<=e?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,onClick:()=>n(j+1)},j+1),j<c-1&&p.createElement("div",{className:`flex-1 h-1 mx-1 sm:mx-2 ${j+1<e?"bg-blue-600":"bg-gray-200"}`}))))),p.createElement("div",{className:"bg-white shadow-lg rounded-lg p-6 mb-8"},F()),p.createElement("div",{className:"flex justify-between"},p.createElement("button",{onClick:S,disabled:e===1,className:`px-6 py-2 rounded-md font-medium ${e===1?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-600 text-white hover:bg-gray-700"}`},"Anterior"),p.createElement("div",{className:"flex space-x-4"},e===c?p.createElement("button",{onClick:V,className:"px-6 py-2 bg-green-600 text-white rounded-md font-medium hover:bg-green-700"},"Guardar Datos"):p.createElement("button",{onClick:b,className:"px-6 py-2 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700"},"Siguiente")))))};let Kx="",Yx="",Qx={nuevo:!1,actualiza:!1},Xx={natural:!1,juridica:!1},Zx={cc:!1,nit:!1,ce:!1,otro:!1},Wx="",Jx="",eP="",tP={cc:!1,otro:!1,ce:!1},nP="",rP="",iP="",aP="",sP="",oP="",lP="",cP="",uP="",hP="",fP="",dP="",mP="",pP="",gP="",yP="",EP="",vP="",_P="",bP="",TP="",CP="",AP="",SP="",RP="",wP="",IP="",NP="",DP="",xP="",PP=!1,OP="",MP="",VP="",LP="",kP="",UP="",zP="",qP="",BP="",FP="",HP=Array.from({length:4},()=>({nombreApellido:"",tipoDocumento:"",numeroDocumento:"",tipoRelacion:"",cargo:"",entidad:""})),jP=Array.from({length:4},()=>({nombreRazonSocial:"",nacionalidad:"",tipoDocumento:"",numeroDocumento:"",participacion:""})),GP="",$P="",KP="",YP="";const t_={fechaCliente:Kx,empresaCliente:Yx,tipoCliente:Qx,tipoPersonaCliente:Xx,tipoDocumentoCliente:Zx,otroTipoDocumentoCliente:Wx,nombreRazonSocialCliente:Jx,nombreApellidosRepresentanteCliente:eP,tipoDocumentoRepresentanteCliente:tP,otroTipoDocumentoRepresentanteCliente:nP,numeroDocumentoRepresentanteCliente:rP,direccionCliente:iP,barrioCliente:aP,ciudadMunicipioCliente:sP,departamentoCliente:oP,telefonoCliente:lP,emailCliente:cP,sitioWebCliente:uP,nombreContactoCliente:hP,celularContactoCliente:fP,tipoIVACliente:dP,granContribuyenteCliente:mP,resolucionGranContribuyenteCliente:pP,autorretenedorCliente:gP,resolucionAutorretenedorCliente:yP,indicadorCREE41Cliente:EP,indicadorRetencion42Cliente:vP,actividadEconomicaDIANCliente:_P,codigoEANSupermercadosCliente:bP,tipoDocumentoEntregaCliente:TP,tipoClienteCredito:CP,transaccionesInternacionalesCliente:AP,paisesTransaccionesCliente:SP,activosVirtualesCliente:RP,paisesActivosVirtualesCliente:wP,carteraHipotecaCliente:IP,valorCarteraHipotecaCliente:NP,pignoracionHipotecaCliente:DP,valorPignoracionHipotecaCliente:xP,esPEPCliente:PP,administraRecursosPoliticosCliente:OP,gozaReconocimientoPublicoCliente:MP,ejercePoderPublicoCliente:VP,nombreEntidadVinculadaCliente:LP,nitEntidadVinculadaCliente:kP,cargoDesempenadoCliente:UP,fechaVinculacionCliente:zP,fechaDesvinculacionCliente:qP,tieneRelacionPEPCliente:BP,tipoRelacionPEPCliente:FP,personasPEPCliente:HP,accionistasCliente:jP,contactoVentasCliente:GP,declaracionOrigenFondosCliente:$P,compromisoCliente:KP,autorizacionTratamientoDatosCliente:YP},QP=i=>{Object.keys(i).forEach(e=>{t_.hasOwnProperty(e)&&(t_[e]=i[e])})},Fb=({personaId:i})=>{const[e,n]=K.useState(1),[a,o]=K.useState({fechaCliente:"",empresaCliente:"",tipoCliente:{nuevo:!1,actualiza:!1},tipoPersonaCliente:{natural:!1,juridica:!1},tipoDocumentoCliente:{cc:!1,nit:!1,ce:!1,otro:!1},otroTipoDocumentoCliente:"",nombreRazonSocialCliente:"",nombreApellidosRepresentanteCliente:"",tipoDocumentoRepresentanteCliente:{cc:!1,otro:!1,ce:!1},otroTipoDocumentoRepresentanteCliente:"",numeroDocumentoRepresentanteCliente:"",direccionCliente:"",barrioCliente:"",ciudadMunicipioCliente:"",departamentoCliente:"",telefonoCliente:"",emailCliente:"",sitioWebCliente:"",nombreContactoCliente:"",celularContactoCliente:"",tipoIVACliente:"",granContribuyenteCliente:"",resolucionGranContribuyenteCliente:"",autorretenedorCliente:"",resolucionAutorretenedorCliente:"",indicadorCREE41Cliente:"",indicadorRetencion42Cliente:"",actividadEconomicaDIANCliente:"",codigoEANSupermercadosCliente:"",tipoDocumentoEntregaCliente:"",tipoClienteCredito:"",transaccionesInternacionalesCliente:"",paisesTransaccionesCliente:"",activosVirtualesCliente:"",paisesActivosVirtualesCliente:"",carteraHipotecaCliente:"",valorCarteraHipotecaCliente:"",pignoracionHipotecaCliente:"",valorPignoracionHipotecaCliente:"",esPEPCliente:!1,administraRecursosPoliticosCliente:"",gozaReconocimientoPublicoCliente:"",ejercePoderPublicoCliente:"",nombreEntidadVinculadaCliente:"",nitEntidadVinculadaCliente:"",cargoDesempenadoCliente:"",fechaVinculacionCliente:"",fechaDesvinculacionCliente:"",tieneRelacionPEPCliente:"",tipoRelacionPEPCliente:"",personasPEPCliente:Array.from({length:4},()=>({nombreApellido:"",tipoDocumento:"",numeroDocumento:"",tipoRelacion:"",cargo:"",entidad:""})),accionistasCliente:Array.from({length:4},()=>({nombreRazonSocial:"",nacionalidad:"",tipoDocumento:"",numeroDocumento:"",participacion:""})),contactoVentasCliente:"",declaracionOrigenFondosCliente:"",compromisoCliente:"",autorizacionTratamientoDatosCliente:""}),c=8,f=(T,V)=>{o(F=>({...F,[T]:V}))},m=(T,V,F,N)=>{o(j=>({...j,[T]:j[T].map((ee,te)=>te===V?{...ee,[F]:N}:ee)}))},y=()=>{e<c&&n(e+1)},E=()=>{e>1&&n(e-1)},b=()=>{QP(a),alert("Datos guardados exitosamente en valuesCliente.js")},S=()=>{switch(e){case 1:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Información General"),i&&p.createElement("div",{className:"bg-green-50 p-4 rounded-lg mb-6"},p.createElement("h3",{className:"text-lg font-semibold text-green-900 mb-2"},"Información de la Persona"),p.createElement("p",{className:"text-green-800 text-sm"},p.createElement("strong",null,"ID de Persona:")," ",i),p.createElement("p",{className:"text-green-800 text-sm mt-1"},"Este formulario PEP está asociado a la persona con el ID especificado en la URL.")),p.createElement("div",{className:"bg-blue-50 p-4 rounded-lg mb-6"},p.createElement("h3",{className:"text-lg font-semibold text-blue-900 mb-2"},"Registro de Clientes"),p.createElement("p",{className:"text-blue-800 text-sm"},"Formulario para el registro y actualización de información de clientes en el sistema.")),p.createElement(mr,{label:"FECHA (Día/Mes/Año)",value:a.fechaCliente,onChange:T=>f("fechaCliente",T.target.value),required:!0}),p.createElement(Ht,{label:"EMPRESA",value:a.empresaCliente,onChange:T=>f("empresaCliente",T),options:[{value:"gloria",label:"GLORIA COLOMBIA S.A.S"},{value:"conservas",label:"CONSERVAS CALIFORNIA S.A"}],required:!0}));case 2:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Información del Cliente"),p.createElement(an,{label:"TIPO DE CLIENTE",options:{nuevo:"Nuevo Cliente",actualiza:"Actualiza Cliente"},value:a.tipoCliente,onChange:T=>f("tipoCliente",T),required:!0}),p.createElement(an,{label:"TIPO DE PERSONA",options:{natural:"Persona Natural",juridica:"Persona Jurídica"},value:a.tipoPersonaCliente,onChange:T=>f("tipoPersonaCliente",T),required:!0}),p.createElement(an,{label:"TIPO DE DOCUMENTO",options:{cc:"CC",nit:"NIT",ce:"CE",otro:"Otro tipo de documento"},value:a.tipoDocumentoCliente,onChange:T=>f("tipoDocumentoCliente",T),required:!0}),a.tipoDocumentoCliente.otro&&p.createElement(he,{label:"ESPECIFIQUE EL TIPO DE DOCUMENTO",value:a.otroTipoDocumentoCliente,onChange:T=>f("otroTipoDocumentoCliente",T.target.value),required:!0}),p.createElement(he,{label:"NOMBRE O RAZÓN SOCIAL DE LA EMPRESA",value:a.nombreRazonSocialCliente,onChange:T=>f("nombreRazonSocialCliente",T.target.value),required:!0}),p.createElement(he,{label:"NOMBRE Y APELLIDO LEGAL DEL REPRESENTANTE LEGAL",value:a.nombreApellidosRepresentanteCliente,onChange:T=>f("nombreApellidosRepresentanteCliente",T.target.value),required:!0}),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(an,{label:"TIPO DE DOCUMENTO DEL REPRESENTANTE",options:{cc:"CC",otro:"Otro",ce:"CE"},value:a.tipoDocumentoRepresentanteCliente,onChange:T=>f("tipoDocumentoRepresentanteCliente",T),required:!0}),p.createElement(he,{label:"NÚMERO DE DOCUMENTO",value:a.numeroDocumentoRepresentanteCliente,onChange:T=>f("numeroDocumentoRepresentanteCliente",T.target.value),required:!0})),a.tipoDocumentoRepresentanteCliente.otro&&p.createElement(he,{label:"ESPECIFIQUE EL TIPO DE DOCUMENTO",value:a.otroTipoDocumentoRepresentanteCliente,onChange:T=>f("otroTipoDocumentoRepresentanteCliente",T.target.value),required:!0}),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(un,{label:"DIRECCIÓN",linkedField:"BARRIO",value:a.direccionCliente,onChange:T=>f("direccionCliente",T.target.value),required:!0}),p.createElement(he,{label:"BARRIO",value:a.barrioCliente,onChange:T=>f("barrioCliente",T.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(un,{label:"CIUDAD/MUNICIPIO",linkedField:"DEPARTAMENTO",value:a.ciudadMunicipioCliente,onChange:T=>f("ciudadMunicipioCliente",T.target.value),required:!0}),p.createElement(he,{label:"DEPARTAMENTO",value:a.departamentoCliente,onChange:T=>f("departamentoCliente",T.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},p.createElement(he,{label:"TELÉFONO",value:a.telefonoCliente,onChange:T=>f("telefonoCliente",T.target.value),required:!0}),p.createElement(he,{label:"EMAIL",type:"email",value:a.emailCliente,onChange:T=>f("emailCliente",T.target.value),required:!0}),p.createElement(he,{label:"SITIO WEB",value:a.sitioWebCliente,onChange:T=>f("sitioWebCliente",T.target.value)})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(un,{label:"NOMBRE DE CONTACTO",linkedField:"CELULAR",value:a.nombreContactoCliente,onChange:T=>f("nombreContactoCliente",T.target.value),required:!0}),p.createElement(he,{label:"CELULAR",value:a.celularContactoCliente,onChange:T=>f("celularContactoCliente",T.target.value),required:!0})));case 3:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Información Tributaria"),p.createElement(Wl,{label:"TIPO DE IVA - RÉGIMEN",value:a.tipoIVACliente,onChange:T=>f("tipoIVACliente",T.target.value),options:[{value:"r.comun",label:"R. Común"},{value:"r.simplificado",label:"R. Simplificado"},{value:"no.responsable",label:"No Responsable"}],required:!0}),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(Ht,{label:"GRAN CONTRIBUYENTE",value:a.granContribuyenteCliente,onChange:T=>f("granContribuyenteCliente",T),options:[{value:"si",label:"Sí"},{value:"no",label:"No"}],required:!0}),a.granContribuyenteCliente==="no"&&p.createElement(he,{label:"RES. NO.",value:a.resolucionGranContribuyenteCliente,onChange:T=>f("resolucionGranContribuyenteCliente",T.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(Ht,{label:"AUTORRETENEDOR",value:a.autorretenedorCliente,onChange:T=>f("autorretenedorCliente",T),options:[{value:"si",label:"Sí"},{value:"no",label:"No"}],required:!0}),a.autorretenedorCliente==="no"&&p.createElement(he,{label:"RES. NO.",value:a.resolucionAutorretenedorCliente,onChange:T=>f("resolucionAutorretenedorCliente",T.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(Ht,{label:"INDICADOR CREE41",value:a.indicadorCREE41Cliente,onChange:T=>f("indicadorCREE41Cliente",T),options:[{value:"si",label:"Sí"},{value:"no",label:"No"}],required:!0}),p.createElement(Ht,{label:"INDICADOR RETENCIÓN 42",value:a.indicadorRetencion42Cliente,onChange:T=>f("indicadorRetencion42Cliente",T),options:[{value:"si",label:"Sí"},{value:"no",label:"No"}],required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(he,{label:"ACTIVIDAD ECONÓMICA DIAN",value:a.actividadEconomicaDIANCliente,onChange:T=>f("actividadEconomicaDIANCliente",T.target.value),required:!0}),p.createElement(he,{label:"CÓDIGO EAN SUPERMERCADOS",value:a.codigoEANSupermercadosCliente,onChange:T=>f("codigoEANSupermercadosCliente",T.target.value),required:!0})));case 4:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Tipo de Documento de Entrega y Tipo de Cliente"),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(Ht,{label:"TIPO DE DOC. DE ENTREGA",value:a.tipoDocumentoEntregaCliente,onChange:T=>f("tipoDocumentoEntregaCliente",T),options:[{value:"factura",label:"Factura"},{value:"remision",label:"Remisión"}],required:!0}),p.createElement(Ht,{label:"TIPO DE CLIENTE",value:a.tipoClienteCredito,onChange:T=>f("tipoClienteCredito",T),options:[{value:"contado",label:"Contado"},{value:"credito",label:"Crédito"}],required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(Ht,{label:"¿REALIZA TRANSACCIONES INTERNACIONALES O EN MONEDA EXTRANJERA?",value:a.transaccionesInternacionalesCliente,onChange:T=>f("transaccionesInternacionalesCliente",T),options:[{value:"si",label:"Sí"},{value:"no",label:"No"}],required:!0}),a.transaccionesInternacionalesCliente==="si"&&p.createElement(he,{label:"PAÍS O PAÍSES",value:a.paisesTransaccionesCliente,onChange:T=>f("paisesTransaccionesCliente",T.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(Ht,{label:"¿MANEJA ACTIVOS VIRTUALES?",value:a.activosVirtualesCliente,onChange:T=>f("activosVirtualesCliente",T),options:[{value:"si",label:"Sí"},{value:"no",label:"No"}],required:!0}),a.activosVirtualesCliente==="si"&&p.createElement(he,{label:"PAÍS O PAÍSES",value:a.paisesActivosVirtualesCliente,onChange:T=>f("paisesActivosVirtualesCliente",T.target.value),required:!0})));case 5:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Garantías"),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(Ht,{label:"CARTERA HIPOTECA",value:a.carteraHipotecaCliente,onChange:T=>f("carteraHipotecaCliente",T),options:[{value:"si",label:"Sí"},{value:"no",label:"No"}],required:!0}),a.carteraHipotecaCliente==="si"&&p.createElement(he,{label:"VALOR DE LA GARANTÍA",value:a.valorCarteraHipotecaCliente,onChange:T=>f("valorCarteraHipotecaCliente",T.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(Ht,{label:"PIGNORACIÓN HIPOTECA",value:a.pignoracionHipotecaCliente,onChange:T=>f("pignoracionHipotecaCliente",T),options:[{value:"si",label:"Sí"},{value:"no",label:"No"}],required:!0}),a.pignoracionHipotecaCliente==="si"&&p.createElement(he,{label:"VALOR DE LA GARANTÍA",value:a.valorPignoracionHipotecaCliente,onChange:T=>f("valorPignoracionHipotecaCliente",T.target.value),required:!0})));case 6:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Personas Expuestas Políticamente"),p.createElement("div",{className:"bg-orange-50 p-4 rounded-lg mb-6"},p.createElement("h3",{className:"text-lg font-semibold text-orange-900 mb-2"},"Declaración PEP"),p.createElement("p",{className:"text-orange-800 text-sm"},"¿Es usted o fue una persona políticamente expuesta?")),p.createElement(an,{label:"¿ES USTED O FUE UNA PERSONA POLÍTICAMENTE EXPUESTA?",options:{esPEP:"Sí"},value:{esPEP:a.esPEPCliente},onChange:T=>f("esPEPCliente",T.esPEP)}),a.esPEPCliente&&p.createElement("div",{className:"space-y-6"},p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(Ht,{label:"ADMINISTRA RECURSOS POLÍTICOS",value:a.administraRecursosPoliticosCliente,onChange:T=>f("administraRecursosPoliticosCliente",T),options:[{value:"si",label:"Sí"},{value:"no",label:"No"}],required:!0}),p.createElement(Ht,{label:"GOZA DE RECONOCIMIENTO PÚBLICO",value:a.gozaReconocimientoPublicoCliente,onChange:T=>f("gozaReconocimientoPublicoCliente",T),options:[{value:"si",label:"Sí"},{value:"no",label:"No"}],required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(Ht,{label:"EJERCE ALGÚN GRADO DE PODER PÚBLICO",value:a.ejercePoderPublicoCliente,onChange:T=>f("ejercePoderPublicoCliente",T),options:[{value:"si",label:"Sí"},{value:"no",label:"No"}],required:!0}),p.createElement(he,{label:"NOMBRE DE LA ENTIDAD VINCULADA",value:a.nombreEntidadVinculadaCliente,onChange:T=>f("nombreEntidadVinculadaCliente",T.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(he,{label:"NIT DE LA ENTIDAD VINCULADA",value:a.nitEntidadVinculadaCliente,onChange:T=>f("nitEntidadVinculadaCliente",T.target.value),required:!0}),p.createElement(he,{label:"CARGO QUE DESEMPEÑA O DESEMPEÑÓ",value:a.cargoDesempenadoCliente,onChange:T=>f("cargoDesempenadoCliente",T.target.value),required:!0})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(mr,{label:"FECHA DE VINCULACIÓN",value:a.fechaVinculacionCliente,onChange:T=>f("fechaVinculacionCliente",T.target.value),required:!0}),p.createElement(mr,{label:"FECHA DE DESVINCULACIÓN",value:a.fechaDesvinculacionCliente,onChange:T=>f("fechaDesvinculacionCliente",T.target.value)})),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},p.createElement(Ht,{label:"¿TIENE RELACIÓN O VÍNCULO CON PERSONAS PEP?",value:a.tieneRelacionPEPCliente,onChange:T=>f("tieneRelacionPEPCliente",T),options:[{value:"si",label:"Sí"},{value:"no",label:"No"}],required:!0}),a.tieneRelacionPEPCliente==="si"&&p.createElement(Wl,{label:"TIPO DE RELACIÓN",value:a.tipoRelacionPEPCliente,onChange:T=>f("tipoRelacionPEPCliente",T.target.value),options:[{value:"hasta2grado",label:"Hasta 2° grado de consanguinidad o afinidad"},{value:"1afinidad",label:"1° de afinidad"},{value:"1civil",label:"1° civil"}],required:!0})),p.createElement("div",{className:"bg-gray-50 p-4 rounded-lg"},p.createElement("h4",{className:"text-lg font-medium text-gray-900 mb-4"},"Personas Expuestas Políticamente o con Relación PEP"),p.createElement("div",{className:"overflow-x-auto"},p.createElement("table",{className:"min-w-full divide-y divide-gray-200"},p.createElement("thead",{className:"bg-gray-100"},p.createElement("tr",null,p.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nombre y Apellido"),p.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tipo Documento"),p.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"N° Documento"),p.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tipo Relación"),p.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cargo"),p.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Entidad"))),p.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},a.personasPEPCliente.map((T,V)=>p.createElement("tr",{key:V},p.createElement("td",{className:"px-3 py-2"},p.createElement("input",{type:"text",value:T.nombreApellido,onChange:F=>m("personasPEPCliente",V,"nombreApellido",F.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})),p.createElement("td",{className:"px-3 py-2"},p.createElement("input",{type:"text",value:T.tipoDocumento,onChange:F=>m("personasPEPCliente",V,"tipoDocumento",F.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})),p.createElement("td",{className:"px-3 py-2"},p.createElement("input",{type:"text",value:T.numeroDocumento,onChange:F=>m("personasPEPCliente",V,"numeroDocumento",F.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})),p.createElement("td",{className:"px-3 py-2"},p.createElement("input",{type:"text",value:T.tipoRelacion,onChange:F=>m("personasPEPCliente",V,"tipoRelacion",F.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})),p.createElement("td",{className:"px-3 py-2"},p.createElement("input",{type:"text",value:T.cargo,onChange:F=>m("personasPEPCliente",V,"cargo",F.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})),p.createElement("td",{className:"px-3 py-2"},p.createElement("input",{type:"text",value:T.entidad,onChange:F=>m("personasPEPCliente",V,"entidad",F.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})))))))),p.createElement("div",{className:"bg-gray-50 p-4 rounded-lg"},p.createElement("h4",{className:"text-lg font-medium text-gray-900 mb-4"},"Accionistas y Beneficiarios Finales con Participación Mayor o Igual al 5%"),p.createElement("div",{className:"overflow-x-auto"},p.createElement("table",{className:"min-w-full divide-y divide-gray-200"},p.createElement("thead",{className:"bg-gray-100"},p.createElement("tr",null,p.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nombre o Razón Social"),p.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nacionalidad"),p.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tipo Documento"),p.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"N° Documento"),p.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"% Participación"))),p.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},a.accionistasCliente.map((T,V)=>p.createElement("tr",{key:V},p.createElement("td",{className:"px-3 py-2"},p.createElement("input",{type:"text",value:T.nombreRazonSocial,onChange:F=>m("accionistasCliente",V,"nombreRazonSocial",F.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})),p.createElement("td",{className:"px-3 py-2"},p.createElement("input",{type:"text",value:T.nacionalidad,onChange:F=>m("accionistasCliente",V,"nacionalidad",F.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})),p.createElement("td",{className:"px-3 py-2"},p.createElement("input",{type:"text",value:T.tipoDocumento,onChange:F=>m("accionistasCliente",V,"tipoDocumento",F.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})),p.createElement("td",{className:"px-3 py-2"},p.createElement("input",{type:"text",value:T.numeroDocumento,onChange:F=>m("accionistasCliente",V,"numeroDocumento",F.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})),p.createElement("td",{className:"px-3 py-2"},p.createElement("input",{type:"text",value:T.participacion,onChange:F=>m("accionistasCliente",V,"participacion",F.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}))))))))));case 7:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Sección para Uso Exclusivo de Gloria Colombia S.A.S"),a.empresaCliente==="gloria"&&p.createElement("div",{className:"bg-blue-50 p-4 rounded-lg"},p.createElement("h3",{className:"text-lg font-semibold text-blue-900 mb-2"},"¿Quién Contacta con el Cliente?"),p.createElement("p",{className:"text-blue-800 text-sm mb-4"},"Ventas"),p.createElement(he,{label:"CONTACTO DE VENTAS",value:a.contactoVentasCliente,onChange:T=>f("contactoVentasCliente",T.target.value),placeholder:"Por favor especifique el contacto de ventas"})),a.empresaCliente!=="gloria"&&p.createElement("div",{className:"bg-gray-50 p-4 rounded-lg text-center"},p.createElement("p",{className:"text-gray-600"},"Esta sección solo está disponible para clientes de GLORIA COLOMBIA S.A.S")));case 8:return p.createElement("div",{className:"space-y-6"},p.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Declaraciones y Compromisos"),p.createElement("div",{className:"bg-gray-50 p-4 rounded-lg"},p.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"Declaración Origen de Fondos"),p.createElement("p",{className:"text-gray-600 text-sm"},"Por favor, agregue aquí el texto de la declaración de origen de fondos."),p.createElement("textarea",{value:a.declaracionOrigenFondosCliente,onChange:T=>f("declaracionOrigenFondosCliente",T.target.value),className:"w-full mt-2 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"4",placeholder:"Ingrese la declaración de origen de fondos..."})),p.createElement("div",{className:"bg-gray-50 p-4 rounded-lg"},p.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"Compromiso del Cliente"),p.createElement("p",{className:"text-gray-600 text-sm"},"Por favor, agregue aquí el texto del compromiso del cliente."),p.createElement("textarea",{value:a.compromisoCliente,onChange:T=>f("compromisoCliente",T.target.value),className:"w-full mt-2 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"4",placeholder:"Ingrese el compromiso del cliente..."})),p.createElement("div",{className:"bg-gray-50 p-4 rounded-lg"},p.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"Autorización Tratamiento Datos Personales"),p.createElement("p",{className:"text-gray-600 text-sm"},"Por favor, agregue aquí el texto de la autorización para el tratamiento de datos personales."),p.createElement("textarea",{value:a.autorizacionTratamientoDatosCliente,onChange:T=>f("autorizacionTratamientoDatosCliente",T.target.value),className:"w-full mt-2 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"4",placeholder:"Ingrese la autorización para el tratamiento de datos personales..."})));default:return null}};return p.createElement("div",{className:"min-h-screen bg-gray-50 py-8"},p.createElement("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},p.createElement("div",{className:"text-center mb-8"},p.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"FORMULARIO REGISTRO DE CLIENTES"),p.createElement("p",{className:"text-gray-600"},"Paso ",e," de ",c)),p.createElement("div",{className:"mb-8"},p.createElement("div",{className:"flex items-center justify-between w-full"},Array.from({length:c},(T,V)=>p.createElement("div",{key:V+1,className:"flex items-center flex-1"},p.createElement("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium cursor-pointer transition-colors ${V+1<=e?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,onClick:()=>n(V+1)},V+1),V<c-1&&p.createElement("div",{className:`flex-1 h-1 mx-1 sm:mx-2 ${V+1<e?"bg-blue-600":"bg-gray-200"}`}))))),p.createElement("div",{className:"bg-white shadow-lg rounded-lg p-6 mb-8"},S()),p.createElement("div",{className:"flex justify-between"},p.createElement("button",{onClick:E,disabled:e===1,className:`px-6 py-2 rounded-md font-medium ${e===1?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-600 text-white hover:bg-gray-700"}`},"Anterior"),p.createElement("div",{className:"flex space-x-4"},e===c?p.createElement("button",{onClick:b,className:"px-6 py-2 bg-green-600 text-white rounded-md font-medium hover:bg-green-700"},"Guardar Datos"):p.createElement("button",{onClick:y,className:"px-6 py-2 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700"},"Siguiente")))))},eo={ALLOWED_PERSONA_ID:"PERSONA_DESARROLLO_2024",MESSAGES:{ACCESS_DENIED:"ID de persona no válido",ONLY_ALLOWED_ID:'Solo el ID "PERSONA_DESARROLLO_2024" está permitido por ahora. Cualquier otro ID mostrará un mensaje de acceso denegado.'}},XP=()=>{const i=Sh(),e=[{id:"vinculacion-clientes-form",titulo:"Formulario de Vinculación",descripcion:"Formulario para vinculación de clientes y proveedores",icono:"📋",color:"blue",disponible:!0},{id:"pep-form",titulo:"Formulario PEP",descripcion:"Formulario para Personas Expuestas Políticamente",icono:"🏛️",color:"purple",disponible:!0},{id:"cliente-form",titulo:"Formulario Registro de Clientes",descripcion:"Formulario completo para registro y actualización de clientes con información tributaria y PEP",icono:"👤",color:"green",disponible:!1},{id:"financiero",titulo:"Formulario Financiero",descripcion:"Formulario para información financiera y tributaria",icono:"💰",color:"orange",disponible:!1}],n=o=>{const c={blue:"bg-blue-50 border-blue-200 hover:bg-blue-100 text-blue-800",green:"bg-green-50 border-green-200 hover:bg-green-100 text-green-800",purple:"bg-purple-50 border-purple-200 hover:bg-purple-100 text-purple-800",orange:"bg-orange-50 border-orange-200 hover:bg-orange-100 text-orange-800"};return c[o]||c.blue},a=o=>{const c=eo.ALLOWED_PERSONA_ID;i(`/formulario/${o}/${c}`)};return p.createElement("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},p.createElement("div",{className:"max-w-7xl mx-auto"},p.createElement("div",{className:"text-center mb-12"},p.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},"Sistema de Formularios"),p.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Selecciona el formulario que necesitas completar. Cada formulario está diseñado para recopilar información específica según el tipo de proceso.")),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},e.map(o=>p.createElement("div",{key:o.id,className:`relative p-6 rounded-lg border-2 transition-all duration-200 ${o.disponible?`${n(o.color)} cursor-pointer transform hover:scale-105 hover:shadow-lg`:"bg-gray-100 border-gray-200 text-gray-500 cursor-not-allowed"}`,onClick:()=>o.disponible&&a(o.id)},p.createElement("div",{className:"absolute top-4 right-4"},o.disponible?p.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Disponible"):p.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-500"},"Próximamente")),p.createElement("div",{className:"text-4xl mb-4"},o.icono),p.createElement("h3",{className:"text-xl font-semibold mb-2"},o.titulo),p.createElement("p",{className:"text-sm opacity-80 mb-4"},o.descripcion),p.createElement("button",{className:`w-full py-2 px-4 rounded-md font-medium transition-colors ${o.disponible?"bg-white text-blue-600 hover:bg-blue-50 border border-blue-200":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,disabled:!o.disponible},o.disponible?"Seleccionar":"No disponible")))),p.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},p.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-3"},"📚 Información del Sistema"),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600"},p.createElement("div",null,p.createElement("p",{className:"font-medium text-gray-700 mb-2"},"Formularios Disponibles:"),p.createElement("ul",{className:"space-y-1"},p.createElement("li",null,"• Formulario de Vinculación - Completamente funcional"),p.createElement("li",null,"• Formulario PEP - Completamente funcional"),p.createElement("li",null,"• Otros formularios - En desarrollo"))),p.createElement("div",null,p.createElement("p",{className:"font-medium text-gray-700 mb-2"},"Características:"),p.createElement("ul",{className:"space-y-1"},p.createElement("li",null,"• URLs dinámicas con parámetros"),p.createElement("li",null,"• Guardado automático de datos"),p.createElement("li",null,"• Interfaz responsive"),p.createElement("li",null,"• Validación de campos"))))),p.createElement("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-6 mt-6"},p.createElement("h3",{className:"text-lg font-semibold text-blue-900 mb-3"},"🔗 URLs de Acceso Directo"),p.createElement("p",{className:"text-sm text-blue-800 mb-3"},"Puedes acceder directamente a los formularios usando estas URLs con el ID fijo permitido:"),p.createElement("div",{className:"space-y-2 text-sm"},p.createElement("div",{className:"bg-white p-3 rounded border"},p.createElement("code",{className:"text-blue-600"},"/formulario/vinculacion-clientes-form/",eo.ALLOWED_PERSONA_ID),p.createElement("p",{className:"text-gray-600 mt-1"},"Para el formulario de vinculación")),p.createElement("div",{className:"bg-white p-3 rounded border"},p.createElement("code",{className:"text-blue-600"},"/formulario/pep-form/",eo.ALLOWED_PERSONA_ID),p.createElement("p",{className:"text-gray-600 mt-1"},"Para el formulario PEP"))),p.createElement("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded"},p.createElement("p",{className:"text-sm text-yellow-800"},p.createElement("strong",null,"⚠️ Nota:")," ",eo.MESSAGES.ONLY_ALLOWED_ID)))))};var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,Hb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function I(){}I.prototype=R.prototype,M.D=R.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(O,L,U){for(var D=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)D[kt-2]=arguments[kt];return R.prototype[L].apply(O,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,I){I||(I=0);var O=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)O[L]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(L=0;16>L;++L)O[L]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=M.g[0],I=M.g[1],L=M.g[2];var U=M.g[3],D=R+(U^I&(L^U))+O[0]+3614090360&4294967295;R=I+(D<<7&4294967295|D>>>25),D=U+(L^R&(I^L))+O[1]+3905402710&4294967295,U=R+(D<<12&4294967295|D>>>20),D=L+(I^U&(R^I))+O[2]+606105819&4294967295,L=U+(D<<17&4294967295|D>>>15),D=I+(R^L&(U^R))+O[3]+3250441966&4294967295,I=L+(D<<22&4294967295|D>>>10),D=R+(U^I&(L^U))+O[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=U+(L^R&(I^L))+O[5]+1200080426&4294967295,U=R+(D<<12&4294967295|D>>>20),D=L+(I^U&(R^I))+O[6]+2821735955&4294967295,L=U+(D<<17&4294967295|D>>>15),D=I+(R^L&(U^R))+O[7]+4249261313&4294967295,I=L+(D<<22&4294967295|D>>>10),D=R+(U^I&(L^U))+O[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=U+(L^R&(I^L))+O[9]+2336552879&4294967295,U=R+(D<<12&4294967295|D>>>20),D=L+(I^U&(R^I))+O[10]+4294925233&4294967295,L=U+(D<<17&4294967295|D>>>15),D=I+(R^L&(U^R))+O[11]+2304563134&4294967295,I=L+(D<<22&4294967295|D>>>10),D=R+(U^I&(L^U))+O[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=U+(L^R&(I^L))+O[13]+4254626195&4294967295,U=R+(D<<12&4294967295|D>>>20),D=L+(I^U&(R^I))+O[14]+2792965006&4294967295,L=U+(D<<17&4294967295|D>>>15),D=I+(R^L&(U^R))+O[15]+1236535329&4294967295,I=L+(D<<22&4294967295|D>>>10),D=R+(L^U&(I^L))+O[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=U+(I^L&(R^I))+O[6]+3225465664&4294967295,U=R+(D<<9&4294967295|D>>>23),D=L+(R^I&(U^R))+O[11]+643717713&4294967295,L=U+(D<<14&4294967295|D>>>18),D=I+(U^R&(L^U))+O[0]+3921069994&4294967295,I=L+(D<<20&4294967295|D>>>12),D=R+(L^U&(I^L))+O[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=U+(I^L&(R^I))+O[10]+38016083&4294967295,U=R+(D<<9&4294967295|D>>>23),D=L+(R^I&(U^R))+O[15]+3634488961&4294967295,L=U+(D<<14&4294967295|D>>>18),D=I+(U^R&(L^U))+O[4]+3889429448&4294967295,I=L+(D<<20&4294967295|D>>>12),D=R+(L^U&(I^L))+O[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=U+(I^L&(R^I))+O[14]+3275163606&4294967295,U=R+(D<<9&4294967295|D>>>23),D=L+(R^I&(U^R))+O[3]+4107603335&4294967295,L=U+(D<<14&4294967295|D>>>18),D=I+(U^R&(L^U))+O[8]+1163531501&4294967295,I=L+(D<<20&4294967295|D>>>12),D=R+(L^U&(I^L))+O[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=U+(I^L&(R^I))+O[2]+4243563512&4294967295,U=R+(D<<9&4294967295|D>>>23),D=L+(R^I&(U^R))+O[7]+1735328473&4294967295,L=U+(D<<14&4294967295|D>>>18),D=I+(U^R&(L^U))+O[12]+2368359562&4294967295,I=L+(D<<20&4294967295|D>>>12),D=R+(I^L^U)+O[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=U+(R^I^L)+O[8]+2272392833&4294967295,U=R+(D<<11&4294967295|D>>>21),D=L+(U^R^I)+O[11]+1839030562&4294967295,L=U+(D<<16&4294967295|D>>>16),D=I+(L^U^R)+O[14]+4259657740&4294967295,I=L+(D<<23&4294967295|D>>>9),D=R+(I^L^U)+O[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=U+(R^I^L)+O[4]+1272893353&4294967295,U=R+(D<<11&4294967295|D>>>21),D=L+(U^R^I)+O[7]+4139469664&4294967295,L=U+(D<<16&4294967295|D>>>16),D=I+(L^U^R)+O[10]+3200236656&4294967295,I=L+(D<<23&4294967295|D>>>9),D=R+(I^L^U)+O[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=U+(R^I^L)+O[0]+3936430074&4294967295,U=R+(D<<11&4294967295|D>>>21),D=L+(U^R^I)+O[3]+3572445317&4294967295,L=U+(D<<16&4294967295|D>>>16),D=I+(L^U^R)+O[6]+76029189&4294967295,I=L+(D<<23&4294967295|D>>>9),D=R+(I^L^U)+O[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=U+(R^I^L)+O[12]+3873151461&4294967295,U=R+(D<<11&4294967295|D>>>21),D=L+(U^R^I)+O[15]+530742520&4294967295,L=U+(D<<16&4294967295|D>>>16),D=I+(L^U^R)+O[2]+3299628645&4294967295,I=L+(D<<23&4294967295|D>>>9),D=R+(L^(I|~U))+O[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=U+(I^(R|~L))+O[7]+1126891415&4294967295,U=R+(D<<10&4294967295|D>>>22),D=L+(R^(U|~I))+O[14]+2878612391&4294967295,L=U+(D<<15&4294967295|D>>>17),D=I+(U^(L|~R))+O[5]+4237533241&4294967295,I=L+(D<<21&4294967295|D>>>11),D=R+(L^(I|~U))+O[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=U+(I^(R|~L))+O[3]+2399980690&4294967295,U=R+(D<<10&4294967295|D>>>22),D=L+(R^(U|~I))+O[10]+4293915773&4294967295,L=U+(D<<15&4294967295|D>>>17),D=I+(U^(L|~R))+O[1]+2240044497&4294967295,I=L+(D<<21&4294967295|D>>>11),D=R+(L^(I|~U))+O[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=U+(I^(R|~L))+O[15]+4264355552&4294967295,U=R+(D<<10&4294967295|D>>>22),D=L+(R^(U|~I))+O[6]+2734768916&4294967295,L=U+(D<<15&4294967295|D>>>17),D=I+(U^(L|~R))+O[13]+1309151649&4294967295,I=L+(D<<21&4294967295|D>>>11),D=R+(L^(I|~U))+O[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=U+(I^(R|~L))+O[11]+3174756917&4294967295,U=R+(D<<10&4294967295|D>>>22),D=L+(R^(U|~I))+O[2]+718787259&4294967295,L=U+(D<<15&4294967295|D>>>17),D=I+(U^(L|~R))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+U&4294967295}a.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var I=R-this.blockSize,O=this.B,L=this.h,U=0;U<R;){if(L==0)for(;U<=I;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<R;)if(O[L++]=M.charCodeAt(U++),L==this.blockSize){o(this,O),L=0;break}}else for(;U<R;)if(O[L++]=M[U++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=R},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var I=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=I&255,I/=256;for(this.u(M),M=Array(16),R=I=0;4>R;++R)for(var O=0;32>O;O+=8)M[I++]=this.g[R]>>>O&255;return M};function c(M,R){var I=m;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=R(M)}function f(M,R){this.h=R;for(var I=[],O=!0,L=M.length-1;0<=L;L--){var U=M[L]|0;O&&U==R||(I[L]=U,O=!1)}this.g=I}var m={};function y(M){return-128<=M&&128>M?c(M,function(R){return new f([R|0],0>R?-1:0)}):new f([M|0],0>M?-1:0)}function E(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return j(E(-M));for(var R=[],I=1,O=0;M>=I;O++)R[O]=M/I|0,I*=4294967296;return new f(R,0)}function b(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return j(b(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=E(Math.pow(R,8)),O=S,L=0;L<M.length;L+=8){var U=Math.min(8,M.length-L),D=parseInt(M.substring(L,L+U),R);8>U?(U=E(Math.pow(R,U)),O=O.j(U).add(E(D))):(O=O.j(I),O=O.add(E(D)))}return O}var S=y(0),T=y(1),V=y(16777216);i=f.prototype,i.m=function(){if(N(this))return-j(this).m();for(var M=0,R=1,I=0;I<this.g.length;I++){var O=this.i(I);M+=(0<=O?O:4294967296+O)*R,R*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(F(this))return"0";if(N(this))return"-"+j(this).toString(M);for(var R=E(Math.pow(M,6)),I=this,O="";;){var L=Ae(I,R).g;I=ee(I,L.j(R));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=L,F(I))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function F(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function N(M){return M.h==-1}i.l=function(M){return M=ee(this,M),N(M)?-1:F(M)?0:1};function j(M){for(var R=M.g.length,I=[],O=0;O<R;O++)I[O]=~M.g[O];return new f(I,~M.h).add(T)}i.abs=function(){return N(this)?j(this):this},i.add=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],O=0,L=0;L<=R;L++){var U=O+(this.i(L)&65535)+(M.i(L)&65535),D=(U>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);O=D>>>16,U&=65535,D&=65535,I[L]=D<<16|U}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ee(M,R){return M.add(j(R))}i.j=function(M){if(F(this)||F(M))return S;if(N(this))return N(M)?j(this).j(j(M)):j(j(this).j(M));if(N(M))return j(this.j(j(M)));if(0>this.l(V)&&0>M.l(V))return E(this.m()*M.m());for(var R=this.g.length+M.g.length,I=[],O=0;O<2*R;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<M.g.length;L++){var U=this.i(O)>>>16,D=this.i(O)&65535,kt=M.i(L)>>>16,st=M.i(L)&65535;I[2*O+2*L]+=D*st,te(I,2*O+2*L),I[2*O+2*L+1]+=U*st,te(I,2*O+2*L+1),I[2*O+2*L+1]+=D*kt,te(I,2*O+2*L+1),I[2*O+2*L+2]+=U*kt,te(I,2*O+2*L+2)}for(O=0;O<R;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=R;O<2*R;O++)I[O]=0;return new f(I,0)};function te(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function oe(M,R){this.g=M,this.h=R}function Ae(M,R){if(F(R))throw Error("division by zero");if(F(M))return new oe(S,S);if(N(M))return R=Ae(j(M),R),new oe(j(R.g),j(R.h));if(N(R))return R=Ae(M,j(R)),new oe(j(R.g),R.h);if(30<M.g.length){if(N(M)||N(R))throw Error("slowDivide_ only works with positive integers.");for(var I=T,O=R;0>=O.l(M);)I=me(I),O=me(O);var L=Pe(I,1),U=Pe(O,1);for(O=Pe(O,2),I=Pe(I,2);!F(O);){var D=U.add(O);0>=D.l(M)&&(L=L.add(I),U=D),O=Pe(O,1),I=Pe(I,1)}return R=ee(M,L.j(R)),new oe(L,R)}for(L=S;0<=M.l(R);){for(I=Math.max(1,Math.floor(M.m()/R.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=E(I),D=U.j(R);N(D)||0<D.l(M);)I-=O,U=E(I),D=U.j(R);F(U)&&(U=T),L=L.add(U),M=ee(M,D)}return new oe(L,M)}i.A=function(M){return Ae(this,M).h},i.and=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)&M.i(O);return new f(I,this.h&M.h)},i.or=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)|M.i(O);return new f(I,this.h|M.h)},i.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)^M.i(O);return new f(I,this.h^M.h)};function me(M){for(var R=M.g.length+1,I=[],O=0;O<R;O++)I[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(I,M.h)}function Pe(M,R){var I=R>>5;R%=32;for(var O=M.g.length-I,L=[],U=0;U<O;U++)L[U]=0<R?M.i(U+I)>>>R|M.i(U+I+1)<<32-R:M.i(U+I);return new f(L,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Hb=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=b,Gi=f}).apply(typeof n_<"u"?n_:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jb,Vl,Gb,nh,Pm,$b,Kb,Yb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(u,g){if(g)e:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in v))break e;v=v[z]}u=u[u.length-1],A=v[u],g=g(A),g!=A&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var v=0,A=!1,z={next:function(){if(!A&&v<u.length){var $=v++;return{value:g($,u[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function E(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function b(u,g,v){return u.call.apply(u.bind,arguments)}function S(u,g,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(g,z)}}return function(){return u.apply(g,arguments)}}function T(u,g,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:S,T.apply(null,arguments)}function V(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function F(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,z,$){for(var ie=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ie[Me-2]=arguments[Me];return g.prototype[z].apply(A,ie)}}function N(u){const g=u.length;if(0<g){const v=Array(g);for(let A=0;A<g;A++)v[A]=u[A];return v}return[]}function j(u,g){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(y(A)){const z=u.length||0,$=A.length||0;u.length=z+$;for(let ie=0;ie<$;ie++)u[z+ie]=A[ie]}else u.push(A)}}class ee{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(u){return/^[\s\xa0]*$/.test(u)}function oe(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function Ae(u){return Ae[" "](u),u}Ae[" "]=function(){};var me=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function Pe(u,g,v){for(const A in u)g.call(v,u[A],A,u)}function M(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function R(u){const g={};for(const v in u)g[v]=u[v];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,g){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)u[v]=A[v];for(let $=0;$<I.length;$++)v=I[$],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function L(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function U(u){m.setTimeout(()=>{throw u},0)}function D(){var u=Be;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class kt{constructor(){this.h=this.g=null}add(g,v){const A=st.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new ee(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,pe=!1,Be=new kt,x=()=>{const u=m.Promise.resolve(void 0);ae=()=>{u.then(J)}};var J=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(v){U(v)}var g=st;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}pe=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return u}();function we(u,g){if(ne.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(me){e:{try{Ae(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&we.aa.h.call(this)}}F(we,ne);var be={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),We=0;function Xn(u,g,v,A,z){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=z,this.key=++We,this.da=this.fa=!1}function si(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Sr(u){this.src=u,this.g={},this.h=0}Sr.prototype.add=function(u,g,v,A,z){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ie=ia(u,g,A,z);return-1<ie?(g=u[ie],v||(g.fa=!1)):(g=new Xn(g,this.src,$,!!A,z),g.fa=v,u.push(g)),g};function ra(u,g){var v=g.type;if(v in u.g){var A=u.g[v],z=Array.prototype.indexOf.call(A,g,void 0),$;($=0<=z)&&Array.prototype.splice.call(A,z,1),$&&(si(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ia(u,g,v,A){for(var z=0;z<u.length;++z){var $=u[z];if(!$.da&&$.listener==g&&$.capture==!!v&&$.ha==A)return z}return-1}var aa="closure_lm_"+(1e6*Math.random()|0),Ao={};function yc(u,g,v,A,z){if(Array.isArray(g)){for(var $=0;$<g.length;$++)yc(u,g[$],v,A,z);return null}return v=Ec(v),u&&u[Dt]?u.K(g,v,E(A)?!!A.capture:!1,z):An(u,g,v,!1,A,z)}function An(u,g,v,A,z,$){if(!g)throw Error("Invalid event type");var ie=E(z)?!!z.capture:!!z,Me=ns(u);if(Me||(u[aa]=Me=new Sr(u)),v=Me.add(g,v,A,ie,$),v.proxy)return v;if(A=Kh(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)ge||(z=ie),z===void 0&&(z=!1),u.addEventListener(g.toString(),A,z);else if(u.attachEvent)u.attachEvent(sa(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kh(){function u(v){return g.call(u.src,u.listener,v)}const g=Yh;return u}function So(u,g,v,A,z){if(Array.isArray(g))for(var $=0;$<g.length;$++)So(u,g[$],v,A,z);else A=E(A)?!!A.capture:!!A,v=Ec(v),u&&u[Dt]?(u=u.i,g=String(g).toString(),g in u.g&&($=u.g[g],v=ia($,v,A,z),-1<v&&(si($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[g],u.h--)))):u&&(u=ns(u))&&(g=u.g[g.toString()],u=-1,g&&(u=ia(g,v,A,z)),(v=-1<u?g[u]:null)&&ts(v))}function ts(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Dt])ra(g.i,u);else{var v=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(v,A,u.capture):g.detachEvent?g.detachEvent(sa(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=ns(g))?(ra(v,u),v.h==0&&(v.src=null,g[aa]=null)):si(u)}}}function sa(u){return u in Ao?Ao[u]:Ao[u]="on"+u}function Yh(u,g){if(u.da)u=!0;else{g=new we(g,this);var v=u.listener,A=u.ha||u.src;u.fa&&ts(u),u=v.call(A,g)}return u}function ns(u){return u=u[aa],u instanceof Sr?u:null}var Ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ec(u){return typeof u=="function"?u:(u[Ro]||(u[Ro]=function(g){return u.handleEvent(g)}),u[Ro])}function ot(){se.call(this),this.i=new Sr(this),this.M=this,this.F=null}F(ot,se),ot.prototype[Dt]=!0,ot.prototype.removeEventListener=function(u,g,v,A){So(this,u,g,v,A)};function je(u,g){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new ne(g,u);else if(g instanceof ne)g.target=g.target||u;else{var z=g;g=new ne(A,u),O(g,z)}if(z=!0,v)for(var $=v.length-1;0<=$;$--){var ie=g.g=v[$];z=dn(ie,A,!0,g)&&z}if(ie=g.g=u,z=dn(ie,A,!0,g)&&z,z=dn(ie,A,!1,g)&&z,v)for($=0;$<v.length;$++)ie=g.g=v[$],z=dn(ie,A,!1,g)&&z}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],A=0;A<v.length;A++)si(v[A]);delete u.g[g],u.h--}}this.F=null},ot.prototype.K=function(u,g,v,A){return this.i.add(String(u),g,!1,v,A)},ot.prototype.L=function(u,g,v,A){return this.i.add(String(u),g,!0,v,A)};function dn(u,g,v,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,$=0;$<g.length;++$){var ie=g[$];if(ie&&!ie.da&&ie.capture==v){var Me=ie.listener,At=ie.ha||ie.src;ie.fa&&ra(u.i,ie),z=Me.call(At,A)!==!1&&z}}return z&&!A.defaultPrevented}function $t(u,g,v){if(typeof u=="function")v&&(u=T(u,v));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function vc(u){u.g=$t(()=>{u.g=null,u.i&&(u.i=!1,vc(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Qh extends se{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:vc(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(u){se.call(this),this.h=u,this.g={}}F(oa,se);var la=[];function ca(u){Pe(u.g,function(g,v){this.g.hasOwnProperty(v)&&ts(g)},u),u.g={}}oa.prototype.N=function(){oa.aa.N.call(this),ca(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,rs=m.JSON.parse,ua=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function wo(){}wo.prototype.h=null;function Io(u){return u.h||(u.h=u.i())}function No(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){ne.call(this,"d")}F(wr,ne);function Do(){ne.call(this,"c")}F(Do,ne);var Zn={},xo=null;function oi(){return xo=xo||new ot}Zn.La="serverreachability";function is(u){ne.call(this,Zn.La,u)}F(is,ne);function li(u){const g=oi();je(g,new is(g))}Zn.STAT_EVENT="statevent";function _c(u,g){ne.call(this,Zn.STAT_EVENT,u),this.stat=g}F(_c,ne);function tt(u){const g=oi();je(g,new _c(g,u))}Zn.Ma="timingevent";function Ct(u,g){ne.call(this,Zn.Ma,u),this.size=g}F(Ct,ne);function pt(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function Po(u,g,v,A,z,$){u.info(function(){if(u.g)if($)for(var ie="",Me=$.split("&"),At=0;At<Me.length;At++){var Ve=Me[At].split("=");if(1<Ve.length){var Pt=Ve[0];Ve=Ve[1];var St=Pt.split("_");ie=2<=St.length&&St[1]=="type"?ie+(Pt+"="+Ve+"&"):ie+(Pt+"=redacted&")}}else ie=null;else ie=$;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+v+`
`+ie})}function Xh(u,g,v,A,z,$,ie){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+v+`
`+$+" "+ie})}function ci(u,g,v,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ha(u,v)+(A?" "+A:"")})}function bc(u,g){u.info(function(){return"TIMEOUT: "+g})}Sn.prototype.info=function(){};function ha(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var $=z[0];if($!="noop"&&$!="stop"&&$!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return zn(v)}catch{return g}}var ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Jn(){}F(Jn,wo),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Wn=new Jn;function en(u,g,v,A){this.j=u,this.i=g,this.l=v,this.R=A||1,this.U=new oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}var Oo={},as={};function qn(u,g,v){u.L=1,u.v=ga(mn(g)),u.m=v,u.P=!0,Nr(u,null)}function Nr(u,g){u.F=Date.now(),fa(u),u.A=mn(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),zo(v.i,"t",A),u.C=0,v=u.j.J,u.h=new ut,u.g=kc(u.j,v?g:null,!u.m),0<u.O&&(u.M=new Qh(T(u.Y,u,u.g),u.O)),g=u.U,v=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(la[0]=z.toString()),z=la);for(var $=0;$<z.length;$++){var ie=yc(v,z[$],A||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),li(),Po(u.i,u.u,u.A,u.l,u.R,u.m)}en.prototype.ca=function(u){u=u.target;const g=this.M;g&&Nn(u)==3?g.j():this.Y(u)},en.prototype.Y=function(u){try{if(u==this.g)e:{const St=Nn(this.g);var g=this.g.Ba();const kr=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Nc(this.g)))){this.J||St!=4||g==7||(g==8||0>=kr?li(3):li(2)),hi(this);var v=this.g.Z();this.X=v;t:if(Tc(this)){var A=Nc(this.g);u="";var z=A.length,$=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),er(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!($&&g==z-1)});A.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,Xh(this.i,this.u,this.A,this.l,this.R,St,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,At=this.g;if((Me=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Me)){var Ve=Me;break t}}Ve=null}if(v=Ve)ci(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,da(this,v);else{this.o=!1,this.s=3,tt(12),Ut(this),er(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<ie.length;)if(zt=Cc(this,ie),zt==as){St==4&&(this.s=4,tt(14),v=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Oo){this.s=4,tt(15),ci(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else ci(this.i,this.l,zt,null),da(this,zt);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ie.length!=0||this.h.h||(this.s=1,tt(16),v=!1),this.o=this.o&&v,!v)ci(this.i,this.l,ie,"[Invalid Chunked Response]"),Ut(this),er(this);else if(0<ie.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Aa(Pt),Pt.M=!0,tt(11))}}else ci(this.i,this.l,ie,null),da(this,ie);St==4&&Ut(this),this.o&&!this.J&&(St==4?Mc(this.j,this):(this.o=!1,fa(this)))}else tf(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Ut(this),er(this)}}}catch{}finally{}};function Tc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Cc(u,g){var v=u.C,A=g.indexOf(`
`,v);return A==-1?as:(v=Number(g.substring(v,A)),isNaN(v)?Oo:(A+=1,A+v>g.length?as:(g=g.slice(A,A+v),u.C=A+v,g)))}en.prototype.cancel=function(){this.J=!0,Ut(this)};function fa(u){u.S=Date.now()+u.I,Ac(u,u.I)}function Ac(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pt(T(u.ba,u),g)}function hi(u){u.B&&(m.clearTimeout(u.B),u.B=null)}en.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(bc(this.i,this.A),this.L!=2&&(li(),tt(17)),Ut(this),this.s=2,er(this)):Ac(this,this.S-u)};function er(u){u.j.G==0||u.J||Mc(u.j,u)}function Ut(u){hi(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,ca(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function da(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||Mo(v.h,u))){if(!u.K&&Mo(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ys(v),ps(v);else break e;jo(v),tt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=pt(T(v.Za,v),6e3));if(1>=os(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Lr(v,11)}else if((u.K||v.g==u)&&ys(v),!te(g))for(z=v.Da.g.parse(g),g=0;g<z.length;g++){let Ve=z[g];if(v.T=Ve[0],Ve=Ve[1],v.G==2)if(Ve[0]=="c"){v.K=Ve[1],v.ia=Ve[2];const Pt=Ve[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const St=Ve[4];St!=null&&(v.Aa=St,v.j.info("SVER="+v.Aa));const kr=Ve[5];kr!=null&&typeof kr=="number"&&0<kr&&(A=1.5*kr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const zt=u.g;if(zt){const or=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(or){var $=A.h;$.g||or.indexOf("spdy")==-1&&or.indexOf("quic")==-1&&or.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ls($,$.h),$.h=null))}if(A.D){const $o=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(A.ya=$o,Ke(A.I,A.D,$o))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ie=u;if(A.qa=Lc(A,A.J?A.ia:null,A.W),ie.K){tn(A.h,ie);var Me=ie,At=A.L;At&&(Me.I=At),Me.B&&(hi(Me),fa(Me)),A.g=ie}else Pc(A);0<v.i.length&&gs(v)}else Ve[0]!="stop"&&Ve[0]!="close"||Lr(v,7);else v.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Lr(v,7):Fo(v):Ve[0]!="noop"&&v.l&&v.l.ta(Ve),v.v=0)}}li(4)}catch{}}var Sc=class{constructor(u,g){this.g=u,this.map=g}};function Dr(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ss(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function os(u){return u.h?1:u.g?u.g.size:0}function Mo(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ls(u,g){u.g?u.g.add(g):u.h=g}function tn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Dr.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return N(u.i)}function Zh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var g=[],v=u.length,A=0;A<v;A++)g.push(u[A]);return g}g=[],v=0;for(A in u)g[v++]=u[A];return g}function cs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const A in u)g[v++]=A;return g}}}function Lo(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=cs(u),A=Zh(u),z=A.length,$=0;$<z;$++)g.call(void 0,A[$],v&&v[$],u)}var ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wh(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),z=null;if(0<=A){var $=u[v].substring(0,A);z=u[v].substring(A+1)}else $=u[v];g($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function gt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gt){this.h=u.h,pa(this,u.j),this.o=u.o,this.g=u.g,fi(this,u.s),this.l=u.l;var g=u.i,v=new Pr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),xr(this,v),this.m=u.m}else u&&(g=String(u).match(ma))?(this.h=!1,pa(this,g[1]||"",!0),this.o=Rn(g[2]||""),this.g=Rn(g[3]||"",!0),fi(this,g[4]),this.l=Rn(g[5]||"",!0),xr(this,g[6]||"",!0),this.m=Rn(g[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}gt.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ya(g,ko,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ya(g,ko,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ya(v,v.charAt(0)=="/"?Jh:Uo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ya(v,us)),u.join("")};function mn(u){return new gt(u)}function pa(u,g,v){u.j=v?Rn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function fi(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function xr(u,g,v){g instanceof Pr?(u.i=g,wc(u.i,u.h)):(v||(g=ya(g,ef)),u.i=new Pr(g,u.h))}function Ke(u,g,v){u.i.set(g,v)}function ga(u){return Ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Rn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ya(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,Rc),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ko=/[#\/\?@]/g,Uo=/[#\?:]/g,Jh=/[#\?]/g,ef=/[#\?@]/g,us=/#/g;function Pr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wh(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=Pr.prototype,i.add=function(u,g){wn(this),this.i=null,u=tr(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function Or(u,g){wn(u),g=tr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Mr(u,g){return wn(u),g=tr(u,g),u.g.has(g)}i.forEach=function(u,g){wn(this),this.g.forEach(function(v,A){v.forEach(function(z){u.call(g,z,A,this)},this)},this)},i.na=function(){wn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let A=0;A<g.length;A++){const z=u[A];for(let $=0;$<z.length;$++)v.push(g[A])}return v},i.V=function(u){wn(this);let g=[];if(typeof u=="string")Mr(this,u)&&(g=g.concat(this.g.get(tr(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},i.set=function(u,g){return wn(this),this.i=null,u=tr(this,u),Mr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},i.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function zo(u,g,v){Or(u,g),0<v.length&&(u.i=null,u.g.set(tr(u,g),N(v)),u.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var A=g[v];const $=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var z=$;ie[A]!==""&&(z+="="+encodeURIComponent(String(ie[A]))),u.push(z)}}return this.i=u.join("&")};function tr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function wc(u,g){g&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(Or(this,A),zo(this,z,v))},u)),u.j=g}function Ea(u,g){const v=new Sn;if(m.Image){const A=new Image;A.onload=V(In,v,"TestLoadImage: loaded",!0,g,A),A.onerror=V(In,v,"TestLoadImage: error",!1,g,A),A.onabort=V(In,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=V(In,v,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Bn(u,g){const v=new Sn,A=new AbortController,z=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then($=>{clearTimeout(z),$.ok?In(v,"TestPingServer: ok",!0,g):In(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),In(v,"TestPingServer: error",!1,g)})}function In(u,g,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function va(){this.g=new ua}function nr(u,g,v){const A=v||"";try{Lo(u,function(z,$){let ie=z;E(z)&&(ie=zn(z)),g.push(A+$+"="+encodeURIComponent(ie))})}catch(z){throw g.push(A+"type="+encodeURIComponent("_badmap")),z}}function di(u){this.l=u.Ub||null,this.j=u.eb||!1}F(di,wo),di.prototype.g=function(){return new Vr(this.l,this.j)},di.prototype.i=function(u){return function(){return u}}({});function Vr(u,g){ot.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Vr,ot),i=Vr.prototype,i.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,ir(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function qo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?rr(this):ir(this),this.readyState==3&&qo(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,rr(this))},i.Qa=function(u){this.g&&(this.response=u,rr(this))},i.ga=function(){this.g&&rr(this)};function rr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ir(u)}i.setRequestHeader=function(u,g){this.u.append(u,g)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function ir(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bo(u){let g="";return Pe(u,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function xt(u,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Bo(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ke(u,g,v))}function He(u){ot.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(He,ot);var hs=/^https?$/i,_a=["POST","PUT"];i=He.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?Io(this.o):Io(Wn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch($){Ic(this,$);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())v.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),z=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(_a,g,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ie]of v)this.g.setRequestHeader($,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Ic(this,$)}};function Ic(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,fs(u),ar(u)}function fs(u){u.A||(u.A=!0,je(u,"complete"),je(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,je(this,"complete"),je(this,"abort"),ar(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ds(this):this.bb())},i.bb=function(){ds(this)};function ds(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Nn(u)!=4||u.Z()!=2)){if(u.u&&Nn(u)==4)$t(u.Ea,0,u);else if(je(u,"readystatechange"),Nn(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=ie===0){var z=String(u.D).match(ma)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!hs.test(z?z.toLowerCase():"")}v=A}if(v)je(u,"complete"),je(u,"success");else{u.m=6;try{var $=2<Nn(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",fs(u)}}finally{ar(u)}}}}function ar(u,g){if(u.g){ba(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||je(u,"ready");try{v.onreadystatechange=A}catch{}}}function ba(u){u.I&&(m.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function Nn(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),rs(g)}};function Nc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function tf(u){const g={};u=(u.g&&2<=Nn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(te(u[A]))continue;var v=L(u[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=g[z]||[];g[z]=$,$.push(v)}M(g,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function ms(u){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ta("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ta("baseRetryDelayMs",5e3,u),this.cb=Ta("retryDelaySeedMs",1e4,u),this.Wa=Ta("forwardChannelMaxRetries",2,u),this.wa=Ta("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Dr(u&&u.concurrentRequestLimit),this.Da=new va,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ms.prototype,i.la=8,i.G=1,i.connect=function(u,g,v,A){tt(0),this.W=u,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Lc(this,null,this.W),gs(this)};function Fo(u){if(Dc(u),u.G==3){var g=u.U++,v=mn(u.I);if(Ke(v,"SID",u.K),Ke(v,"RID",g),Ke(v,"TYPE","terminate"),Ca(u,v),g=new en(u,u.j,g),g.L=2,g.v=ga(mn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=kc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),fa(g)}Vc(u)}function ps(u){u.g&&(Aa(u),u.g.cancel(),u.g=null)}function Dc(u){ps(u),u.u&&(m.clearTimeout(u.u),u.u=null),ys(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function gs(u){if(!ss(u.h)&&!u.s){u.s=!0;var g=u.Ga;ae||x(),pe||(ae(),pe=!0),Be.add(g,u),u.B=0}}function nf(u,g){return os(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pt(T(u.Ga,u,g),Go(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new en(this,this.j,u);let $=this.o;if(this.S&&($?($=R($),O($,this.S)):$=this.S),this.m!==null||this.O||(z.H=$,$=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=xc(this,z,g),v=mn(this.I),Ke(v,"RID",u),Ke(v,"CVER",22),this.D&&Ke(v,"X-HTTP-Session-Id",this.D),Ca(this,v),$&&(this.O?g="headers="+encodeURIComponent(String(Bo($)))+"&"+g:this.m&&xt(v,this.m,$)),ls(this.h,z),this.Ua&&Ke(v,"TYPE","init"),this.P?(Ke(v,"$req",g),Ke(v,"SID","null"),z.T=!0,qn(z,v,null)):qn(z,v,g),this.G=2}}else this.G==3&&(u?Ho(this,u):this.i.length==0||ss(this.h)||Ho(this))};function Ho(u,g){var v;g?v=g.l:v=u.U++;const A=mn(u.I);Ke(A,"SID",u.K),Ke(A,"RID",v),Ke(A,"AID",u.T),Ca(u,A),u.m&&u.o&&xt(A,u.m,u.o),v=new en(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=xc(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ls(u.h,v),qn(v,A,g)}function Ca(u,g){u.H&&Pe(u.H,function(v,A){Ke(g,A,v)}),u.l&&Lo({},function(v,A){Ke(g,A,v)})}function xc(u,g,v){v=Math.min(u.i.length,v);var A=u.l?T(u.l.Na,u.l,u):null;e:{var z=u.i;let $=-1;for(;;){const ie=["count="+v];$==-1?0<v?($=z[0].g,ie.push("ofs="+$)):$=0:ie.push("ofs="+$);let Me=!0;for(let At=0;At<v;At++){let Ve=z[At].g;const Pt=z[At].map;if(Ve-=$,0>Ve)$=Math.max(0,z[At].g-100),Me=!1;else try{nr(Pt,ie,"req"+Ve+"_")}catch{A&&A(Pt)}}if(Me){A=ie.join("&");break e}}}return u=u.i.splice(0,v),g.D=u,A}function Pc(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ae||x(),pe||(ae(),pe=!0),Be.add(g,u),u.v=0}}function jo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pt(T(u.Fa,u),Go(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,Oc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pt(T(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),ps(this),Oc(this))};function Aa(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Oc(u){u.g=new en(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=mn(u.qa);Ke(g,"RID","rpc"),Ke(g,"SID",u.K),Ke(g,"AID",u.T),Ke(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ke(g,"TO",u.ja),Ke(g,"TYPE","xmlhttp"),Ca(u,g),u.m&&u.o&&xt(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ga(mn(g)),v.m=null,v.P=!0,Nr(v,u)}i.Za=function(){this.C!=null&&(this.C=null,ps(this),jo(this),tt(19))};function ys(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Mc(u,g){var v=null;if(u.g==g){ys(u),Aa(u),u.g=null;var A=2}else if(Mo(u.h,g))v=g.D,tn(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var z=u.B;A=oi(),je(A,new Ct(A,v)),gs(u)}else Pc(u);else if(z=g.s,z==3||z==0&&0<g.X||!(A==1&&nf(u,g)||A==2&&jo(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),z){case 1:Lr(u,5);break;case 4:Lr(u,10);break;case 3:Lr(u,6);break;default:Lr(u,2)}}}function Go(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function Lr(u,g){if(u.j.info("Error code "+g),g==2){var v=T(u.fb,u),A=u.Xa;const z=!A;A=new gt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||pa(A,"https"),ga(A),z?Ea(A.toString(),v):Bn(A.toString(),v)}else tt(2);u.G=0,u.l&&u.l.sa(g),Vc(u),Dc(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Vc(u){if(u.G=0,u.ka=[],u.l){const g=Vo(u.h);(g.length!=0||u.i.length!=0)&&(j(u.ka,g),j(u.ka,u.i),u.h.i.length=0,N(u.i),u.i.length=0),u.l.ra()}}function Lc(u,g,v){var A=v instanceof gt?mn(v):new gt(v);if(A.g!="")g&&(A.g=g+"."+A.g),fi(A,A.s);else{var z=m.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var $=new gt(null);A&&pa($,A),g&&($.g=g),z&&fi($,z),v&&($.l=v),A=$}return v=u.D,g=u.ya,v&&g&&Ke(A,v,g),Ke(A,"VER",u.la),Ca(u,A),A}function kc(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new He(new di({eb:v})):new He(u.pa),g.Ha(u.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uc(){}i=Uc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Es(){}Es.prototype.g=function(u,g){return new nn(u,g)};function nn(u,g){ot.call(this),this.g=new ms(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!te(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!te(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new sr(this)}F(nn,ot),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Fo(this.g)},nn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=zn(u),u=v);g.i.push(new Sc(g.Ya++,u)),g.G==3&&gs(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,nn.aa.N.call(this)};function zc(u){wr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}F(zc,wr);function qc(){Do.call(this),this.status=1}F(qc,Do);function sr(u){this.g=u}F(sr,Uc),sr.prototype.ua=function(){je(this.g,"a")},sr.prototype.ta=function(u){je(this.g,new zc(u))},sr.prototype.sa=function(u){je(this.g,new qc)},sr.prototype.ra=function(){je(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,Yb=function(){return new Es},Kb=function(){return oi()},$b=Zn,Pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ui.NO_ERROR=0,ui.TIMEOUT=8,ui.HTTP_ERROR=6,nh=ui,Ir.COMPLETE="complete",Gb=Ir,No.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Vl=No,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,jb=He}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const r_="@firebase/firestore",i_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Ih("@firebase/firestore");function Ys(){return Xa.logLevel}function le(i,...e){if(Xa.logLevel<=xe.DEBUG){const n=e.map(vp);Xa.debug(`Firestore (${bo}): ${i}`,...n)}}function ii(i,...e){if(Xa.logLevel<=xe.ERROR){const n=e.map(vp);Xa.error(`Firestore (${bo}): ${i}`,...n)}}function lo(i,...e){if(Xa.logLevel<=xe.WARN){const n=e.map(vp);Xa.warn(`Firestore (${bo}): ${i}`,...n)}}function vp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,Qb(i,a,n)}function Qb(i,e,n){let a=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ii(a),new Error(a)}function at(i,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||Qb(e,o,a)}function Ue(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class WP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JP{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let c=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $i,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $i)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(at(typeof a.accessToken=="string",31837,{l:a}),new Xb(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class eO{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tO{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new eO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new a_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new a_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=rO(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<n&&(a+=e.charAt(o[c]%62))}return a}}function Oe(i,e){return i<e?-1:i>e?1:0}function Om(i,e){const n=Math.min(i.length,e.length);for(let a=0;a<n;a++){const o=i.charAt(a),c=e.charAt(a);if(o!==c)return pm(o)===pm(c)?Oe(o,c):pm(o)?1:-1}return Oe(i.length,e.length)}const iO=55296,aO=57343;function pm(i){const e=i.charCodeAt(0);return e>=iO&&e<=aO}function co(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="__name__";class dr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ce(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const c=dr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Oe(e.length,n.length)}static compareSegments(e,n){const a=dr.isNumericId(e),o=dr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?dr.extractNumericId(e).compare(dr.extractNumericId(n)):Om(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class et extends dr{construct(e,n,a){return new et(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const sO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends dr{construct(e,n,a){return new sn(e,n,a)}static isValidIdentifier(e){return sO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new sn([s_])}static fromServerFormat(e){const n=[];let a="",o=0;const c=()=>{if(a.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(c(),o++)}if(c(),f)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(et.fromString(e))}static fromName(e){return new ye(et.fromString(e).popFirst(5))}static empty(){return new ye(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(i,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function oO(i,e,n,a){if(e===!0&&a===!0)throw new fe(re.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function o_(i){if(!ye.isDocumentKey(i))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function l_(i){if(ye.isDocumentKey(i))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function lO(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function cO(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ce(12329,{type:typeof i})}function Jl(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cO(i);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i,e){const n={typeString:i};return e&&(n.value=e),n}function fc(i,e){if(!lO(i))throw new fe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const f=i[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new fe(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=-62135596800,u_=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*u_);return new bt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<c_)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fc(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-c_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Tt("string",bt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new bt(0,0))}static max(){return new Te(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=-1;function uO(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(a===1e9?new bt(n+1,0):new bt(n,a));return new Zi(o,ye.empty(),e)}function hO(i){return new Zi(i.readTime,i.key,ec)}class Zi{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Zi(Te.min(),ye.empty(),ec)}static max(){return new Zi(Te.max(),ye.empty(),ec)}}function fO(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Oe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==dO)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,a)=>{n(e)})}static reject(e){return new W((n,a)=>{a(e)})}static waitFor(e){return new W((n,a)=>{let o=0,c=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++c,f&&c===o&&n()},y=>a(y))}),f=!0,c===o&&n()})}static or(e){let n=W.resolve(!1);for(const a of e)n=n.next(o=>o?W.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,c)=>{a.push(n.call(this,o,c))}),this.waitFor(a)}static mapArray(e,n){return new W((a,o)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const E=y;n(e[E]).next(b=>{f[E]=b,++m,m===c&&a(f)},b=>o(b))}})}static doWhile(e,n){return new W((a,o)=>{const c=()=>{e()===!0?n().next(()=>{c()},o):a()};c()})}}function pO(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=-1;function Lh(i){return i==null}function Mm(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="";function yO(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=h_(e)),e=EO(i.get(n),e);return h_(e)}function EO(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case Wb:n+="";break;default:n+=c}}return n}function h_(i){return i+Wb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function dc(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function vO(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,a,o,c){this.key=e,this.value=n,this.color=a??jt.RED,this.left=o??jt.EMPTY,this.right=c??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,c){return new jt(e??this.key,n??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,a),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,a,o,c){return this}insert(e,n,a){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d_(this.data.getIterator())}getIteratorFrom(e){return new d_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class d_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new qi([])}unionWith(e){let n=new Nt(sn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Jb("Invalid base64 string: "+c):c}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const _O=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(i){if(at(!!i,39018),typeof i=="string"){let e=0;const n=_O.exec(i);if(at(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:dt(i.seconds),nanos:dt(i.nanos)}}function dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ji(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="server_timestamp",tT="__type__",nT="__previous_value__",rT="__local_write_time__";function bp(i){return(i?.mapValue?.fields||{})[tT]?.stringValue===eT}function kh(i){const e=i.mapValue.fields[nT];return bp(e)?kh(e):e}function tc(i){const e=Wi(i.mapValue.fields[rT].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,a,o,c,f,m,y,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=E,this.isUsingEmulator=b}}const yh="(default)";class nc{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="__type__",CO="__max__",Gu={mapValue:{}},AO="__vector__",Vm="value";function ea(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bp(i)?4:RO(i)?9007199254740991:SO(i)?10:11:Ce(28295,{value:i})}function _r(i,e){if(i===e)return!0;const n=ea(i);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return tc(i).isEqual(tc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Wi(o.timestampValue),m=Wi(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,c){return Ji(o.bytesValue).isEqual(Ji(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,c){return dt(o.geoPointValue.latitude)===dt(c.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(c.geoPointValue.longitude)}(i,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return dt(o.integerValue)===dt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=dt(o.doubleValue),m=dt(c.doubleValue);return f===m?Mm(f)===Mm(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return co(i.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(f_(f)!==f_(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!_r(f[y],m[y])))return!1;return!0}(i,e);default:return Ce(52216,{left:i})}}function rc(i,e){return(i.values||[]).find(n=>_r(n,e))!==void 0}function uo(i,e){if(i===e)return 0;const n=ea(i),a=ea(e);if(n!==a)return Oe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=dt(c.integerValue||c.doubleValue),y=dt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return m_(i.timestampValue,e.timestampValue);case 4:return m_(tc(i),tc(e));case 5:return Om(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Ji(c),y=Ji(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let E=0;E<m.length&&E<y.length;E++){const b=Oe(m[E],y[E]);if(b!==0)return b}return Oe(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Oe(dt(c.latitude),dt(f.latitude));return m!==0?m:Oe(dt(c.longitude),dt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return p_(i.arrayValue,e.arrayValue);case 10:return function(c,f){const m=c.fields||{},y=f.fields||{},E=m[Vm]?.arrayValue,b=y[Vm]?.arrayValue,S=Oe(E?.values?.length||0,b?.values?.length||0);return S!==0?S:p_(E,b)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Gu.mapValue&&f===Gu.mapValue)return 0;if(c===Gu.mapValue)return 1;if(f===Gu.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),E=f.fields||{},b=Object.keys(E);y.sort(),b.sort();for(let S=0;S<y.length&&S<b.length;++S){const T=Om(y[S],b[S]);if(T!==0)return T;const V=uo(m[y[S]],E[b[S]]);if(V!==0)return V}return Oe(y.length,b.length)}(i.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function m_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const n=Wi(i),a=Wi(e),o=Oe(n.seconds,a.seconds);return o!==0?o:Oe(n.nanos,a.nanos)}function p_(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const c=uo(n[o],a[o]);if(c)return c}return Oe(n.length,a.length)}function ho(i){return Lm(i)}function Lm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Wi(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Ji(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ye.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const c of n.values||[])o?o=!1:a+=",",a+=Lm(c);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of a)c?c=!1:o+=",",o+=`${f}:${Lm(n.fields[f])}`;return o+"}"}(i.mapValue):Ce(61005,{value:i})}function rh(i){switch(ea(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(i);return e?16+rh(e):16;case 5:return 2*i.stringValue.length;case 6:return Ji(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,c)=>o+rh(c),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return dc(a.fields,(c,f)=>{o+=c.length+rh(f)}),o}(i.mapValue);default:throw Ce(13486,{value:i})}}function km(i){return!!i&&"integerValue"in i}function Tp(i){return!!i&&"arrayValue"in i}function g_(i){return!!i&&"nullValue"in i}function y_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function gm(i){return!!i&&"mapValue"in i}function SO(i){return(i?.mapValue?.fields||{})[TO]?.stringValue===AO}function jl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return dc(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=jl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(i.arrayValue.values[n]);return e}return{...i}}function RO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===CO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!gm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=sn.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=jl(f):o.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,a,o)}delete(e){const n=this.field(e.popLast());gm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];gm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){dc(n,(o,c)=>e[o]=c);for(const o of a)delete e[o]}clone(){return new pr(jl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,a,o,c,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Te.min(),Te.min(),Te.min(),pr.empty(),0)}static newFoundDocument(e,n,a,o){return new Zt(e,1,n,Te.min(),a,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Te.min(),Te.min(),pr.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Te.min(),Te.min(),pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function E_(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const c=e[o],f=i.position[o];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(f.referenceValue),n.key):a=uo(f,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function v_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!_r(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function wO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class It extends iT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new NO(e,n,a):n==="array-contains"?new PO(e,a):n==="in"?new OO(e,a):n==="not-in"?new MO(e,a):n==="array-contains-any"?new VO(e,a):new It(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new DO(e,a):new xO(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uo(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends iT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new br(e,n)}matches(e){return aT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aT(i){return i.op==="and"}function sT(i){return IO(i)&&aT(i)}function IO(i){for(const e of i.filters)if(e instanceof br)return!1;return!0}function Um(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+ho(i.value);if(sT(i))return i.filters.map(e=>Um(e)).join(",");{const e=i.filters.map(n=>Um(n)).join(",");return`${i.op}(${e})`}}function oT(i,e){return i instanceof It?function(a,o){return o instanceof It&&a.op===o.op&&a.field.isEqual(o.field)&&_r(a.value,o.value)}(i,e):i instanceof br?function(a,o){return o instanceof br&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((c,f,m)=>c&&oT(f,o.filters[m]),!0):!1}(i,e):void Ce(19439)}function lT(i){return i instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`}(i):i instanceof br?function(n){return n.op.toString()+" {"+n.getFilters().map(lT).join(" ,")+"}"}(i):"Filter"}class NO extends It{constructor(e,n,a){super(e,n,a),this.key=ye.fromName(a.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class DO extends It{constructor(e,n){super(e,"in",n),this.keys=cT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xO extends It{constructor(e,n){super(e,"not-in",n),this.keys=cT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cT(i,e){return(e.arrayValue?.values||[]).map(n=>ye.fromName(n.referenceValue))}class PO extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tp(n)&&rc(n.arrayValue,this.value)}}class OO extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class MO extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rc(this.value.arrayValue,n)}}class VO extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>rc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n=null,a=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function __(i,e=null,n=[],a=[],o=null,c=null,f=null){return new LO(i,e,n,a,o,c,f)}function Cp(i){const e=Ue(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Um(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>ho(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>ho(a)).join(",")),e.Te=n}return e.Te}function Ap(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!wO(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!oT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!v_(i.startAt,e.startAt)&&v_(i.endAt,e.endAt)}function zm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n=null,a=[],o=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kO(i,e,n,a,o,c,f,m){return new Uh(i,e,n,a,o,c,f,m)}function Sp(i){return new Uh(i)}function b_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function UO(i){return i.collectionGroup!==null}function Gl(i){const e=Ue(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(sn.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(E=>{E.isInequality()&&(m=m.add(E.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new vh(c,a))}),n.has(sn.keyField().canonicalString())||e.Ie.push(new vh(sn.keyField(),a))}return e.Ie}function yr(i){const e=Ue(i);return e.Ee||(e.Ee=zO(e,Gl(i))),e.Ee}function zO(i,e){if(i.limitType==="F")return __(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new vh(o.field,c)});const n=i.endAt?new Eh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Eh(i.startAt.position,i.startAt.inclusive):null;return __(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function qm(i,e,n){return new Uh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function zh(i,e){return Ap(yr(i),yr(e))&&i.limitType===e.limitType}function uT(i){return`${Cp(yr(i))}|lt:${i.limitType}`}function Qs(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>lT(o)).join(", ")}]`),Lh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>ho(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>ho(o)).join(",")),`Target(${a})`}(yr(i))}; limitType=${i.limitType})`}function qh(i,e){return e.isFoundDocument()&&function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(i,e)&&function(a,o){for(const c of Gl(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(f,m,y){const E=E_(f,m,y);return f.inclusive?E<=0:E<0}(a.startAt,Gl(a),o)||a.endAt&&!function(f,m,y){const E=E_(f,m,y);return f.inclusive?E>=0:E>0}(a.endAt,Gl(a),o))}(i,e)}function qO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hT(i){return(e,n)=>{let a=!1;for(const o of Gl(i)){const c=BO(o,e,n);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function BO(i,e,n){const a=i.field.isKeyField()?ye.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),E=m.data.field(c);return y!==null&&E!==null?uo(y,E):Ce(42886)}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Ce(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){dc(this.inner,(n,a)=>{for(const[o,c]of a)e(o,c)})}isEmpty(){return vO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new mt(ye.comparator);function ta(){return FO}const fT=new mt(ye.comparator);function Ll(...i){let e=fT;for(const n of i)e=e.insert(n.key,n);return e}function HO(i){let e=fT;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Fa(){return $l()}function dT(){return $l()}function $l(){return new es(i=>i.toString(),(i,e)=>i.isEqual(e))}const jO=new Nt(ye.comparator);function ze(...i){let e=jO;for(const n of i)e=e.add(n);return e}const GO=new Nt(Oe);function $O(){return GO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mm(e)?"-0":e}}function YO(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function QO(i,e,n){return i instanceof Bm?function(o,c){const f={fields:{[tT]:{stringValue:eT},[rT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&bp(c)&&(c=kh(c)),c&&(f.fields[nT]=c),{mapValue:f}}(n,e):i instanceof _h?mT(i,e):i instanceof bh?pT(i,e):function(o,c){const f=ZO(o,c),m=T_(f)+T_(o.Ae);return km(f)&&km(o.Ae)?YO(m):KO(o.serializer,m)}(i,e)}function XO(i,e,n){return i instanceof _h?mT(i,e):i instanceof bh?pT(i,e):n}function ZO(i,e){return i instanceof Fm?function(a){return km(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class Bm extends Bh{}class _h extends Bh{constructor(e){super(),this.elements=e}}function mT(i,e){const n=gT(e);for(const a of i.elements)n.some(o=>_r(o,a))||n.push(a);return{arrayValue:{values:n}}}class bh extends Bh{constructor(e){super(),this.elements=e}}function pT(i,e){let n=gT(e);for(const a of i.elements)n=n.filter(o=>!_r(o,a));return{arrayValue:{values:n}}}class Fm extends Bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function T_(i){return dt(i.integerValue||i.doubleValue)}function gT(i){return Tp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function WO(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof _h&&o instanceof _h||a instanceof bh&&o instanceof bh?co(a.elements,o.elements,_r):a instanceof Fm&&o instanceof Fm?_r(a.Ae,o.Ae):a instanceof Bm&&o instanceof Bm}(i.transform,e.transform)}class Ga{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ga}static exists(e){return new Ga(void 0,e)}static updateTime(e){return new Ga(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Rp{}function yT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new e4(i.key,Ga.none()):new wp(i.key,i.data,Ga.none());{const n=i.data,a=pr.empty();let o=new Nt(sn.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?a.delete(c):a.set(c,f),o=o.add(c)}return new Fh(i.key,a,new qi(o.toArray()),Ga.none())}}function JO(i,e,n){i instanceof wp?function(o,c,f){const m=o.value.clone(),y=A_(o.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Fh?function(o,c,f){if(!ih(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=A_(o.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(ET(o)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Kl(i,e,n,a){return i instanceof wp?function(c,f,m,y){if(!ih(c.precondition,f))return m;const E=c.value.clone(),b=S_(c.fieldTransforms,y,f);return E.setAll(b),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null}(i,e,n,a):i instanceof Fh?function(c,f,m,y){if(!ih(c.precondition,f))return m;const E=S_(c.fieldTransforms,y,f),b=f.data;return b.setAll(ET(c)),b.setAll(E),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(i,e,n,a):function(c,f,m){return ih(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function C_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&co(a,o,(c,f)=>WO(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wp extends Rp{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fh extends Rp{constructor(e,n,a,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ET(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function A_(i,e,n){const a=new Map;at(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],f=c.transform,m=e.data.field(c.field);a.set(c.field,XO(f,m,n[o]))}return a}function S_(i,e,n){const a=new Map;for(const o of i){const c=o.transform,f=n.data.field(o.field);a.set(o.field,QO(c,f,e))}return a}class e4 extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&JO(c,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Kl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Kl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=dT();return this.mutations.forEach(o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const y=yT(f,m);y!==null&&a.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Te.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,a)=>C_(n,a))&&co(this.baseMutations,e.baseMutations,(n,a)=>C_(n,a))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,ke;function vT(i){if(i===void 0)return ii("GRPC error has no .code"),re.UNKNOWN;switch(i){case vt.OK:return re.OK;case vt.CANCELLED:return re.CANCELLED;case vt.UNKNOWN:return re.UNKNOWN;case vt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case vt.INTERNAL:return re.INTERNAL;case vt.UNAVAILABLE:return re.UNAVAILABLE;case vt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case vt.NOT_FOUND:return re.NOT_FOUND;case vt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case vt.ABORTED:return re.ABORTED;case vt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case vt.DATA_LOSS:return re.DATA_LOSS;default:return Ce(39323,{code:i})}}(ke=vt||(vt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new Gi([4294967295,4294967295],0);function R_(i){const e=i4().encode(i),n=new Hb;return n.update(e),new Uint8Array(n.digest())}function w_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Gi([n,a],0),new Gi([o,c],0)]}class Ip{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(a<0)throw new kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gi.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Gi.fromNumber(a)));return o.compare(a4)===1&&(o=new Gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=R_(e),[a,o]=w_(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Ip(c,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=R_(e),[a,o]=w_(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,a,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Hh(Te.min(),o,new mt(Oe),ta(),ze())}}class mc{constructor(e,n,a,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new mc(a,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class _T{constructor(e,n){this.targetId=e,this.Ce=n}}class bT{constructor(e,n,a=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class I_{constructor(){this.ve=0,this.Fe=N_(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),a=ze();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ce(38017,{changeType:c})}}),new mc(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=N_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class s4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ta(),this.Je=$u(),this.He=$u(),this.Ye=new mt(Oe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((a,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(zm(c))if(a===0){const f=new ye(c.path);this.et(n,f,Zt.newNoDocument(f,Te.min()))}else at(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const E=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,E)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=Ji(a).toUint8Array()}catch(y){if(y instanceof Jb)return lo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Ip(f,o,c)}catch(y){return lo(y instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach(c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((c,f)=>{const m=this.ot(f);if(m){if(c.current&&zm(m.target)){const y=new ye(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Zt.newNoDocument(y,e))}c.Be&&(n.set(f,c.ke()),c.qe())}});let a=ze();this.He.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const E=this.ot(y);return!E||E.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(c))}),this.je.forEach((c,f)=>f.setReadTime(e));const o=new Hh(e,n,this.Ye,this.je,a);return this.je=ta(),this.Je=$u(),this.He=$u(),this.Ye=new mt(Oe),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new I_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Oe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Oe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new I_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $u(){return new mt(ye.comparator)}function N_(){return new mt(ye.comparator)}const o4={asc:"ASCENDING",desc:"DESCENDING"},l4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c4={and:"AND",or:"OR"};class u4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(i,e){return i.useProto3Json||Lh(e)?e:{value:e}}function h4(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f4(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function io(i){return at(!!i,49232),Te.fromTimestamp(function(n){const a=Wi(n);return new bt(a.seconds,a.nanos)}(i))}function d4(i,e){return jm(i,e).canonicalString()}function jm(i,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function TT(i){const e=et.fromString(i);return at(wT(e),10190,{key:e.toString()}),e}function ym(i,e){const n=TT(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(AT(n))}function CT(i,e){return d4(i.databaseId,e)}function m4(i){const e=TT(i);return e.length===4?et.emptyPath():AT(e)}function D_(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function AT(i){return at(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function p4(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Ce(39313,{state:E})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(E,b){return E.useProto3Json?(at(b===void 0||typeof b=="string",58123),Gt.fromBase64String(b||"")):(at(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Gt.fromUint8Array(b||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(E){const b=E.code===void 0?re.UNKNOWN:vT(E.code);return new fe(b,E.message||"")}(f);n=new bT(a,o,c,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=ym(i,a.document.name),c=io(a.document.updateTime),f=a.document.createTime?io(a.document.createTime):Te.min(),m=new pr({mapValue:{fields:a.document.fields}}),y=Zt.newFoundDocument(o,c,f,m),E=a.targetIds||[],b=a.removedTargetIds||[];n=new ah(E,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=ym(i,a.document),c=a.readTime?io(a.readTime):Te.min(),f=Zt.newNoDocument(o,c),m=a.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=ym(i,a.document),c=a.removedTargetIds||[];n=new ah([],c,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,f=new r4(o,c),m=a.targetId;n=new _T(m,f)}}return n}function g4(i,e){return{documents:[CT(i,e.path)]}}function y4(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=CT(i,o);const c=function(E){if(E.length!==0)return RT(br.create(E,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(E){if(E.length!==0)return E.map(b=>function(T){return{field:Xs(T.field),direction:_4(T.dir)}}(b))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Hm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ft:n,parent:o}}function E4(i){let e=m4(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){at(a===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];n.where&&(c=function(S){const T=ST(S);return T instanceof br&&sT(T)?T.getFilters():[T]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(T=>function(F){return new vh(Zs(F.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(S){let T;return T=typeof S=="object"?S.value:S,Lh(T)?null:T}(n.limit));let y=null;n.startAt&&(y=function(S){const T=!!S.before,V=S.values||[];return new Eh(V,T)}(n.startAt));let E=null;return n.endAt&&(E=function(S){const T=!S.before,V=S.values||[];return new Eh(V,T)}(n.endAt)),kO(e,o,f,c,m,"F",y,E)}function v4(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ST(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Zs(n.unaryFilter.field);return It.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Zs(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Zs(n.unaryFilter.field);return It.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Zs(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(i):i.fieldFilter!==void 0?function(n){return It.create(Zs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return br.create(n.compositeFilter.filters.map(a=>ST(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(n.compositeFilter.op))}(i):Ce(30097,{filter:i})}function _4(i){return o4[i]}function b4(i){return l4[i]}function T4(i){return c4[i]}function Xs(i){return{fieldPath:i.canonicalString()}}function Zs(i){return sn.fromServerFormat(i.fieldPath)}function RT(i){return i instanceof It?function(n){if(n.op==="=="){if(y_(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NAN"}};if(g_(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y_(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NAN"}};if(g_(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(n.field),op:b4(n.op),value:n.value}}}(i):i instanceof br?function(n){const a=n.getFilters().map(o=>RT(o));return a.length===1?a[0]:{compositeFilter:{op:T4(n.op),filters:a}}}(i):Ce(54877,{filter:i})}function wT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,a,o,c=Te.min(),f=Te.min(),m=Gt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.yt=e}}function A4(i){const e=E4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.Cn=new R4}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Zi.min())}updateCollectionGroup(e,n,a){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class R4{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Nt(et.comparator),c=!o.has(a);return this.index[n]=o.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Nt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IT=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(IT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="LruGarbageCollector",w4=1048576;function O_([i,e],[n,a]){const o=Oe(i,n);return o===0?Oe(e,a):o}class I4{constructor(e){this.Ir=e,this.buffer=new Nt(O_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();O_(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class N4{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(P_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?le(P_,"Ignoring IndexedDB error during garbage collection: ",n):await Mh(n)}await this.Vr(3e5)})}}class D4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Vh.ce);const a=new I4(n);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(x_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,c,f,m,y,E;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(a=S,m=Date.now(),this.removeTargets(e,a,n))).next(S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(E=Date.now(),Ys()<=xe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(E-y)+`ms
Total Duration: ${E-b}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function x4(i,e){return new D4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.changes=new es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?W.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Kl(a.mutation,o,qi.empty(),bt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,ze()).next(()=>a))}getLocalViewOfDocuments(e,n,a=ze()){const o=Fa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(c=>{let f=Ll();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=Fa();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,ze()))}populateOverlays(e,n,a){const o=[];return a.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let c=ta();const f=$l(),m=function(){return $l()}();return n.forEach((y,E)=>{const b=a.get(E.key);o.has(E.key)&&(b===void 0||b.mutation instanceof Fh)?c=c.insert(E.key,E):b!==void 0?(f.set(E.key,b.mutation.getFieldMask()),Kl(b.mutation,E,b.mutation.getFieldMask(),bt.now())):f.set(E.key,qi.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((E,b)=>f.set(E,b)),n.forEach((E,b)=>m.set(E,new O4(b,f.get(E)??null))),m))}recalculateAndSaveOverlays(e,n){const a=$l();let o=new mt((f,m)=>f-m),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const E=n.get(y);if(E===null)return;let b=a.get(y)||qi.empty();b=m.applyToLocalView(E,b),a.set(y,b);const S=(o.get(m.batchId)||ze()).add(y);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),E=y.key,b=y.value,S=dT();b.forEach(T=>{if(!c.has(T)){const V=yT(n.get(T),a.get(T));V!==null&&S.set(T,V),c=c.add(T)}}),f.push(this.documentOverlayCache.saveOverlays(e,E,S))}return W.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-c.size):W.resolve(Fa());let m=ec,y=c;return f.next(E=>W.forEach(E,(b,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(b)?W.resolve():this.remoteDocumentCache.getEntry(e,b).next(T=>{y=y.insert(b,T)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,y,E,ze())).next(b=>({batchId:m,changes:HO(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(a=>{let o=Ll();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const c=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(e,c).next(m=>W.forEach(m,y=>{const E=function(S,T){return new Uh(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,a,o).next(b=>{b.forEach((S,T)=>{f=f.insert(S,T)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,o))).next(f=>{c.forEach((y,E)=>{const b=E.getKey();f.get(b)===null&&(f=f.insert(b,Zt.newInvalidDocument(b)))});let m=Ll();return f.forEach((y,E)=>{const b=c.get(y);b!==void 0&&Kl(b.mutation,E,qi.empty(),bt.now()),qh(n,E)&&(m=m.insert(y,E))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:io(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:A4(o.bundledQuery),readTime:io(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.overlays=new mt(ye.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Fa();return W.forEach(n,o=>this.getOverlay(e,o).next(c=>{c!==null&&a.set(o,c)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,c)=>{this.St(e,n,c)}),W.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(e,n,a){const o=Fa(),c=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,E=y.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let c=new mt((E,b)=>E-b);const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>a){let b=c.get(E.largestBatchId);b===null&&(b=Fa(),c=c.insert(E.largestBatchId,b)),b.set(E.getKey(),E)}}const m=Fa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,b)=>m.set(E,b)),!(m.size()>=o)););return W.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new n4(n,a));let c=this.qr.get(n);c===void 0&&(c=ze(),this.qr.set(n,c)),this.qr.set(n,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(){this.Qr=new Nt(Lt.$r),this.Ur=new Nt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Lt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach(a=>this.removeReference(a,n))}jr(e){const n=new ye(new et([])),a=new Lt(n,e),o=new Lt(n,e+1),c=[];return this.Ur.forEachInRange([a,o],f=>{this.Gr(f),c.push(f.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new et([])),a=new Lt(n,e),o=new Lt(n,e+1);let c=ze();return this.Ur.forEachInRange([a,o],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Lt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Oe(e.Yr,n.Yr)}static Kr(e,n){return Oe(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Lt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new t4(c,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Lt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?gO:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],f=>{const m=this.Xr(f.Yr);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Nt(Oe);return n.forEach(o=>{const c=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],m=>{a=a.add(m.Yr)})}),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const f=new Lt(new ye(c),0);let m=new Nt(Oe);return this.Zr.forEachWhile(y=>{const E=y.key.path;return!!a.isPrefixOf(E)&&(E.length===o&&(m=m.add(y.Yr)),!0)},f),W.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){at(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(n.mutations,o=>{const c=new Lt(o.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,n){const a=new Lt(n,0),o=this.Zr.firstAfterOrEqual(a);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.ri=e,this.docs=function(){return new mt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return W.resolve(a?a.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let a=ta();return n.forEach(o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Zt.newInvalidDocument(o))}),W.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let c=ta();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:E,value:{document:b}}=y.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||fO(hO(b),a)<=0||(o.has(b.key)||qh(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,a,o){Ce(9500)}ii(e,n){return W.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new q4(this)}getSize(e){return W.resolve(this.size)}}class q4 extends P4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.persistence=e,this.si=new es(n=>Cp(n),Ap),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Np,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,n){return this.si.forEach((a,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,a){let o=0;const c=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(c).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return W.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),W.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return W.resolve(a)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vh(0),this.li=!1,this.li=!0,this.hi=new k4,this.referenceDelegate=e(this),this.Pi=new B4(this),this.indexManager=new S4,this.remoteDocumentCache=function(o){return new z4(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new C4(n),this.Ii=new V4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new U4(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){le("MemoryPersistence","Starting transaction:",e);const o=new F4(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,n){return W.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,n)))}}class F4 extends mO{constructor(e){super(),this.currentSequenceNumber=e}}class Dp{constructor(e){this.persistence=e,this.Ri=new Np,this.Vi=null}static mi(e){return new Dp(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),W.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>a.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,a=>{const o=ye.fromPath(a);return this.gi(e,o).next(c=>{c||n.removeEntry(o,Te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.pi=new es(a=>yO(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=x4(this,n)}static mi(e,n){return new Th(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}wr(e){let n=0;return this.pr(e,a=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(a,o)=>this.br(e,a,o).next(c=>c?W.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(a++,c.removeEntry(f,Te.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}br(e,n,a){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=ze(),o=ze();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new xp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return A1()?8:pO(Jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const c={result:null};return this.ys(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ws(e,n,o,a).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new H4;return this.Ss(e,n,f).next(m=>{if(c.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>c.result)}bs(e,n,a,o){return a.documentReadCount<this.fs?(Ys()<=xe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Ys()<=xe.DEBUG&&le("QueryEngine","Query:",Qs(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ys()<=xe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):W.resolve())}ys(e,n){if(b_(n))return W.resolve(null);let a=yr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=qm(n,null,"F"),a=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const f=ze(...c);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(y=>{const E=this.Ds(n,m);return this.Cs(n,E,f,y.readTime)?this.ys(e,qm(n,null,"F")):this.vs(e,E,n,y)}))})))}ws(e,n,a,o){return b_(n)||o.isEqual(Te.min())?W.resolve(null):this.ps.getDocuments(e,a).next(c=>{const f=this.Ds(n,c);return this.Cs(n,f,a,o)?W.resolve(null):(Ys()<=xe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qs(n)),this.vs(e,f,n,uO(o,ec)).next(m=>m))})}Ds(e,n){let a=new Nt(hT(e));return n.forEach((o,c)=>{qh(e,c)&&(a=a.add(c))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,a){return Ys()<=xe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.ps.getDocumentsMatchingQuery(e,n,Zi.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="LocalStore",G4=3e8;class $4{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new mt(Oe),this.xs=new es(c=>Cp(c),Ap),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function K4(i,e,n,a){return new $4(i,e,n,a)}async function DT(i,e){const n=Ue(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(a))).next(c=>{const f=[],m=[];let y=ze();for(const E of o){f.push(E.batchId);for(const b of E.mutations)y=y.add(b.key)}for(const E of c){m.push(E.batchId);for(const b of E.mutations)y=y.add(b.key)}return n.localDocuments.getDocuments(a,y).next(E=>({Ls:E,removedBatchIds:f,addedBatchIds:m}))})})}function xT(i){const e=Ue(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Y4(i,e){const n=Ue(i),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((b,S)=>{const T=o.get(S);if(!T)return;m.push(n.Pi.removeMatchingKeys(c,b.removedDocuments,S).next(()=>n.Pi.addMatchingKeys(c,b.addedDocuments,S)));let V=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?V=V.withResumeToken(Gt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(b.resumeToken,a)),o=o.insert(S,V),function(N,j,ee){return N.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=G4?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0}(T,V,b)&&m.push(n.Pi.updateTargetData(c,V))});let y=ta(),E=ze();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))}),m.push(Q4(c,f,e.documentUpdates).next(b=>{y=b.ks,E=b.qs})),!a.isEqual(Te.min())){const b=n.Pi.getLastRemoteSnapshotVersion(c).next(S=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a));m.push(b)}return W.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,E)).next(()=>y)}).then(c=>(n.Ms=o,c))}function Q4(i,e,n){let a=ze(),o=ze();return n.forEach(c=>a=a.add(c)),e.getEntries(i,a).next(c=>{let f=ta();return n.forEach((m,y)=>{const E=c.get(m);y.isFoundDocument()!==E.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Te.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||y.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):le(Pp,"Ignoring outdated watch update for ",m,". Current version:",E.version," Watch version:",y.version)}),{ks:f,qs:o}})}function X4(i,e){const n=Ue(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Pi.getTargetData(a,e).next(c=>c?(o=c,W.resolve(o)):n.Pi.allocateTargetId(a).next(f=>(o=new Bi(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a})}async function Gm(i,e,n){const a=Ue(i),o=a.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!To(f))throw f;le(Pp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function M_(i,e,n){const a=Ue(i);let o=Te.min(),c=ze();return a.persistence.runTransaction("Execute query","readwrite",f=>function(y,E,b){const S=Ue(y),T=S.xs.get(b);return T!==void 0?W.resolve(S.Ms.get(T)):S.Pi.getTargetData(E,b)}(a,f,yr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>a.Fs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?c:ze())).next(m=>(Z4(a,qO(e),m),{documents:m,Qs:c})))}function Z4(i,e,n){let a=i.Os.get(e)||Te.min();n.forEach((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),i.Os.set(e,a)}class V_{constructor(){this.activeTargetIds=$O()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W4{constructor(){this.Mo=new V_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V_,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="ConnectivityMonitor";class k_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(L_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(L_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function $m(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="RestConnection",eM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===yh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,c){const f=$m(),m=this.zo(e,n.toUriEncodedString());le(Em,`Sending RPC '${e}' ${f}:`,m,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:E}=new URL(m),b=Eo(E);return this.Jo(e,m,y,a,b).then(S=>(le(Em,`Received RPC '${e}' ${f}: `,S),S),S=>{throw lo(Em,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",a),S})}Ho(e,n,a,o,c,f){return this.Go(e,n,a,o,c)}jo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),a&&a.headers.forEach((o,c)=>e[c]=o)}zo(e,n){const a=eM[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class rM extends tM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,c){const f=$m();return new Promise((m,y)=>{const E=new jb;E.setWithCredentials(!0),E.listenOnce(Gb.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case nh.NO_ERROR:const S=E.getResponseJson();le(Qt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case nh.TIMEOUT:le(Qt,`RPC '${e}' ${f} timed out`),y(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const T=E.getStatus();if(le(Qt,`RPC '${e}' ${f} failed with status:`,T,"response text:",E.getResponseText()),T>0){let V=E.getResponseJson();Array.isArray(V)&&(V=V[0]);const F=V?.error;if(F&&F.status&&F.message){const N=function(ee){const te=ee.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(te)>=0?te:re.UNKNOWN}(F.status);y(new fe(N,F.message))}else y(new fe(re.UNKNOWN,"Server responded with status "+E.getStatus()))}else y(new fe(re.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:f,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{le(Qt,`RPC '${e}' ${f} completed.`)}});const b=JSON.stringify(o);le(Qt,`RPC '${e}' ${f} sending request:`,o),E.send(n,"POST",b,a,15)})}T_(e,n,a){const o=$m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Yb(),m=Kb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const b=c.join("");le(Qt,`Creating RPC '${e}' stream ${o}: ${b}`,y);const S=f.createWebChannel(b,y);this.I_(S);let T=!1,V=!1;const F=new nM({Yo:j=>{V?le(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(T||(le(Qt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),T=!0),le(Qt,`RPC '${e}' stream ${o} sending:`,j),S.send(j))},Zo:()=>S.close()}),N=(j,ee,te)=>{j.listen(ee,oe=>{try{te(oe)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return N(S,Vl.EventType.OPEN,()=>{V||(le(Qt,`RPC '${e}' stream ${o} transport opened.`),F.o_())}),N(S,Vl.EventType.CLOSE,()=>{V||(V=!0,le(Qt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(S))}),N(S,Vl.EventType.ERROR,j=>{V||(V=!0,lo(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),F.a_(new fe(re.UNAVAILABLE,"The operation could not be completed")))}),N(S,Vl.EventType.MESSAGE,j=>{if(!V){const ee=j.data[0];at(!!ee,16349);const te=ee,oe=te?.error||te[0]?.error;if(oe){le(Qt,`RPC '${e}' stream ${o} received error:`,oe);const Ae=oe.status;let me=function(R){const I=vt[R];if(I!==void 0)return vT(I)}(Ae),Pe=oe.message;me===void 0&&(me=re.INTERNAL,Pe="Unknown error status: "+Ae+" with message "+oe.message),V=!0,F.a_(new fe(me,Pe)),S.close()}else le(Qt,`RPC '${e}' stream ${o} received:`,ee),F.u_(ee)}}),N(m,$b.STAT_EVENT,j=>{j.stat===Pm.PROXY?le(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Pm.NOPROXY&&le(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.__()},0),F}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(i){return new u4(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="PersistentStream";class iM{constructor(e,n,a,o,c,f,m,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===n&&this.G_(a,o)},a=>{e(()=>{const o=new fe(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return le(U_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(le(U_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aM extends iM{constructor(e,n,a,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=p4(this.serializer,e),a=function(c){if(!("targetChange"in c))return Te.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?io(f.readTime):Te.min()}(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=D_(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=zm(y)?{documents:g4(c,y)}:{query:y4(c,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=f4(c,f.resumeToken);const E=Hm(c,f.expectedCount);E!==null&&(m.expectedCount=E)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=h4(c,f.snapshotVersion.toTimestamp());const E=Hm(c,f.expectedCount);E!==null&&(m.expectedCount=E)}return m}(this.serializer,e);const a=v4(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=D_(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{}class oM extends sM{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Go(e,jm(n,a),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(re.UNKNOWN,c.toString())})}Ho(e,n,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,jm(n,a),o,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(re.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class lM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ii(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="RemoteStore";class cM{constructor(e,n,a,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(f=>{a.enqueueAndForget(async()=>{gc(this)&&(le(mo,"Restarting streams for network reachability change."),await async function(y){const E=Ue(y);E.Ea.add(4),await pc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await jh(E)}(this))})}),this.Ra=new lM(a,o)}}async function jh(i){if(gc(i))for(const e of i.da)await e(!0)}async function pc(i){for(const e of i.da)await e(!1)}function MT(i,e){const n=Ue(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Lp(n)?Vp(n):Co(n).O_()&&Mp(n,e))}function Op(i,e){const n=Ue(i),a=Co(n);n.Ia.delete(e),a.O_()&&VT(n,e),n.Ia.size===0&&(a.O_()?a.L_():gc(n)&&n.Ra.set("Unknown"))}function Mp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(i).Y_(e)}function VT(i,e){i.Va.Ue(e),Co(i).Z_(e)}function Vp(i){i.Va=new s4({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Co(i).start(),i.Ra.ua()}function Lp(i){return gc(i)&&!Co(i).x_()&&i.Ia.size>0}function gc(i){return Ue(i).Ea.size===0}function LT(i){i.Va=void 0}async function uM(i){i.Ra.set("Online")}async function hM(i){i.Ia.forEach((e,n)=>{Mp(i,e)})}async function fM(i,e){LT(i),Lp(i)?(i.Ra.ha(e),Vp(i)):i.Ra.set("Unknown")}async function dM(i,e,n){if(i.Ra.set("Online"),e instanceof bT&&e.state===2&&e.cause)try{await async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(a){le(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await z_(i,a)}else if(e instanceof ah?i.Va.Ze(e):e instanceof _T?i.Va.st(e):i.Va.tt(e),!n.isEqual(Te.min()))try{const a=await xT(i.localStore);n.compareTo(a)>=0&&await function(c,f){const m=c.Va.Tt(f);return m.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(E);b&&c.Ia.set(E,b.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,E)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(Gt.EMPTY_BYTE_STRING,b.snapshotVersion)),VT(c,y);const S=new Bi(b.target,y,E,b.sequenceNumber);Mp(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(a){le(mo,"Failed to raise snapshot:",a),await z_(i,a)}}async function z_(i,e,n){if(!To(e))throw e;i.Ea.add(1),await pc(i),i.Ra.set("Offline"),n||(n=()=>xT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{le(mo,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await jh(i)})}async function q_(i,e){const n=Ue(i);n.asyncQueue.verifyOperationInProgress(),le(mo,"RemoteStore received new credentials");const a=gc(n);n.Ea.add(3),await pc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jh(n)}async function mM(i,e){const n=Ue(i);e?(n.Ea.delete(2),await jh(n)):e||(n.Ea.add(2),await pc(n),n.Ra.set("Unknown"))}function Co(i){return i.ma||(i.ma=function(n,a,o){const c=Ue(n);return c.sa(),new aM(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(i.datastore,i.asyncQueue,{Xo:uM.bind(null,i),t_:hM.bind(null,i),r_:fM.bind(null,i),H_:dM.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),Lp(i)?Vp(i):i.Ra.set("Unknown")):(await i.ma.stop(),LT(i))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,a,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,c){const f=Date.now()+a,m=new kp(e,n,f,o,c);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kT(i,e){if(ii("AsyncQueue",`${e}: ${i}`),To(i))return new fe(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ye.comparator(n.key,a.key):(n,a)=>ye.comparator(n.key,a.key),this.keyedMap=Ll(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new ao;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.ga=new mt(ye.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,a)=>{e.push(a)}),e}}class po{constructor(e,n,a,o,c,f,m,y,E){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,n,a,o,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new po(e,n,ao.emptySet(n),f,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class gM{constructor(){this.queries=F_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ue(n),c=o.queries;o.queries=F_(),c.forEach((f,m)=>{for(const y of m.Sa)y.onError(a)})})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function F_(){return new es(i=>uT(i),zh)}async function UT(i,e){const n=Ue(i);let a=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new pM,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=kT(f,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Up(n)}async function zT(i,e){const n=Ue(i),a=e.query;let o=3;const c=n.queries.get(a);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function yM(i,e){const n=Ue(i);let a=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.Sa)m.Fa(o)&&(a=!0);f.wa=o}}a&&Up(n)}function EM(i,e,n){const a=Ue(i),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);a.queries.delete(e)}function Up(i){i.Ca.forEach(e=>{e.next()})}var Km,H_;(H_=Km||(Km={})).Ma="default",H_.Cache="cache";class qT{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new po(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.key=e}}class FT{constructor(e){this.key=e}}class vM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=hT(e),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new B_,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,E=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,S)=>{const T=o.get(b),V=qh(this.query,S)?S:null,F=!!T&&this.mutatedKeys.has(T.key),N=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let j=!1;T&&V?T.data.isEqual(V.data)?F!==N&&(a.track({type:3,doc:V}),j=!0):this.su(T,V)||(a.track({type:2,doc:V}),j=!0,(y&&this.eu(V,y)>0||E&&this.eu(V,E)<0)&&(m=!0)):!T&&V?(a.track({type:0,doc:V}),j=!0):T&&!V&&(a.track({type:1,doc:T}),j=!0,(y||E)&&(m=!0)),j&&(V?(f=f.add(V),c=N?c.add(b):c.delete(b)):(f=f.delete(b),c=c.delete(b)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:f,iu:a,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((b,S)=>function(V,F){const N=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:j})}};return N(V)-N(F)}(b.type,S.type)||this.eu(b.doc,S.doc)),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,E=y!==this.Za;return this.Za=y,f.length!==0||E?{snapshot:new po(this.query,e.tu,c,f,e.mutatedKeys,y===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const n=[];return e.forEach(a=>{this.Xa.has(a)||n.push(new FT(a))}),this.Xa.forEach(a=>{e.has(a)||n.push(new BT(a))}),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zp="SyncEngine";class _M{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class bM{constructor(e){this.key=e,this.hu=!1}}class TM{constructor(e,n,a,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new es(m=>uT(m),zh),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ye.comparator),this.Au=new Map,this.Ru=new Np,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CM(i,e,n=!0){const a=KT(i);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await HT(a,e,n,!0),o}async function AM(i,e){const n=KT(i);await HT(n,e,!0,!1)}async function HT(i,e,n,a){const o=await X4(i.localStore,yr(e)),c=o.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return a&&(m=await SM(i,e,c,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&MT(i.remoteStore,o),m}async function SM(i,e,n,a,o){i.pu=(S,T,V)=>async function(N,j,ee,te){let oe=j.view.ru(ee);oe.Cs&&(oe=await M_(N.localStore,j.query,!1).then(({documents:M})=>j.view.ru(M,oe)));const Ae=te&&te.targetChanges.get(j.targetId),me=te&&te.targetMismatches.get(j.targetId)!=null,Pe=j.view.applyChanges(oe,N.isPrimaryClient,Ae,me);return G_(N,j.targetId,Pe.au),Pe.snapshot}(i,S,T,V);const c=await M_(i.localStore,e,!0),f=new vM(e,c.Qs),m=f.ru(c.documents),y=mc.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),E=f.applyChanges(m,i.isPrimaryClient,y);G_(i,n,E.au);const b=new _M(e,n,f);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),E.snapshot}async function RM(i,e,n){const a=Ue(i),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter(f=>!zh(f,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Op(a.remoteStore,o.targetId),Ym(a,o.targetId)}).catch(Mh)):(Ym(a,o.targetId),await Gm(a.localStore,o.targetId,!0))}async function wM(i,e){const n=Ue(i),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Op(n.remoteStore,a.targetId))}async function jT(i,e){const n=Ue(i);try{const a=await Y4(n.localStore,e);e.targetChanges.forEach((o,c)=>{const f=n.Au.get(c);f&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?at(f.hu,14607):o.removedDocuments.size>0&&(at(f.hu,42227),f.hu=!1))}),await $T(n,a,e)}catch(a){await Mh(a)}}function j_(i,e,n){const a=Ue(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=Ue(f);y.onlineState=m;let E=!1;y.queries.forEach((b,S)=>{for(const T of S.Sa)T.va(m)&&(E=!0)}),E&&Up(y)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function IM(i,e,n){const a=Ue(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),c=o&&o.key;if(c){let f=new mt(ye.comparator);f=f.insert(c,Zt.newNoDocument(c,Te.min()));const m=ze().add(c),y=new Hh(Te.min(),new Map,new mt(Oe),f,m);await jT(a,y),a.du=a.du.remove(c),a.Au.delete(e),qp(a)}else await Gm(a.localStore,e,!1).then(()=>Ym(a,e,n)).catch(Mh)}function Ym(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),n&&i.Pu.yu(a,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(a=>{i.Ru.containsKey(a)||GT(i,a)})}function GT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Op(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),qp(i))}function G_(i,e,n){for(const a of n)a instanceof BT?(i.Ru.addReference(a.key,e),NM(i,a)):a instanceof FT?(le(zp,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||GT(i,a.key)):Ce(19791,{wu:a})}function NM(i,e){const n=e.key,a=n.path.canonicalString();i.du.get(n)||i.Eu.has(a)||(le(zp,"New document in limbo: "+n),i.Eu.add(a),qp(i))}function qp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(et.fromString(e)),a=i.fu.next();i.Au.set(a,new bM(n)),i.du=i.du.insert(n,a),MT(i.remoteStore,new Bi(yr(Sp(n.path)),a,"TargetPurposeLimboResolution",Vh.ce))}}async function $T(i,e,n){const a=Ue(i),o=[],c=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach((m,y)=>{f.push(a.pu(y,e,n).then(E=>{if((E||n)&&a.isPrimaryClient){const b=E?!E.fromCache:n?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(E){o.push(E);const b=xp.As(y.targetId,E);c.push(b)}}))}),await Promise.all(f),a.Pu.H_(o),await async function(y,E){const b=Ue(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(E,T=>W.forEach(T.Es,V=>b.persistence.referenceDelegate.addReference(S,T.targetId,V)).next(()=>W.forEach(T.ds,V=>b.persistence.referenceDelegate.removeReference(S,T.targetId,V)))))}catch(S){if(!To(S))throw S;le(Pp,"Failed to update sequence numbers: "+S)}for(const S of E){const T=S.targetId;if(!S.fromCache){const V=b.Ms.get(T),F=V.snapshotVersion,N=V.withLastLimboFreeSnapshotVersion(F);b.Ms=b.Ms.insert(T,N)}}}(a.localStore,c))}async function DM(i,e){const n=Ue(i);if(!n.currentUser.isEqual(e)){le(zp,"User change. New user:",e.toKey());const a=await DT(n.localStore,e);n.currentUser=e,function(c,f){c.mu.forEach(m=>{m.forEach(y=>{y.reject(new fe(re.CANCELLED,f))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $T(n,a.Ls)}}function xM(i,e){const n=Ue(i),a=n.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let o=ze();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function KT(i){const e=Ue(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=jT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IM.bind(null,e),e.Pu.H_=yM.bind(null,e.eventManager),e.Pu.yu=EM.bind(null,e.eventManager),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=PT(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return K4(this.persistence,new j4,e.initialUser,this.serializer)}Cu(e){return new NT(Dp.mi,this.serializer)}Du(e){return new W4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class PM extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof Th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new N4(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new NT(a=>Th.mi(a,n),this.serializer)}}class Qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>j_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DM.bind(null,this.syncEngine),await mM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gM}()}createDatastore(e){const n=PT(e.databaseInfo.databaseId),a=function(c){return new rM(c)}(e.databaseInfo);return function(c,f,m,y){return new oM(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,c,f,m){return new cM(a,o,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>j_(this.syncEngine,n,0),function(){return k_.v()?new k_:new J4}())}createSyncEngine(e,n){return function(o,c,f,m,y,E,b){const S=new TM(o,c,f,m,y,E);return b&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const a=Ue(n);le(mo,"RemoteStore shutting down."),a.Ea.add(5),await pc(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qm.provider={build:()=>new Qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="FirestoreClient";class OM{constructor(e,n,a,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=_p.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async f=>{le(na,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(le(na,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=kT(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function _m(i,e){i.asyncQueue.verifyOperationInProgress(),le(na,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await DT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function $_(i,e){i.asyncQueue.verifyOperationInProgress();const n=await MM(i);le(na,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>q_(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>q_(e.remoteStore,o)),i._onlineComponents=e}async function MM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(na,"Using user provided OfflineComponentProvider");try{await _m(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await _m(i,new Ch)}}else le(na,"Using default OfflineComponentProvider"),await _m(i,new PM(void 0));return i._offlineComponents}async function VM(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(na,"Using user provided OnlineComponentProvider"),await $_(i,i._uninitializedComponentsProvider._online)):(le(na,"Using default OnlineComponentProvider"),await $_(i,new Qm))),i._onlineComponents}async function QT(i){const e=await VM(i),n=e.eventManager;return n.onListen=CM.bind(null,e.syncEngine),n.onUnlisten=RM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wM.bind(null,e.syncEngine),n}function LM(i,e,n={}){const a=new $i;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,E){const b=new YT({next:T=>{b.Nu(),f.enqueueAndForget(()=>zT(c,S));const V=T.docs.has(m);!V&&T.fromCache?E.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&T.fromCache&&y&&y.source==="server"?E.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(T)},error:T=>E.reject(T)}),S=new qT(Sp(m.path),b,{includeMetadataChanges:!0,qa:!0});return UT(c,S)}(await QT(i),i.asyncQueue,e,n,a)),a.promise}function kM(i,e,n={}){const a=new $i;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,E){const b=new YT({next:T=>{b.Nu(),f.enqueueAndForget(()=>zT(c,S)),T.fromCache&&y.source==="server"?E.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(T)},error:T=>E.reject(T)}),S=new qT(m,b,{includeMetadataChanges:!0,qa:!0});return UT(c,S)}(await QT(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firestore.googleapis.com",Y_=!0;class Q_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZT,this.ssl=Y_}else this.host=e.host,this.ssl=e.ssl??Y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w4)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new ZP;switch(a.type){case"firstParty":return new tO(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=K_.get(n);a&&(le("ComponentProvider","Removing Datastore"),K_.delete(n),a.terminate())}(this),Promise.resolve()}}function UM(i,e,n,a={}){i=Jl(i,Gh);const o=Eo(e),c=i._getSettings(),f={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(S0(`https://${m}`),R0("Firestore",!0)),c.host!==ZT&&c.host!==m&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:o,emulatorOptions:a};if(!Xi(y,f)&&(i._setSettings(y),a.mockUserToken)){let E,b;if(typeof a.mockUserToken=="string")E=a.mockUserToken,b=Xt.MOCK_USER;else{E=g1(a.mockUserToken,i._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Xt(S)}i._authCredentials=new WP(new Xb(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new $h(this.firestore,e,this._query)}}class Wt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(fc(n,Wt._jsonSchema))return new Wt(e,a||null,new ye(et.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Tt("string",Wt._jsonSchemaVersion),referencePath:Tt("string")};class Ki extends $h{constructor(e,n,a){super(e,n,Sp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ye(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function Yu(i,e,...n){if(i=Un(i),Zb("collection","path",e),i instanceof Gh){const a=et.fromString(e,...n);return l_(a),new Ki(i,null,a)}{if(!(i instanceof Wt||i instanceof Ki))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(et.fromString(e,...n));return l_(a),new Ki(i.firestore,null,a)}}function zM(i,e,...n){if(i=Un(i),arguments.length===1&&(e=_p.newId()),Zb("doc","path",e),i instanceof Gh){const a=et.fromString(e,...n);return o_(a),new Wt(i,null,new ye(a))}{if(!(i instanceof Wt||i instanceof Ki))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(et.fromString(e,...n));return o_(a),new Wt(i.firestore,i instanceof Ki?i.converter:null,new ye(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="AsyncQueue";class Z_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OT(this,"async_queue_retry"),this._c=()=>{const a=vm();a&&le(X_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new $i;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;le(X_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,ii("INTERNAL UNHANDLED ERROR: ",W_(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=kp.createAndSchedule(this,e,n,a,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:W_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function W_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Bp extends Gh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new Z_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z_(e),this._firestoreClient=void 0,await e}}}function qM(i,e){const n=typeof i=="object"?i:oc(),a=typeof i=="string"?i:yh,o=Ja(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=m1("firestore");c&&UM(o,...c)}return o}function WT(i){if(i._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||BM(i),i._firestoreClient}function BM(i){const e=i._freezeSettings(),n=function(o,c,f,m){return new bO(o,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,XT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new OM(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gr(Gt.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gr(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fc(e,gr._jsonSchema))return gr.fromBase64String(e.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:Tt("string",gr._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(e){if(fc(e,Yi._jsonSchema))return new Yi(e.latitude,e.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Tt("string",Yi._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fc(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Qi(e.vectorValues);throw new fe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:Tt("string",Qi._jsonSchemaVersion),vectorValues:Tt("object")};const FM=new RegExp("[~\\*/\\[\\]]");function HM(i,e,n){if(e.search(FM)>=0)throw J_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new JT(...e.split("."))._internalPath}catch{throw J_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function J_(i,e,n,a,o){let c=`Function ${e}() called with invalid data`;c+=". ";let f="";return new fe(re.INVALID_ARGUMENT,c+i+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,a,o,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jM extends eC{data(){return super.data()}}function tC(i,e){return typeof e=="string"?HM(i,e):e instanceof JT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $M{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return dc(e,(o,c)=>{a[o]=this.convertValue(c,n)}),a}convertVectorValue(e){const n=e.fields?.[Vm].arrayValue?.values?.map(a=>dt(a.doubleValue));return new Qi(n)}convertGeoPoint(e){return new Yi(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=kh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=et.fromString(e);at(wT(a),9688,{name:e});const o=new nc(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return o.isEqual(n)||ii(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $a extends eC{constructor(e,n,a,o,c,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(tC("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$a._jsonSchemaVersion="firestore/documentSnapshot/1.0",$a._jsonSchema={type:Tt("string",$a._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class sh extends $a{data(e={}){return super.data(e)}}class so{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new sh(this._firestore,this._userDataWriter,a.key,a,new Ul(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let E=-1,b=-1;return m.type!==0&&(E=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:KM(m.type),doc:y,oldIndex:E,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_p.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(i){i=Jl(i,Wt);const e=Jl(i.firestore,Bp);return LM(WT(e),i._key).then(n=>QM(e,i,n))}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Tt("string",so._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class nC extends $M{constructor(e){super(),this.firestore=e}convertBytes(e){return new gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function Qu(i){i=Jl(i,$h);const e=Jl(i.firestore,Bp),n=WT(e),a=new nC(e);return GM(i._query),kM(n,i._query).then(o=>new so(e,a,i,o))}function QM(i,e,n){const a=n.docs.get(e._key),o=new nC(i);return new $a(i,o,e._key,a,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){bo=o})(_o),vr(new Kn("firestore",(a,{instanceIdentifier:o,options:c})=>{const f=a.getProvider("app").getImmediate(),m=new Bp(new JP(a.getProvider("auth-internal")),new nO(f,a.getProvider("app-check-internal")),function(E,b){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(E.options.projectId,b)}(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),kn(r_,i_,e),kn(r_,i_,"esm2020")})();const rC={apiKey:"AIzaSyB-yCOt8Cc0cNtCxwXrQZLrG3vvYgX5nc8",authDomain:"formularios-9ecc5.firebaseapp.com",projectId:"formularios-9ecc5",storageBucket:"formularios-9ecc5.firebasestorage.app",messagingSenderId:"358726414251",appId:"1:358726414251:web:de988290955c5fb9b86cee"},iC=O0().length===0?rp(rC):oc(),Ws=qM(iC),XM=async i=>{try{console.log("Firestore: Obteniendo formulario enviado por ID:",i);const e=zM(Ws,"formulariosEnviados",i),n=await YM(e);if(n.exists()){const a=n.data();return console.log("Firestore: Formulario enviado obtenido:",a),{id:n.id,...a}}else return console.log("Firestore: Formulario enviado no encontrado"),console.log("Firestore: Intentando buscar en todas las colecciones..."),await ZM(i),null}catch(e){throw console.error("Error al obtener formulario enviado por ID:",e),e}},ZM=async i=>{try{console.log("=== DEBUG: Buscando formulario en todas las colecciones ==="),console.log("Firebase App:",iC),console.log("Firestore DB:",Ws),console.log("Project ID:",rC.projectId),console.log("Verificando conexión a Firestore..."),console.log("1. Buscando en formulariosEnviados...");try{const e=await Qu(Yu(Ws,"formulariosEnviados"));console.log("Total formularios enviados:",e.size),e.forEach(n=>{console.log("ID:",n.id,"Data:",n.data())})}catch(e){console.error("Error al obtener formulariosEnviados:",e)}console.log("2. Buscando en formularios...");try{const e=await Qu(Yu(Ws,"formularios"));console.log("Total formularios:",e.size),e.forEach(n=>{console.log("ID:",n.id,"Data:",n.data())})}catch(e){console.error("Error al obtener formularios:",e)}console.log("3. Buscando en empresas...");try{const e=await Qu(Yu(Ws,"empresas"));console.log("Total empresas:",e.size),e.forEach(n=>{console.log("ID:",n.id,"Data:",n.data())})}catch(e){console.error("Error al obtener empresas:",e)}console.log("4. Buscando en usuarios...");try{const e=await Qu(Yu(Ws,"usuarios"));console.log("Total usuarios:",e.size),e.forEach(n=>{console.log("ID:",n.id,"Data:",n.data())})}catch(e){console.error("Error al obtener usuarios:",e)}console.log("=== FIN DEBUG ===")}catch(e){console.error("Error en debug:",e)}},WM=({formularioEnviado:i,onAccesoValido:e,onAccesoDenegado:n})=>{const[a,o]=K.useState(""),[c,f]=K.useState(""),[m,y]=K.useState(!1),E=async T=>{T.preventDefault(),f(""),y(!0);try{a.trim()===i.telefono?e():(f("El teléfono ingresado no coincide con el registrado para este formulario."),n())}catch(V){f("Error al validar el acceso. Por favor, intente nuevamente."),console.error("Error en validación:",V)}finally{y(!1)}};return(()=>{const T=new Date,V=i.fechaLimite?.toDate();return!!(V&&T>V)})()?p.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},p.createElement("div",{className:"max-w-md w-full space-y-8"},p.createElement("div",{className:"text-center"},p.createElement("div",{className:"mx-auto h-16 w-16 bg-red-100 rounded-full flex items-center justify-center mb-4"},p.createElement("svg",{className:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"}))),p.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-4"},"Formulario Expirado"),p.createElement("p",{className:"text-lg text-gray-600 mb-6"},"Lo sentimos, el tiempo límite para completar este formulario ha expirado."),p.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},p.createElement("div",{className:"text-sm text-red-800"},p.createElement("p",{className:"font-medium mb-2"},"Detalles del formulario:"),p.createElement("p",null,p.createElement("strong",null,"Nombre:")," ",i.nombrePersona),p.createElement("p",null,p.createElement("strong",null,"Fecha límite:")," ",i.fechaLimite?.toDate().toLocaleDateString("es-CO")),p.createElement("p",null,p.createElement("strong",null,"Estado:")," ",p.createElement("span",{className:"text-red-600 font-medium"},"Expirado")))),p.createElement("p",{className:"text-sm text-gray-500"},"Si considera que esto es un error, por favor contacte a la empresa que le envió este formulario.")))):p.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},p.createElement("div",{className:"max-w-md w-full space-y-8"},p.createElement("div",{className:"text-center"},p.createElement("div",{className:"mx-auto h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mb-4"},p.createElement("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"}))),p.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-4"},"Validación de Acceso"),p.createElement("p",{className:"text-lg text-gray-600 mb-6"},"Para acceder al formulario, ingrese su número de teléfono registrado.")),p.createElement("div",{className:"bg-white shadow rounded-lg p-6 mb-6"},p.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Información del Formulario"),p.createElement("div",{className:"space-y-2 text-sm"},p.createElement("div",{className:"flex justify-between"},p.createElement("span",{className:"text-gray-600"},"Nombre:"),p.createElement("span",{className:"font-medium text-gray-900"},i.nombrePersona)),p.createElement("div",{className:"flex justify-between"},p.createElement("span",{className:"text-gray-600"},"Tipo:"),p.createElement("span",{className:"font-medium text-gray-900"},i.tipoFormulario==="pep"?"Formulario PEP":"Formulario de Vinculación")),p.createElement("div",{className:"flex justify-between"},p.createElement("span",{className:"text-gray-600"},"Fecha límite:"),p.createElement("span",{className:"font-medium text-gray-900"},i.fechaLimite?.toDate().toLocaleDateString("es-CO"))),p.createElement("div",{className:"flex justify-between"},p.createElement("span",{className:"text-gray-600"},"Estado:"),p.createElement("span",{className:`font-medium ${i.estado==="pendiente"?"text-yellow-600":i.estado==="completado"?"text-green-600":"text-gray-600"}`},i.estado==="pendiente"?"Pendiente":i.estado==="completado"?"Completado":"Expirado")))),p.createElement("form",{className:"mt-8 space-y-6",onSubmit:E},p.createElement("div",null,p.createElement("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700 mb-2"},"Número de Teléfono"),p.createElement("input",{id:"telefono",name:"telefono",type:"tel",required:!0,value:a,onChange:T=>o(T.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Ingrese su número de teléfono"})),c&&p.createElement("div",{className:"bg-red-50 border border-red-200 rounded-md p-4"},p.createElement("div",{className:"flex"},p.createElement("div",{className:"flex-shrink-0"},p.createElement("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},p.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))),p.createElement("div",{className:"ml-3"},p.createElement("p",{className:"text-sm text-red-800"},c)))),p.createElement("div",null,p.createElement("button",{type:"submit",disabled:m||!a.trim(),className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${m||!a.trim()?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`},m?p.createElement("div",{className:"flex items-center"},p.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},p.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Validando..."):"Acceder al Formulario"))),p.createElement("div",{className:"text-center"},p.createElement("p",{className:"text-sm text-gray-500"},"Si no recuerda su número de teléfono, contacte a la empresa que le envió este formulario."))))},JM=()=>{const{id:i}=u0(),[e,n]=K.useState(null),[a,o]=K.useState(!0),[c,f]=K.useState(""),[m,y]=K.useState(!1);K.useEffect(()=>{E()},[i]);const E=async()=>{try{if(o(!0),f(""),!i){f("ID de formulario no proporcionado");return}const F=await XM(i);if(!F){f("Formulario no encontrado");return}if(!F.activo){f("Este formulario no está activo");return}n(F)}catch(F){console.error("Error al cargar formulario:",F),f("Error al cargar el formulario. Por favor, intente nuevamente.")}finally{o(!1)}},b=()=>{y(!0)},S=()=>{},T=()=>{if(!e)return null;const F={personaId:e.id,formularioEnviado:e};switch(e.tipoFormulario){case"vinculacion_clientes":return p.createElement(Bb,{...F});case"pep":return p.createElement(Fb,{...F});default:return p.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},p.createElement("div",{className:"text-center"},p.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-4"},"Tipo de formulario no válido"),p.createElement("p",{className:"text-gray-600"},'El tipo de formulario "',e.tipoFormulario,'" no es válido.')))}},V=()=>{if(!e)return null;const F=e.fechaEnvio?.toDate(),N=e.fechaLimite?.toDate();return p.createElement("div",{className:"bg-white shadow-sm border-b px-4 py-3"},p.createElement("div",{className:"max-w-4xl mx-auto"},p.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},p.createElement("div",{className:"mb-4 sm:mb-0"},p.createElement("h1",{className:"text-lg font-semibold text-gray-900 mb-2"},e.tipoFormulario==="pep"?"Formulario PEP":"Formulario de Vinculación"),p.createElement("div",{className:"text-sm text-gray-600 space-y-1"},p.createElement("p",null,p.createElement("strong",null,"Nombre:")," ",e.nombrePersona),p.createElement("p",null,p.createElement("strong",null,"Fecha de creación:")," ",F?.toLocaleDateString("es-CO")),p.createElement("p",null,p.createElement("strong",null,"Fecha límite:")," ",N?.toLocaleDateString("es-CO")))),p.createElement("div",{className:"flex items-center space-x-4"},p.createElement("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${e.estado==="pendiente"?"bg-yellow-100 text-yellow-800":e.estado==="completado"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`},e.estado==="pendiente"?"Pendiente":e.estado==="completado"?"Completado":"Expirado")))))};return a?p.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},p.createElement("div",{className:"text-center"},p.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),p.createElement("p",{className:"mt-4 text-gray-600"},"Cargando formulario..."))):c?p.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},p.createElement("div",{className:"max-w-md w-full space-y-8"},p.createElement("div",{className:"text-center"},p.createElement("div",{className:"mx-auto h-16 w-16 bg-red-100 rounded-full flex items-center justify-center mb-4"},p.createElement("svg",{className:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"}))),p.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-4"},"Error"),p.createElement("p",{className:"text-lg text-gray-600 mb-6"},c),p.createElement("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},"Intentar nuevamente")))):m?p.createElement("div",null,V(),T()):p.createElement(WM,{formularioEnviado:e,onAccesoValido:b,onAccesoDenegado:S})},e0=({onLoginSuccess:i})=>{const[e,n]=K.useState(""),[a,o]=K.useState(""),[c,f]=K.useState(""),[m,y]=K.useState("phone"),[E,b]=K.useState(!1),[S,T]=K.useState("");K.useEffect(()=>{P2("recaptcha-container")},[]);const V=async j=>{j.preventDefault(),b(!0),T("");try{const ee=await O2(e);f(ee.verificationId),y("code"),b(!1)}catch(ee){console.error("Error al enviar código:",ee),T("Error al enviar el código. Verifica el número de teléfono."),b(!1)}},F=async j=>{j.preventDefault(),b(!0),T("");try{await M2(c,a),i()}catch(ee){console.error("Error al verificar código:",ee),T("Código incorrecto. Intenta nuevamente."),b(!1)}},N=()=>{y("phone"),o(""),T("")};return p.createElement("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},p.createElement("div",{className:"sm:mx-auto sm:w-full sm:max-w-md"},p.createElement("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Iniciar Sesión"),p.createElement("p",{className:"mt-2 text-center text-sm text-gray-600"},"Ingresa con tu número de teléfono")),p.createElement("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},p.createElement("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},m==="phone"?p.createElement("form",{onSubmit:V,className:"space-y-6"},p.createElement("div",null,p.createElement("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700"},"Número de Teléfono"),p.createElement("div",{className:"mt-1"},p.createElement("input",{id:"phone",name:"phone",type:"tel",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"+1234567890",value:e,onChange:j=>n(j.target.value)}))),p.createElement("div",{id:"recaptcha-container"}),S&&p.createElement("div",{className:"text-red-600 text-sm text-center"},S),p.createElement("div",{className:"space-y-3"},p.createElement("button",{type:"submit",disabled:E,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},E?"Enviando...":"Enviar Código"),p.createElement("button",{type:"button",onClick:()=>i(),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},"🧪 Ingresar sin Login (Pruebas)"))):p.createElement("form",{onSubmit:F,className:"space-y-6"},p.createElement("div",null,p.createElement("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700"},"Código de Verificación"),p.createElement("div",{className:"mt-1"},p.createElement("input",{id:"code",name:"code",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"123456",value:a,onChange:j=>o(j.target.value),maxLength:6})),p.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Ingresa el código de 6 dígitos enviado a ",e)),S&&p.createElement("div",{className:"text-red-600 text-sm text-center"},S),p.createElement("div",{className:"flex space-x-3"},p.createElement("button",{type:"button",onClick:N,className:"flex-1 py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},"Volver"),p.createElement("button",{type:"submit",disabled:E,className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},E?"Verificando...":"Verificar"))))))},eV=({message:i="Acceso denegado"})=>{const e=Sh(),n=()=>{e("/")};return p.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},p.createElement("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center"},p.createElement("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-6"},p.createElement("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"}))),p.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-4"},i),p.createElement("p",{className:"text-gray-600 mb-6"},"No tienes permisos para acceder a este formulario. Asegúrate de tener un ID de persona válido en la URL."),p.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6"},p.createElement("h3",{className:"text-sm font-medium text-yellow-800 mb-2"},"ℹ️ Información requerida:"),p.createElement("p",{className:"text-sm text-yellow-700"},"La URL debe incluir un ID de persona válido para acceder a los formularios.")),p.createElement("button",{onClick:n,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md font-medium hover:bg-blue-700 transition-colors"},"Volver al Inicio")))},tV=()=>{const{tipoFormulario:i,personaId:e}=u0(),n=Sh();if(!e||e!==eo.ALLOWED_PERSONA_ID)return p.createElement(eV,{message:eo.MESSAGES.ACCESS_DENIED});const a=()=>{n("/")},o=()=>{n("/login")},c=()=>{switch(i){case"vinculacion-clientes-form":return p.createElement(Bb,{personaId:e});case"pep-form":return p.createElement(Fb,{personaId:e});default:return p.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},p.createElement("div",{className:"text-center"},p.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-4"},"Formulario no encontrado"),p.createElement("p",{className:"text-gray-600 mb-4"},'El tipo de formulario "',i,'" no existe.'),p.createElement("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},"Volver al inicio")))}},f=()=>{switch(i){case"vinculacion-clientes-form":return"Formulario de Vinculación de Clientes";case"pep-form":return"Formulario PEP (Personas Expuestas Políticamente)";default:return"Formulario"}};return p.createElement("div",null,p.createElement("div",{className:"bg-white shadow-sm border-b px-4 py-3"},p.createElement("div",{className:"flex justify-between items-center"},p.createElement("div",{className:"flex items-center space-x-4"},p.createElement("button",{onClick:a,className:"px-3 py-1 text-sm font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-md transition-colors"},"← Volver al Selector"),p.createElement("h1",{className:"text-lg font-semibold text-gray-900"},f()),e&&p.createElement("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full"},"ID: ",e)),p.createElement("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"},"Cerrar Sesión"))),c())},nV=()=>{const[i,e]=K.useState(null),[n,a]=K.useState(!1);K.useEffect(()=>{e({id:"demo-user",phone:"1234567890"})},[]);const o=()=>{e({id:"demo-user",phone:"1234567890"})},c=async()=>{e(null)};return n?p.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},p.createElement("div",{className:"text-center"},p.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),p.createElement("p",{className:"mt-4 text-gray-600"},"Cargando..."))):p.createElement("div",{className:"App"},p.createElement(wS,null,p.createElement(Ks,{path:"/formulario/:id",element:p.createElement(JM,null)}),i?p.createElement(p.Fragment,null,p.createElement(Ks,{path:"/",element:p.createElement("div",null,p.createElement("div",{className:"bg-white shadow-sm border-b px-4 py-3"},p.createElement("div",{className:"flex justify-between items-center"},p.createElement("h1",{className:"text-lg font-semibold text-gray-900"},"Sistema de Formularios"),p.createElement("button",{onClick:c,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors"},"Cerrar Sesión"))),p.createElement(XP,null))}),p.createElement(Ks,{path:"/dashboard/formulario/:tipoFormulario/:personaId",element:p.createElement(tV,null)}),p.createElement(Ks,{path:"/login",element:p.createElement(e0,{onLoginSuccess:o})})):p.createElement(Ks,{path:"*",element:p.createElement(e0,{onLoginSuccess:o})})))};function rV(){return p.createElement(XS,null,p.createElement(nV,null))}kA.createRoot(document.getElementById("root")).render(p.createElement(K.StrictMode,null,p.createElement(rV,null)));
